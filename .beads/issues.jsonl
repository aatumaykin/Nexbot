{"id":"Nexbot-03x","title":"Integrate session manager with agent loop","description":"Integrate session manager with agent loop: get_or_create, add_message, save operations","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T09:38:18.52731+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T09:43:19.7526+03:00","closed_at":"2026-02-03T09:43:19.7526+03:00","close_reason":"–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è session manager —Å agent loop –≤—ã–ø–æ–ª–Ω–µ–Ω–∞. –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Å—Å–∏—è–º–∏: GetSession, GetSessionHistory, AddMessageToSession, ClearSession, DeleteSession. –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç sessionManager.GetOrCreate, session.Append, session.Read. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —É–∂–µ –±—ã–ª–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ Process() –º–µ—Ç–æ–¥–µ, —Ç–µ–ø–µ—Ä—å –¥–æ–±–∞–≤–ª–µ–Ω—ã —è–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏—è–º–∏.","labels":["agent","integration","loop","session"]}
{"id":"Nexbot-06g","title":"Implement shell_exec tool with whitelist","description":"Implement shell_exec tool for executing shell commands with whitelist in internal/tools/shell.go","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T11:41:15.098272+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T11:49:03.770923+03:00","closed_at":"2026-02-03T11:49:03.770923+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω shell_exec tool –≤ internal/tools/shell.go. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç whitelist —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, timeout –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –∏ capture stdout/stderr. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: command. –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ.","labels":["security","shell","tools","whitelist"]}
{"id":"Nexbot-0bg","title":"v0.2.0-4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è HEARTBEAT loader –≤ serve.go","description":"# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è HEARTBEAT loader –≤ serve.go (v0.2.0-4)\n\n## –ö–æ–Ω—Ç–µ–∫—Å—Ç\nHEARTBEAT loader —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ `internal/heartbeat/loader.go` –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω (\u003e97% coverage). –¢—Ä–µ–±—É–µ—Ç—Å—è –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –≤ `cmd/nexbot/serve.go` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è proactive –∑–∞–¥–∞—á –∏–∑ HEARTBEAT.md.\n\n## –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å\n\n### 1. –î–æ–±–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã\n–í `cmd/nexbot/serve.go` –¥–æ–±–∞–≤–∏—Ç—å:\n```go\nimport (\n    ...\n    \"github.com/aatumaykin/nexbot/internal/heartbeat\"\n)\n```\n\n### 2. –ó–∞–≥—Ä—É–∑–∏—Ç—å HEARTBEAT –∑–∞–¥–∞—á–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ\n–ü–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ cron scheduler (~—Å—Ç—Ä–æ–∫–∞ ~160):\n```go\nvar heartbeatLoader *heartbeat.Loader\nif cfg.Heartbeat.Enabled {\n    log.Info(\"üíì Loading HEARTBEAT tasks\")\n    heartbeatLoader = heartbeat.NewLoader(ws.Path(), log)\n    \n    tasks, err := heartbeatLoader.Load()\n    if err != nil {\n        log.Warn(\"Failed to load HEARTBEAT tasks\", err)\n    } else {\n        log.InfoCtx(ctx, \"Loaded HEARTBEAT tasks\",\n            logger.Field{Key: \"count\", Value: len(tasks)})\n        \n        // –î–æ–±–∞–≤–∏—Ç—å HEARTBEAT –∑–∞–¥–∞—á–∏ –≤ cron scheduler\n        for _, task := range tasks {\n            job := cron.Job{\n                ID:       task.ID,\n                Schedule: task.Schedule,\n                Command:  task.Description,\n                Metadata: map[string]string{\n                    \"type\": \"heartbeat\",\n                    \"task\": task.ID,\n                },\n            }\n            if err := cronScheduler.AddJob(job); err != nil {\n                log.WarnCtx(ctx, \"Failed to add HEARTBEAT task to cron\", err,\n                    logger.Field{Key: \"task\", Value: task.ID})\n            }\n        }\n        log.InfoCtx(ctx, \"HEARTBEAT tasks added to cron scheduler\")\n    }\n}\n```\n\n### 3. –û–±—Ä–∞–±–æ—Ç–∞—Ç—å shutdown\n–í graceful shutdown —Å–µ–∫—Ü–∏–∏:\n```go\nif heartbeatLoader != nil {\n    log.Info(\"üõë HEARTBEAT loader stopped\")\n}\n```\n\n## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è\n–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ `config.example.toml` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–µ–∫—Ü–∏—é `[heartbeat]`:\n- `enabled` - –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å HEARTBEAT —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª\n- `heartbeat_file` - –∏–º—è —Ñ–∞–π–ª–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: HEARTBEAT.md)\n- `check_interval` - –∫–∞–∫ —á–∞—Å—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è (cron expression)\n- `workspace_path` - –ø—É—Ç—å –∫ workspace\n\n## HEARTBEAT.md —Ñ–æ—Ä–º–∞—Ç\n–§–∞–π–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ workspace (~/.nexbot/):\n```markdown\n# HEARTBEAT - Proactive Tasks\n\n- Task: \"Daily health check\"\n  Schedule: \"0 9 * * *\"\n  Description: \"–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã\"\n\n- Task: \"Daily report generation\"\n  Schedule: \"0 18 * * *\"\n  Description: \"–°–æ–∑–¥–∞—Ç—å –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –æ—Ç—á—ë—Ç\"\n```\n\n## –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è\n1. HEARTBEAT –∑–∞–¥–∞—á–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ\n2. –ó–∞–¥–∞—á–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ cron scheduler\n3. –ó–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é\n4. –ï—Å–ª–∏ HEARTBEAT.md –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è warning (–Ω–µ error)\n5. `make build` –∫–æ–º–ø–∏–ª–∏—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫\n6. `nexbot serve` –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å HEARTBEAT enabled/disabled\n\n## –°—Å—ã–ª–∫–∏\n- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è: `internal/heartbeat/loader.go`\n- –ü–∞—Ä—Å–µ—Ä: `internal/heartbeat/parser.go`\n- –ö–æ–Ω—Ñ–∏–≥: `config.example.toml` —Å–µ–∫—Ü–∏—è `[heartbeat]`\n- –¢–µ—Å—Ç—ã: `internal/heartbeat/loader_test.go`, `integration_test.go`","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T07:51:23.394997+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T08:27:12.044276+03:00","closed_at":"2026-02-05T08:27:12.044276+03:00","close_reason":"HEARTBEAT loader —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ serve.go. –í—ã–ø–æ–ª–Ω–µ–Ω—ã –≤—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞—á–∏, make build –∏ make ci –ø—Ä–æ—Ö–æ–¥—è—Ç, –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –∏ –∑–∞–ø—É—à–µ–Ω—ã –≤ origin/main.","labels":["heartbeat","integration","v0.2.0"],"dependencies":[{"issue_id":"Nexbot-0bg","depends_on_id":"Nexbot-8wk","type":"blocks","created_at":"2026-02-05T07:52:27.204098+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-0e9","title":"Write integration tests for agent loop with mock provider","description":"Write integration tests for agent loop with mock-provider covering full message flow","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T09:38:29.273624+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T11:00:37.89952+03:00","closed_at":"2026-02-03T11:00:37.89952+03:00","close_reason":"–ù–∞–ø–∏—Å–∞–Ω—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è agent loop —Å mock provider. –¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç: –±–∞–∑–æ–≤—ã–π –ø–æ—Ç–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π, –º—É–ª—å—Ç–∏-—Å–æ–æ–±—â–µ–Ω–∏—è, echo mode, graceful degradation –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö LLM, –æ—à–∏–±–∫–∏ –ø–æ—Å–ª–µ N –≤—ã–∑–æ–≤–æ–≤, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏ (add/clear/delete), –≤–∞–ª–∏–¥–∞—Ü–∏—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –¥–æ—Å—Ç—É–ø –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º. –í—Å–µ 8 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ.","labels":["agent","integration","loop","mock","tests"]}
{"id":"Nexbot-0xu","title":"Write tests for tools, parser and loader","description":"Write tests for write_file, list_dir, shell_exec, SKILL.md parser and skills loader","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T11:41:20.251726+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T12:35:46.072428+03:00","closed_at":"2026-02-03T12:35:46.072428+03:00","close_reason":"–ù–∞–ø–∏—Å–∞–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è write_file, list_dir, shell_exec –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (23 —Ç–µ—Å—Ç–∞ –≤ tools_test.go). –¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: —Å–æ–∑–¥–∞–Ω–∏–µ, –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ, –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å —Ñ–∞–π–ª–æ–≤, —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π, whitelist –∫–æ–º–∞–Ω–¥, timeout. –í—Å–µ —Ç–µ—Å—Ç—ã –¥–ª—è parser –∏ loader —É–∂–µ –±—ã–ª–∏ –Ω–∞–ø–∏—Å–∞–Ω—ã —Ä–∞–Ω–µ–µ (55 —Ç–µ—Å—Ç–æ–≤). –í—Å–µ —Ç–µ—Å—Ç—ã (78 —Ç–µ—Å—Ç–æ–≤ –¥–ª—è tools –∏ 55 –¥–ª—è skills) –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ.","labels":["skills","tests","tools","unit"]}
{"id":"Nexbot-0yw","title":"0.2.5.5.2: Create SendMessageTool Tests","description":"## –ó–∞–¥–∞—á–∞ 0.2.5.5.2: Create SendMessageTool Tests\n\n**–§–∞–∑–∞:** Send Message Tool\n\n**–¶–µ–ª—å:** –¢–µ—Å—Ç—ã –¥–ª—è SendMessageTool\n\n**–§–∞–π–ª:** internal/tools/message_test.go\n\n**–¢–µ—Å—Ç—ã:**\n- TestSendMessageToolDefaults\n- TestSendMessageToolCustomUser\n- TestSendMessageToolCustomChannel\n- TestSendMessageToolPublishError\n- TestSendMessageToolMissingMessage\n\n**","acceptance_criteria":"**\n- 5 —Ç–µ—Å—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω—ã\n- –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç\n- –ü–æ–∫—Ä—ã—Ç–∏–µ \u003e 80%\n- make test –ø—Ä–æ—Ö–æ–¥–∏—Ç\n\n**","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:07:38.462098+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T19:09:42.377805+03:00","closed_at":"2026-02-05T19:09:42.377805+03:00","close_reason":"–£—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è SendMessageTool —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º 84.9%\n\n–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:\n- –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª internal/tools/message_test.go —Å 12 —Ç–µ—Å—Ç–∞–º–∏\n- –ù–∞—Å—Ç—Ä–æ–µ–Ω message bus –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –∑–∞–ø—É—Å–∫–æ–º —á–µ—Ä–µ–∑ context\n- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è logger —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (Format, Output)\n- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è cleanup message bus\n\n–¢–µ—Å—Ç—ã (12 —Ç–µ—Å—Ç–æ–≤):\n‚úÖ TestSendMessageToolDefaults: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é\n‚úÖ TestSendMessageToolCustomUser: –ö–∞—Å—Ç–æ–º–Ω—ã–π user_id\n‚úÖ TestSendMessageToolCustomChannel: –ö–∞—Å—Ç–æ–º–Ω—ã–π channel_type\n‚úÖ TestSendMessageToolCustomSession: –ö–∞—Å—Ç–æ–º–Ω—ã–π session_id\n‚úÖ TestSendMessageToolPublishError: –û—à–∏–±–∫–∞ –ø—Ä–∏ –Ω–µ–≤–∫–ª—é—á–µ–Ω–Ω–æ–º message bus\n‚úÖ TestSendMessageToolMissingMessage: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ message\n‚úÖ TestSendMessageToolInvalidJSON: –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π JSON\n‚úÖ TestSendMessageToolAllCustom: –í—Å–µ –∫–∞—Å—Ç–æ–º–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã\n‚úÖ TestSendMessageToolName: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–µ–Ω–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞\n‚úÖ TestSendMessageToolDescription: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–ø–∏—Å–∞–Ω–∏—è\n‚úÖ TestSendMessageToolParameters: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ JSON Schema\n‚úÖ TestSendMessageToolToSchema: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ö–µ–º—ã\n\n–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:\n- –§–∏–∫—Å –∑–∞–ø—É—Å–∫–∞ message bus –≤ —Ç–µ—Å—Ç–∞—Ö (context)\n- –§–∏–∫—Å –ø—Ä–æ–≤–µ—Ä–∫–∏ required (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ []interface{} –∏ []string)\n- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è cleanup message bus\n\n–í—Å–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:\n‚úÖ 5+ —Ç–µ—Å—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω—ã (12 —Ç–µ—Å—Ç–æ–≤)\n‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç\n‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ 84.9% (\u003e 80%)\n‚úÖ make fmt –ø—Ä–æ—Ö–æ–¥–∏—Ç","labels":["message","phase5","testing","tools"],"dependencies":[{"issue_id":"Nexbot-0yw","depends_on_id":"Nexbot-j9r","type":"blocks","created_at":"2026-02-05T09:11:16Z","created_by":"AI Agent","metadata":"{}"}]}
{"id":"Nexbot-10l","title":"Write README.md documentation","description":"Write README.md with overview, features, installation, and basic architecture","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T12:38:37.837982+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T13:49:13.249994+03:00","closed_at":"2026-02-03T13:49:13.249994+03:00","close_reason":"Closed","labels":["documentation","readme"]}
{"id":"Nexbot-165","title":"v0.2.0 Tests: Subagent coordination","description":"# v0.2.0 Tests: Subagent coordination\n\n## Description\nWrite comprehensive tests for subagent manager, spawn tool, and async worker pool.\n\n## Test Coverage\n\n### internal/agent/subagent/manager_test.go\n- TestNewManager() - constructor\n- TestManagerSpawn() - subagent spawning\n- TestManagerStop() - subagent termination\n- TestManagerList() - list subagents\n- TestManagerConcurrency() - concurrent operations\n- TestSubagentIsolation() - separate sessions\n\n### internal/tools/spawn_test.go\n- TestSpawnToolName() - tool name\n- TestSpawnToolDescription() - tool description\n- TestSpawnToolParameters() - tool schema\n- TestSpawnToolExecute() - successful spawn\n- TestSpawnToolExecuteError() - invalid args\n\n### internal/workers/pool_test.go\n- TestNewPool() - pool creation\n- TestPoolSubmit() - task submission\n- TestPoolResults() - result retrieval\n- TestPoolStartStop() - graceful shutdown\n- TestPoolConcurrency() - concurrent task execution\n- TestPoolCronTask() - cron task execution\n- TestPoolSubagentTask() - subagent task execution\n\n### Integration Tests\n- TestSpawnWorkflow() - agent spawns subagent via tool\n- TestSubagentWithScheduler() - cron job spawns subagent\n- TestMultiSubagent() - multiple concurrent subagents\n- TestWorkerPoolIntegration() - full workflow\n\n## Acceptance Criteria\n- [ ] Unit tests for subagent manager (100% coverage)\n- [ ] Unit tests for spawn tool (100% coverage)\n- [ ] Unit tests for worker pool (100% coverage)\n- [ ] Integration tests for full workflow\n- [ ] Mock agent loop for subagent tests\n- [ ] All tests pass with go test -race\n\n## Success Metrics\n- 80%+ code coverage for subagent + workers\n- No race conditions\n- Integration tests pass\n\n## Notes\n- Use sync.WaitGroup for concurrent tests\n- Mock message bus for isolation\n- Consider table-driven tests\n","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-04T21:04:46.154363+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T01:26:10.075815+03:00","closed_at":"2026-02-05T01:26:10.075815+03:00","close_reason":"–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã subagent coordination —Å–æ–∑–¥–∞–Ω—ã: 7 —Ç–µ—Å—Ç–æ–≤ —Å 13 –ø–æ–¥-—Ç–µ—Å—Ç–∞–º–∏, –≤—Å–µ –ø—Ä–æ—Ö–æ–¥—è—Ç —Å go test -race, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã race conditions –≤ workers/pool.go","labels":["test"],"dependencies":[{"issue_id":"Nexbot-165","depends_on_id":"Nexbot-ci0","type":"blocks","created_at":"2026-02-04T21:05:26.204617+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-165","depends_on_id":"Nexbot-5s5","type":"blocks","created_at":"2026-02-04T21:05:26.312799+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-165","depends_on_id":"Nexbot-f1d","type":"blocks","created_at":"2026-02-04T21:05:26.422672+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-1bw","title":"Write CONFIG.md reference","description":"Write CONFIG.md with configuration reference","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T12:38:39.515812+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T13:54:52.612458+03:00","closed_at":"2026-02-03T13:54:52.612458+03:00","close_reason":"Closed","labels":["config","documentation","reference"]}
{"id":"Nexbot-1em","title":"0.2.5.6.1: Implement ProcessHeartbeatCheck","description":"## –ó–∞–¥–∞—á–∞ 0.2.5.6.1: Implement ProcessHeartbeatCheck\n\n**–§–∞–∑–∞:** Agent Integration\n\n**–¶–µ–ª—å:** –î–æ–±–∞–≤–∏—Ç—å ProcessHeartbeatCheck –≤ agent loop\n\n**–§–∞–π–ª:** internal/agent/loop/loop.go\n\n**–ú–µ—Ç–æ–¥:**\n\nfunc (l *Loop) ProcessHeartbeatCheck(ctx context.Context) (string, error)\n\n**–õ–æ–≥–∏–∫–∞:**\n1. –ü–æ—Å—Ç—Ä–æ–∏—Ç—å prompt: \"Read HEARTBEAT.md from workspace. Follow it strictly. Do not infer or repeat old tasks from prior chats. If nothing needs attention, reply HEARTBEAT_OK.\"\n2. –í—ã–∑–≤–∞—Ç—å l.llmProvider.Complete(ctx, prompt, nil)\n3. –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç\n4. –í–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç\n\n**","acceptance_criteria":"**\n- ProcessHeartbeatCheck –º–µ—Ç–æ–¥ –¥–æ–±–∞–≤–ª–µ–Ω\n- Prompt –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π\n- –í—ã–∑—ã–≤–∞–µ—Ç LLM\n- –õ–æ–≥–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç\n- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç\n- make fmt –ø—Ä–æ—Ö–æ–¥–∏—Ç\n\n**","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:07:38.811929+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T19:11:12.952501+03:00","closed_at":"2026-02-05T19:11:12.952501+03:00","close_reason":"–£—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω ProcessHeartbeatCheck –º–µ—Ç–æ–¥ –≤ Loop\n\n–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:\n- –ú–µ—Ç–æ–¥ ProcessHeartbeatCheck –≤ internal/agent/loop/loop.go\n- Prompt –¥–ª—è —á—Ç–µ–Ω–∏—è HEARTBEAT.md\n- –í—ã–∑–æ–≤ LLM —á–µ—Ä–µ–∑ provider.Chat()\n- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ –∏ –æ—Ç–≤–µ—Ç–∞\n- –í–æ–∑–≤—Ä–∞—Ç –æ—Ç–≤–µ—Ç–∞ –æ—Ç LLM\n\nPrompt –ª–æ–≥–∏–∫–∞:\n- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è LLM –ø—Ä–æ—á–∏—Ç–∞—Ç—å HEARTBEAT.md\n- –°—Ç—Ä–æ–≥–æ–µ —Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º\n- –ù–µ –ø–æ–≤—Ç–æ—Ä—è—Ç—å —Å—Ç–∞—Ä—ã–µ –∑–∞–¥–∞—á–∏ –∏–∑ –ø—Ä–æ—à–ª—ã—Ö —á–∞—Ç–æ–≤\n- –û—Ç–≤–µ—Ç–∏—Ç—å HEARTBEAT_OK –µ—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è\n\n–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:\n- –°–æ–∑–¥–∞–Ω–∏–µ ChatRequest —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (Model, Temperature, MaxTokens)\n- –í—ã–∑–æ–≤ provider.Chat(ctx, req)\n- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞\n- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º\n\n–í—Å–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:\n‚úÖ ProcessHeartbeatCheck –º–µ—Ç–æ–¥ –¥–æ–±–∞–≤–ª–µ–Ω\n‚úÖ Prompt –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π\n‚úÖ –í—ã–∑—ã–≤–∞–µ—Ç LLM\n‚úÖ –õ–æ–≥–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç\n‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç\n‚úÖ make fmt –ø—Ä–æ—Ö–æ–¥–∏—Ç","labels":["agent","heartbeat","phase6"],"dependencies":[{"issue_id":"Nexbot-1em","depends_on_id":"Nexbot-0yw","type":"blocks","created_at":"2026-02-05T09:11:16Z","created_by":"AI Agent","metadata":"{}"}]}
{"id":"Nexbot-1l6","title":"0.2.5.2.2: Implement Storage Load Method","description":"## –ó–∞–¥–∞—á–∞ 0.2.5.2.2: Implement Storage Load Method\n\n**–§–∞–∑–∞:** JSONL Storage Layer\n\n**–¶–µ–ª—å:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ Load –¥–ª—è —á—Ç–µ–Ω–∏—è cron.jsonl\n\n**–§–∞–π–ª –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:** internal/cron/storage.go\n\n**–ú–µ—Ç–æ–¥:**\n\nfunc (s *Storage) Load() ([]Job, error)\n\n**–õ–æ–≥–∏–∫–∞:**\n1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞\n2. –ï—Å–ª–∏ –Ω–µ—Ç - –≤–µ—Ä–Ω—É—Ç—å []Job{}, nil\n3. –ü—Ä–æ—á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª\n4. –†–∞–∑–±–∏—Ç—å –ø–æ—Å—Ç—Ä–æ—á–Ω–æ\n5. json.Unmarshal –∫–∞–∂–¥—É—é —Å—Ç—Ä–æ–∫—É –≤ Job\n6. –í–µ—Ä–Ω—É—Ç—å []Job\n\n**Job struct:**\n\ntype Job struct {\n    ID         string            `json:\"id\"`\n    Type       string            `json:\"type\"`\n    Schedule   string            `json:\"schedule,omitempty\"`\n    ExecuteAt  *time.Time        `json:\"execute_at,omitempty\"`\n    Command    string            `json:\"command\"`\n    UserID     string            `json:\"user_id,omitempty\"`\n    Metadata   map[string]string `json:\"metadata,omitempty\"`\n    Executed   bool              `json:\"executed,omitempty\"`\n    ExecutedAt *time.Time        `json:\"executed_at,omitempty\"`\n}\n\n**","acceptance_criteria":"**\n- Load() —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω\n- Job struct –æ–ø—Ä–µ–¥–µ–ª–µ–Ω\n- –ß–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª –ø–æ—Å—Ç—Ä–æ—á–Ω–æ\n- JSON –ø–∞—Ä—Å–∏—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ\n- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—É—Å—Ç—ã–µ/–Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã\n- –û—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è\n- make fmt –ø—Ä–æ—Ö–æ–¥–∏—Ç\n\n**","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:07:04.741672+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T12:42:48.374+03:00","closed_at":"2026-02-05T12:42:48.374+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ Load –≤ internal/cron/storage.go: –¥–æ–±–∞–≤–ª–µ–Ω StorageJob struct —Å —Ç—Ä–µ–±—É–µ–º—ã–º–∏ –ø–æ–ª—è–º–∏, –º–µ—Ç–æ–¥ Load —á–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª –ø–æ—Å—Ç—Ä–æ—á–Ω–æ, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏ –ø—É—Å—Ç—ã–µ —Ñ–∞–π–ª—ã, –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è. –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç, make fmt —É—Å–ø–µ—à–Ω–æ.","labels":["cron","phase2","storage"],"dependencies":[{"issue_id":"Nexbot-1l6","depends_on_id":"Nexbot-29u","type":"blocks","created_at":"2026-02-05T09:11:16Z","created_by":"AI Agent","metadata":"{}"}]}
{"id":"Nexbot-1qb","title":"v0.2.0-23: –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å TestSchedulerStorageIntegration","description":"–¢–µ—Å—Ç TestSchedulerStorageIntegration –≤ internal/cron/scheduler_test.go –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç:\n- foundRecurring –∏ foundOneshot —Ä–∞–≤–Ω—ã false, –Ω–æ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å true\n- oneshotJob —Ä–∞–≤–µ–Ω nil, –Ω–æ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ\n\n–í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞:\n- –ó–∞–¥–∞—á–∏ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ storage –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —á–µ—Ä–µ–∑ scheduler.AddJob()\n- Tasks —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ—á–∏—Å—Ç–∫–µ –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∫–µ\n\n–¢—Ä–µ–±—É–µ—Ç—Å—è:\n1. –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á –≤ scheduler.go\n2. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —ç—Ç–æ –±–∞–≥–æ–º –∏–ª–∏ –Ω–µ–ø–æ–ª–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º\n3. –ï—Å–ª–∏ –±–∞–≥ - –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥, –µ—Å–ª–∏ –Ω–µ–ø–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª - –¥–æ–ø–æ–ª–Ω–∏—Ç—å –∫–æ–¥\n4. –ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ç–µ—Å—Ç–µ - –æ–±–Ω–æ–≤–∏—Ç—å —Ç–µ—Å—Ç","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T15:53:40.593119+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T19:20:02.758941+03:00","closed_at":"2026-02-05T19:20:02.758941+03:00","close_reason":"–ò—Å–ø—Ä–∞–≤–ª–µ–Ω –±–∞–≥ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∑–∞–¥–∞—á cron –≤ storage\n\n–ü—Ä–æ–±–ª–µ–º–∞: –¢–µ—Å—Ç TestSchedulerStorageIntegration –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏–ª –ø–æ—Ç–æ–º—É —á—Ç–æ –∑–∞–¥–∞—á–∏ –¥–æ–±–∞–≤–ª—è–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –≤ –ø–∞–º—è—Ç—å (scheduler.jobs), –Ω–æ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å –≤ storage.\n\n–†–µ—à–µ–Ω–∏–µ:\n1. –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –≤ storage –ø—Ä–∏ –≤—ã–∑–æ–≤–µ AddJob\n2. –î–æ–±–∞–≤–ª–µ–Ω–æ —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –∏–∑ storage –ø—Ä–∏ –≤—ã–∑–æ–≤–µ RemoveJob  \n3. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥ Storage.UpsertJob –¥–ª—è –∞—Ç–æ–º–∞—Ä–Ω–æ–≥–æ upsert-–æ–ø–µ—Ä–∞—Ü–∏–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)\n\n–ò–∑–º–µ–Ω–µ–Ω–∏—è:\n- internal/cron/scheduler.go: –î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –≤ AddJob –∏ RemoveJob\n- internal/cron/storage.go: –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ UpsertJob –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á\n\n–†–µ–∑—É–ª—å—Ç–∞—Ç:\n- TestSchedulerStorageIntegration –ø—Ä–æ—Ö–æ–¥–∏—Ç\n- –ó–∞–¥–∞—á–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ storage\n- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –∑–∞–¥–∞—á –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏ scheduler\n\n–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:\n- make test (–ø–∞–∫–µ—Ç cron) - PASS\n- git push —É—Å–ø–µ—à–µ–Ω","dependencies":[{"issue_id":"Nexbot-1qb","depends_on_id":"Nexbot-bxu","type":"discovered-from","created_at":"2026-02-05T15:54:15.470746+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-21o","title":"0.2.5.8.3: Create HEARTBEAT.md Bootstrap","description":"## –ó–∞–¥–∞—á–∞ 0.2.5.8.3: Create HEARTBEAT.md Bootstrap\n\n**–§–∞–∑–∞:** Serve Integration\n\n**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å HEARTBEAT.md –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç\n\n**–§–∞–π–ª:** cmd/nexbot/serve.go\n\n**–®–∞–≥–∏:**\n1. –ü—É—Ç—å –∫ heartbeat: filepath.Join(ws.Path(), \"HEARTBEAT.md\")\n2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å os.Stat()\n3. –ï—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:\n   - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å \"Creating HEARTBEAT.md bootstrap\"\n   - –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:\n   \n# HEARTBEAT - –ó–∞–¥–∞—á–∏ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞\n\n–≠—Ç–æ—Ç —Ñ–∞–π–ª —á–∏—Ç–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç.\n\n## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å\n\n### –î–ª—è LLM\n\n1. –ß–∏—Ç–∞–π —Å–µ–∫—Ü–∏—é \"–ó–∞–¥–∞—á–∏\"\n2. –ü—Ä–æ–≤–µ—Ä—è–π –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è\n3. –ï—Å–ª–∏ –ø–æ—Ä–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—å:\n   - –í—ã–ø–æ–ª–Ω–∏ –∑–∞–¥–∞—á—É (–∏—Å–ø–æ–ª—å–∑—É–π –¥–æ—Å—Ç—É–ø–Ω—ã–µ tools: read_file, write_file, send_message)\n   - –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π send_message tool\n   - –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å HEARTBEAT.md ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π write_file tool\n4. –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ ‚Äî –≤–µ—Ä–Ω–∏ \"HEARTBEAT_OK\"\n\n## –ó–∞–¥–∞—á–∏\n\n---\n\n–î–æ–±–∞–≤–ª—è–π –∑–∞–¥–∞—á–∏ —Å—é–¥–∞.\n\n4. –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å \"HEARTBEAT.md created\"\n\n**","acceptance_criteria":"**\n- HEARTBEAT.md —Å–æ–∑–¥–∞–µ—Ç—Å—è –µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç\n- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ\n- –õ–æ–≥–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç\n- make build –ø—Ä–æ—Ö–æ–¥–∏—Ç\n\n**","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:07:40.52113+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T20:03:05.692963+03:00","closed_at":"2026-02-05T20:03:05.692966+03:00","labels":["integration","phase8"],"dependencies":[{"issue_id":"Nexbot-21o","depends_on_id":"Nexbot-3ua","type":"blocks","created_at":"2026-02-05T09:11:16Z","created_by":"AI Agent","metadata":"{}"}]}
{"id":"Nexbot-269","title":"v0.2.0-6: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–µ–∫—Ü–∏–∏ [heartbeat] –≤ config.example.toml","description":"# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–µ–∫—Ü–∏–∏ [heartbeat] –≤ config.example.toml (v0.2.0-6)\n\n## –ö–æ–Ω—Ç–µ–∫—Å—Ç\nHEARTBEAT loader –±—É–¥–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ –∑–∞–¥–∞—á–µ Nexbot-0bg (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å). –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è HEARTBEAT —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º.\n\n## –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å\n\n### 1. –î–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é [heartbeat] –≤ config.example.toml\n–í —Ñ–∞–π–ª–µ `config.example.toml` –ø–æ—Å–ª–µ —Å–µ–∫—Ü–∏–∏ `[subagent]` –¥–æ–±–∞–≤–∏—Ç—å:\n\n```toml\n# -----------------------------------------------------------------------------\n# HEARTBEAT Configuration\n# -----------------------------------------------------------------------------\n\n[heartbeat]\n# –í–∫–ª—é—á–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ HEARTBEAT –∑–∞–¥–∞—á\nenabled = true\n\n# –ò–º—è —Ñ–∞–π–ª–∞ —Å –∑–∞–¥–∞—á–∞–º–∏ (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å –æ—Ç workspace)\nheartbeat_file = \"HEARTBEAT.md\"\n\n# –ö–∞–∫ —á–∞—Å—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å HEARTBEAT.md –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è (cron expression)\n# * * * * * - –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É\n# 0 * * * * - –∫–∞–∂–¥—ã–π —á–∞—Å\n# 0 0 * * * - –∫–∞–∂–¥—ã–µ —Å—É—Ç–∫–∏\ncheck_interval = \"* * * * *\"\n\n# –ü—É—Ç—å –∫ workspace –¥–ª—è HEARTBEAT.md (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: ~/.nexbot)\nworkspace_path = \"~/.nexbot\"\n\n# -----------------------------------------------------------------------------\n```\n\n### 2. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä HEARTBEAT.md –≤ workspace bootstrap\n–í –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏–ª–∏ –≤ `docs/` –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä HEARTBEAT.md:\n\n```markdown\n# HEARTBEAT - Proactive Tasks\n\n–≠—Ç–æ—Ç —Ñ–∞–π–ª –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç proactive –∑–∞–¥–∞—á–∏, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é.\n\n## –§–æ—Ä–º–∞—Ç\n–ö–∞–∂–¥–∞—è –∑–∞–¥–∞—á–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ:\n\n```markdown\n- Task: \"–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏\"\n  Schedule: \"cron-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ\"\n  Description: \"–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏\"\n```\n\n## –ü—Ä–∏–º–µ—Ä—ã\n\n### Daily Tasks\n\n- Task: \"Morning health check\"\n  Schedule: \"0 9 * * *\"\n  Description: \"–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ\"\n\n- Task: \"Daily report\"\n  Schedule: \"0 18 * * *\"\n  Description: \"–°–æ–∑–¥–∞—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –æ—Ç—á—ë—Ç\"\n\n### Weekly Tasks\n\n- Task: \"Weekly cleanup\"\n  Schedule: \"0 3 * * 0\"\n  Description: \"–û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –ª–æ–≥-—Ñ–∞–π–ª—ã\"\n\n- Task: \"Weekly backup\"\n  Schedule: \"0 4 * * 0\"\n  Description: \"–°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –¥–∞–Ω–Ω—ã—Ö\"\n```\n\n### 3. –û–±–Ω–æ–≤–∏—Ç—å CONFIGURATION.md\n–í `docs/CONFIGURATION.md` –¥–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é:\n\n```\n### `[heartbeat]` ‚Äî –ù–∞—Å—Ç—Ä–æ–π–∫–∏ HEARTBEAT (v0.2)\n\n–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã proactive –∑–∞–¥–∞—á –∏–∑ HEARTBEAT.md.\n\n| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |\n|----------|-----|--------------|----------|\n| `enabled` | bool | `true` | –í–∫–ª—é—á–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ HEARTBEAT –∑–∞–¥–∞—á |\n| `heartbeat_file` | string | `HEARTBEAT.md` | –§–∞–π–ª —Å –∑–∞–¥–∞—á–∞–º–∏ –≤ workspace |\n| `check_interval` | string | `\"* * * * *\"` | –ö–∞–∫ —á–∞—Å—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å HEARTBEAT.md –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è |\n| `workspace_path` | string | `~/.nexbot` | –ü—É—Ç—å –∫ workspace –¥–ª—è HEARTBEAT.md |\n\n**–ü—Ä–∏–º–µ—Ä:**\n\n```toml\n[heartbeat]\nenabled = true\nheartbeat_file = \"HEARTBEAT.md\"\ncheck_interval = \"* * * * *\"\nworkspace_path = \"~/.nexbot\"\n```\n\n**–§–æ—Ä–º–∞—Ç HEARTBEAT.md:**\n\n–ö–∞–∂–¥–∞—è –∑–∞–¥–∞—á–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ:\n\n```markdown\n- Task: \"–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏\"\n  Schedule: \"cron-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ\"\n  Description: \"–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ\"\n```\n\n**–ü—Ä–∏–º–µ—Ä—ã:**\n\n```markdown\n- Task: \"Daily health check\"\n  Schedule: \"0 9 * * *\"\n  Description: \"–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã\"\n```\n\n---\n\n```\n\n## –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è\n1. –°–µ–∫—Ü–∏—è `[heartbeat]` –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ `config.example.toml`\n2. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–º–µ—é—Ç –ø–æ–Ω—è—Ç–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è\n3. –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —É–∫–∞–∑–∞–Ω—ã\n4. –ü—Ä–∏–º–µ—Ä HEARTBEAT.md –¥–æ–±–∞–≤–ª–µ–Ω –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é\n5. `docs/CONFIGURATION.md` –æ–±–Ω–æ–≤–ª—ë–Ω —Å —Å–µ–∫—Ü–∏–µ–π `[heartbeat]`\n6. `nexbot config validate` –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫\n7. `nexbot serve` –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å heartbeat config\n\n## –°—Å—ã–ª–∫–∏\n- HEARTBEAT loader: `internal/heartbeat/loader.go` (–∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è –≤ Nexbot-0bg)\n- –ö–æ–Ω—Ñ–∏–≥ –ø–∞—Ä—Å–µ—Ä: `internal/config/config.go`\n- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `docs/CONFIGURATION.md`\n- –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥–æ–≤: `config.example.toml`","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T07:51:30.589299+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T08:33:56.062288+03:00","closed_at":"2026-02-05T08:33:56.062288+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ: –¥–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä workspace_path –≤ config.example.toml, —Å–æ–∑–¥–∞–Ω –ø—Ä–∏–º–µ—Ä HEARTBEAT.md –≤ docs/examples/. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–∞–ª–∏–¥–Ω–∞, –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –∏ –∑–∞–ø—É—à–µ–Ω—ã.","labels":["config","heartbeat","v0.2.0"]}
{"id":"Nexbot-29u","title":"0.2.5.2.1: Create Storage Layer","description":"## –ó–∞–¥–∞—á–∞ 0.2.5.2.1: Create Storage Layer\n\n**–§–∞–∑–∞:** JSONL Storage Layer\n\n**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å –ø–∞–∫–µ—Ç internal/cron —Å storage.go\n\n**–§–∞–π–ª –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è:** internal/cron/storage.go\n\n**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ Storage:**\n\ntype Storage struct {\n    filePath string\n    logger   *logger.Logger\n}\n\n**–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä:**\n\nfunc NewStorage(workspacePath string, logger *logger.Logger) *Storage\n\n**","acceptance_criteria":"**\n- internal/cron/storage.go —Å–æ–∑–¥–∞–Ω\n- Storage struct –æ–ø—Ä–µ–¥–µ–ª–µ–Ω\n- NewStorage –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å–æ–∑–¥–∞–Ω\n- –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ\n- –ü–∞–∫–µ—Ç –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è 'package cron'\n- godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã\n- make fmt –ø—Ä–æ—Ö–æ–¥–∏—Ç\n\n**","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:07:04.629099+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T12:39:23.059753+03:00","closed_at":"2026-02-05T12:39:23.059753+03:00","close_reason":"–°–æ–∑–¥–∞–Ω storage layer –¥–ª—è –ø–∞–∫–µ—Ç–∞ cron. –§–∞–π–ª internal/cron/storage.go —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É Storage —Å –ø–æ–ª—è–º–∏ filePath –∏ logger, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä NewStorage –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É JSONL. –î–æ–±–∞–≤–ª–µ–Ω—ã godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –ø–∞–∫–µ—Ç –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è 'cron', make fmt –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ.","labels":["cron","phase2","storage"],"dependencies":[{"issue_id":"Nexbot-29u","depends_on_id":"Nexbot-4b9","type":"blocks","created_at":"2026-02-05T09:11:16Z","created_by":"AI Agent","metadata":"{}"}]}
{"id":"Nexbot-2k0","title":"–î–æ–±–∞–≤–∏—Ç—å deny_commands –∏ ask_commands –≤ shell tool","description":"\n## Feature: –†–∞—Å—à–∏—Ä–∏—Ç—å shell tool —Å deny/ask/allowed —Å–ø–∏—Å–∫–∞–º–∏\n\n### –¶–µ–ª—å\n–î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∏ —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥ –¥–ª—è shell tool:\n- `deny_commands` ‚Äî –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (–±–ª–æ–∫–∏—Ä—É—é—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ)\n- `ask_commands` ‚Äî –∫–æ–º–∞–Ω–¥—ã, —Ç—Ä–µ–±—É—é—â–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∑–∞–ø—Ä–æ—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è)\n- `allowed_commands` ‚Äî —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (—É–∂–µ –µ—Å—Ç—å, –æ—Å—Ç–∞—ë—Ç—Å—è)\n\n### –ü–æ—Ä—è–¥–æ–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–º–∞–Ω–¥\n1. **deny** ‚Üí –µ—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –≤ —Å–ø–∏—Å–∫–µ ‚Üí error\n2. **ask** ‚Üí –µ—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –≤ —Å–ø–∏—Å–∫–µ ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∑–∞–ø—Ä–æ—Å–æ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è (–Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è)\n3. **allowed** ‚Üí –µ—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –ù–ï –≤ —Å–ø–∏—Å–∫–µ –∏ —Å–ø–∏—Å–æ–∫ –Ω–µ –ø—É—Å—Ç–æ–π ‚Üí error\n\n### –ü–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è –∫–æ–º–∞–Ω–¥\n–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ —Å–ø–æ—Å–æ–±—ã —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è:\n- –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ: `echo` ‚Üí `echo hello`\n- –ë–∞–∑–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞: `git` ‚Üí `git commit`, `git status` (–≤—Å–µ –ø–æ–¥–∫–æ–º–∞–Ω–¥—ã)\n- Wildcard —Å –æ–¥–Ω–∏–º *: `git *` ‚Üí –≤—Å–µ –ø–æ–¥–∫–æ–º–∞–Ω–¥—ã git\n- –ü–æ–ª–Ω—ã–π wildcard: `*` ‚Üí –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã\n\n### –ü—Ä–∞–≤–∏–ª–∞\n- –ï—Å–ª–∏ –≤—Å–µ —Ç—Ä–∏ —Å–ø–∏—Å–∫–∞ –ø—É—Å—Ç—ã–µ ‚Üí –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–µ—à–µ–Ω—ã (fail-open)\n- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–¥–∫–æ–º–∞–Ω–¥: –±–∞–∑–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ –ø–æ–¥–∫–æ–º–∞–Ω–¥—ã\n- –ú–∞–∫—Å–∏–º—É–º –æ–¥–∏–Ω wildcard (*) –≤ –ø–∞—Ç—Ç–µ—Ä–Ω–µ\n\n### –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏\n```toml\n[tools.shell]\nenabled = true\nallowed_commands = [\"ls\", \"cat\", \"echo\", \"git commit\"]\ndeny_commands = [\"rm\", \"rmdir\", \"dd\"]\nask_commands = [\"git *\", \"docker *\"]\ntimeout_seconds = 30\n```\n\n### –°—Ç–∞—Ç—É—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–ª—è ask_commands\n–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Ñ–æ—Ä–º–∞—Ç:\n```\n# CONFIRM_REQUIRED: \u003c–∫–æ–º–∞–Ω–¥–∞\u003e\n# –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã...\n```\n","status":"open","priority":0,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T21:50:22.062656+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T21:50:22.062656+03:00"}
{"id":"Nexbot-2k0.1","title":"–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è DenyCommands –∏ AskCommands –≤ config/schema.go","description":"\n## –ó–∞–¥–∞—á–∞: –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è –≤ ShellToolConfig\n\n### –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å\n–í —Ñ–∞–π–ª–µ `internal/config/schema.go` –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ `ShellToolConfig` –¥–æ–±–∞–≤–∏—Ç—å –¥–≤–∞ –Ω–æ–≤—ã—Ö –ø–æ–ª—è:\n\n```go\ntype ShellToolConfig struct {\n    Enabled         bool     `toml:\"enabled\"`\n    AllowedCommands []string `toml:\"allowed_commands\"`\n    DenyCommands    []string `toml:\"deny_commands\"`    // –Ω–æ–≤–æ–µ –ø–æ–ª–µ\n    AskCommands     []string `toml:\"ask_commands\"`     // –Ω–æ–≤–æ–µ –ø–æ–ª–µ\n    TimeoutSeconds  int      `toml:\"timeout_seconds\"`\n}\n```\n\n### –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏\n- –ü–æ–ª—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω—ã–º–∏ TOML —Ç–µ–≥–∞–º–∏\n- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å ‚Äî –ø–æ–ª—è –±—É–¥—É—Ç –ø—É—Å—Ç—ã–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é\n- –ü–æ—Ä—è–¥–æ–∫ –ø–æ–ª–µ–π –Ω–µ –∫—Ä–∏—Ç–∏—á–µ–Ω, –Ω–æ –ª–æ–≥–∏—á–Ω–æ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –≤–º–µ—Å—Ç–µ —Å–æ AllowedCommands\n\n### –ü—Ä–∏–Ω—è—Ç–∏–µ\n- –ö–æ–º–ø–∏–ª—è—Ü–∏—è —É—Å–ø–µ—à–Ω–∞\n- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª—è DenyCommands –∏ AskCommands\n- TOML —Ç–µ–≥–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã\n","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T21:50:27.797592+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T21:55:49.061533+03:00","closed_at":"2026-02-05T21:55:49.061537+03:00","dependencies":[{"issue_id":"Nexbot-2k0.1","depends_on_id":"Nexbot-2k0","type":"parent-child","created_at":"2026-02-05T21:50:27.799148+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-2k0.2","title":"–û–±–Ω–æ–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤ config/config.go –¥–ª—è DenyCommands –∏ AskCommands","description":"\n## –ó–∞–¥–∞—á–∞: –û–±–Ω–æ–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤ config/config.go\n\n### –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å\n–í —Ñ—É–Ω–∫—Ü–∏–∏ `Validate()` –≤ —Ñ–∞–π–ª–µ `internal/config/config.go`:\n\n1. –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–ª—è `DenyCommands` –∏ `AskCommands` (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ `AllowedCommands`):\n   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫ –≤ —Å–ø–∏—Å–∫–∞—Ö\n   - –î–æ–±–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É, –µ—Å–ª–∏ —Å—Ç—Ä–æ–∫–∞ –ø—É—Å—Ç–∞—è\n\n2. –û–±–Ω–æ–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –¥–ª—è –ø—É—Å—Ç—ã—Ö —Å–ø–∏—Å–∫–æ–≤:\n   - –ï—Å–ª–∏ –≤—Å–µ —Ç—Ä–∏ —Å–ø–∏—Å–∫–∞ (AllowedCommands, DenyCommands, AskCommands) –ø—É—Å—Ç—ã–µ ‚Üí –Ω–µ –¥–æ–±–∞–≤–ª—è—Ç—å –æ—à–∏–±–∫—É (–≤—Å–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–µ—à–µ–Ω—ã)\n   - –ï—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —Å–ø–∏—Å–æ–∫ –Ω–µ–ø—É—Å—Ç–æ–π ‚Üí —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –ª–æ–≥–∏–∫–∞ –æ—Å—Ç–∞—ë—Ç—Å—è\n\n### –¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞ (—Å—Ç—Ä–æ–∫–∏ 102-113):\n```go\n// –ü—Ä–æ–≤–µ—Ä–∫–∞ shell tool whitelist\nif c.Tools.Shell.Enabled {\n    if len(c.Tools.Shell.AllowedCommands) == 0 {\n        errors = append(errors, fmt.Errorf(\"tools.shell.allowed_commands cannot be empty when shell tool is enabled\"))\n    } else {\n        for _, cmd := range c.Tools.Shell.AllowedCommands {\n            if cmd == \"\" {\n                errors = append(errors, fmt.Errorf(\"tools.shell.allowed_commands contains empty command\"))\n            }\n        }\n    }\n}\n```\n\n### –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞:\n```go\n// –ü—Ä–æ–≤–µ—Ä–∫–∞ shell tool –∫–æ–º–∞–Ω–¥\nif c.Tools.Shell.Enabled {\n    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –≤ —Å–ø–∏—Å–∫–∞—Ö\n    for _, cmd := range c.Tools.Shell.AllowedCommands {\n        if cmd == \"\" {\n            errors = append(errors, fmt.Errorf(\"tools.shell.allowed_commands contains empty command\"))\n        }\n    }\n    for _, cmd := range c.Tools.Shell.DenyCommands {\n        if cmd == \"\" {\n            errors = append(errors, fmt.Errorf(\"tools.shell.deny_commands contains empty command\"))\n        }\n    }\n    for _, cmd := range c.Tools.Shell.AskCommands {\n        if cmd == \"\" {\n            errors = append(errors, fmt.Errorf(\"tools.shell.ask_commands contains empty command\"))\n        }\n    }\n    \n    // –ï—Å–ª–∏ –≤—Å–µ —Å–ø–∏—Å–∫–∏ –ø—É—Å—Ç—ã–µ ‚Äî —ç—Ç–æ –¥–æ–ø—É—Å—Ç–∏–º–æ (–≤—Å–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–µ—à–µ–Ω—ã)\n    if len(c.Tools.Shell.AllowedCommands) == 0 \u0026\u0026 \n       len(c.Tools.Shell.DenyCommands) == 0 \u0026\u0026 \n       len(c.Tools.Shell.AskCommands) == 0 {\n        // –í—Å–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–µ—à–µ–Ω—ã, –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ—Ö–æ–¥–∏—Ç\n    }\n}\n```\n\n### –ü—Ä–∏–Ω—è—Ç–∏–µ\n- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –≤–æ –≤—Å–µ—Ö —Ç—Ä—ë—Ö —Å–ø–∏—Å–∫–∞—Ö\n- –ï—Å–ª–∏ –≤—Å–µ —Å–ø–∏—Å–∫–∏ –ø—É—Å—Ç—ã–µ ‚Äî –æ—à–∏–±–æ–∫ –Ω–µ—Ç\n- –ï—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —Å–ø–∏—Å–æ–∫ –Ω–µ–ø—É—Å—Ç–æ–π ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç\n- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç—å\n","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T21:50:36.953081+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T21:58:42.017851+03:00","closed_at":"2026-02-05T21:58:42.017856+03:00","dependencies":[{"issue_id":"Nexbot-2k0.2","depends_on_id":"Nexbot-2k0","type":"parent-child","created_at":"2026-02-05T21:50:36.954105+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-2k0.3","title":"–î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é matchPattern –≤ internal/tools/shell.go","description":"\n## –ó–∞–¥–∞—á–∞: –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é matchPattern –¥–ª—è —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤\n\n### –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å\n–í —Ñ–∞–π–ª–µ `internal/tools/shell.go` –¥–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `matchPattern`:\n\n```go\n// matchPattern –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª–∏ –∫–æ–º–∞–Ω–¥–∞ –ø–∞—Ç—Ç–µ—Ä–Ω—É.\n// –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:\n// - –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ: \"echo\" ‚Üí \"echo hello\"\n// - –ë–∞–∑–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞: \"git\" ‚Üí \"git commit\", \"git status\"\n// - Wildcard —Å –æ–¥–Ω–∏–º *: \"git *\" ‚Üí –≤—Å–µ –ø–æ–¥–∫–æ–º–∞–Ω–¥—ã git\n// - –ü–æ–ª–Ω—ã–π wildcard: \"*\" ‚Üí –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã\nfunc (t *ShellExecTool) matchPattern(command, pattern string) bool {\n    // –ü–æ–ª–Ω—ã–π wildcard\n    if pattern == \"*\" {\n        return true\n    }\n    \n    // –†–∞–∑–±–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –Ω–∞ —á–∞—Å—Ç–∏\n    cmdParts := strings.Fields(command)\n    if len(cmdParts) == 0 {\n        return false\n    }\n    \n    baseCommand := cmdParts[0]\n    \n    // –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ\n    if pattern == command {\n        return true\n    }\n    \n    // –ë–∞–∑–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ (pattern –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤, –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—É—é —á–∞—Å—Ç—å)\n    if !strings.Contains(pattern, \" \") {\n        return baseCommand == pattern\n    }\n    \n    // Wildcard –ø–∞—Ç—Ç–µ—Ä–Ω —Å –æ–¥–Ω–∏–º *\n    if strings.Contains(pattern, \"*\") {\n        parts := strings.Split(pattern, \" \")\n        if len(parts) != 2 || parts[1] != \"*\" {\n            return false // –ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç\n        }\n        \n        patternBase := parts[0]\n        if len(cmdParts) \u003c 2 {\n            return false // –ö–æ–º–∞–Ω–¥–∞ –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å —Ö–æ—Ç—è –±—ã –ø–æ–¥–∫–æ–º–∞–Ω–¥—É\n        }\n        \n        return baseCommand == patternBase\n    }\n    \n    return false\n}\n```\n\n### –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã\n- `matchPattern(\"echo hello\", \"echo\")` ‚Üí true (–±–∞–∑–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞)\n- `matchPattern(\"git commit\", \"git\")` ‚Üí true (–±–∞–∑–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞)\n- `matchPattern(\"git status\", \"git *\")` ‚Üí true (wildcard)\n- `matchPattern(\"docker run ubuntu\", \"docker *\")` ‚Üí true (wildcard)\n- `matchPattern(\"echo hello\", \"*\")` ‚Üí true (–ø–æ–ª–Ω—ã–π wildcard)\n- `matchPattern(\"echo hello\", \"git\")` ‚Üí false (–Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ)\n- `matchPattern(\"git commit\", \"echo\")` ‚Üí false (–Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ)\n\n### –ü—Ä–∏–Ω—è—Ç–∏–µ\n- –§—É–Ω–∫—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ —Ñ–∞–π–ª\n- –í—Å–µ –ø—Ä–∏–º–µ—Ä—ã –≤—ã—à–µ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ\n- –§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ 4 —Ç–∏–ø–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤\n- –ù–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–∞–Ω–∏–∫—É –Ω–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö\n","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T21:50:51.298182+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T22:02:07.174461+03:00","closed_at":"2026-02-05T22:02:07.174461+03:00","close_reason":"Closed","dependencies":[{"issue_id":"Nexbot-2k0.3","depends_on_id":"Nexbot-2k0","type":"parent-child","created_at":"2026-02-05T21:50:51.299363+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-2k0.4","title":"–ò–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É validateCommand –≤ internal/tools/shell.go","description":"\n## –ó–∞–¥–∞—á–∞: –ò–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É validateCommand –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ deny/ask/allowed\n\n### –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å\n–í —Ñ–∞–π–ª–µ `internal/tools/shell.go` –∏–∑–º–µ–Ω–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `validateCommand`:\n\n### –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏\n1. **deny_commands** ‚Äî –µ—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º ‚Üí –≤–µ—Ä–Ω—É—Ç—å error\n2. **ask_commands** ‚Äî –µ—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º ‚Üí –≤–µ—Ä–Ω—É—Ç—å error —Å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `# CONFIRM_REQUIRED:`\n3. **allowed_commands** ‚Äî –µ—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –ù–ï —Å–æ–≤–ø–∞–¥–∞–µ—Ç –∏ —Å–ø–∏—Å–æ–∫ –Ω–µ –ø—É—Å—Ç–æ–π ‚Üí –≤–µ—Ä–Ω—É—Ç—å error\n\n### –ù–æ–≤—ã–π –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏:\n```go\n// validateCommand –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–º–∞–Ω–¥—É –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.\n// –ü–æ—Ä—è–¥–æ–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏: deny ‚Üí ask ‚Üí allowed\nfunc (t *ShellExecTool) validateCommand(command string) error {\n    // –ï—Å–ª–∏ –≤—Å–µ —Ç—Ä–∏ —Å–ø–∏—Å–∫–∞ –ø—É—Å—Ç—ã–µ ‚Üí –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–µ—à–µ–Ω—ã (fail-open)\n    allEmpty := len(t.cfg.Tools.Shell.DenyCommands) == 0 \u0026\u0026\n                len(t.cfg.Tools.Shell.AskCommands) == 0 \u0026\u0026\n                len(t.cfg.Tools.Shell.AllowedCommands) == 0\n    if allEmpty {\n        return nil\n    }\n    \n    // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ deny_commands (–∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã)\n    for _, pattern := range t.cfg.Tools.Shell.DenyCommands {\n        if t.matchPattern(command, pattern) {\n            return fmt.Errorf(\"command denied by deny_commands list: %s (pattern: %s)\", command, pattern)\n        }\n    }\n    \n    // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ ask_commands (—Ç—Ä–µ–±—É—é—â–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è)\n    for _, pattern := range t.cfg.Tools.Shell.AskCommands {\n        if t.matchPattern(command, pattern) {\n            // –í–æ–∑–≤—Ä–∞—â–∞–µ–º error —Å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º –ø—Ä–µ—Ñ–∏–∫—Å–æ–º –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏\n            return fmt.Errorf(\"# CONFIRM_REQUIRED: %s\", command)\n        }\n    }\n    \n    // 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ allowed_commands (—Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã)\n    // –ï—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –Ω–µ –ø—É—Å—Ç–æ–π ‚Äî –∫–æ–º–∞–Ω–¥–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ –Ω—ë–º\n    if len(t.cfg.Tools.Shell.AllowedCommands) \u003e 0 {\n        for _, pattern := range t.cfg.Tools.Shell.AllowedCommands {\n            if t.matchPattern(command, pattern) {\n                return nil // –ö–æ–º–∞–Ω–¥–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∞\n            }\n        }\n        return fmt.Errorf(\"command not in allowed_commands list: %s\", command)\n    }\n    \n    return nil // –ö–æ–º–∞–Ω–¥–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∞ (allowed_commands –ø—É—Å—Ç–æ–π, –Ω–æ –Ω–µ—Ç deny/ask)\n}\n```\n\n### –û–±–Ω–æ–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é Execute\n–í —Ñ—É–Ω–∫—Ü–∏–∏ `Execute` –Ω—É–∂–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è ask_commands:\n\n```go\n// –í Execute (—Å—Ç—Ä–æ–∫–∞ ~84)\nif err := t.validateCommand(shellArgs.Command); err != nil {\n    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ ask_commands (CONFIRM_REQUIRED)\n    if strings.Contains(err.Error(), \"# CONFIRM_REQUIRED:\") {\n        confirmMsg := fmt.Sprintf(\"# –ö–æ–º–∞–Ω–¥–∞ —Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è:\\n%s\\n\\n# –û—Ç–≤–µ—Ç—å—Ç–µ /confirm –∏–ª–∏ /deny\", err.Error())\n        return confirmMsg, nil\n    }\n    return \"\", fmt.Errorf(\"command validation failed: %w\", err)\n}\n```\n\n### –ü—Ä–∏–Ω—è—Ç–∏–µ\n- validateCommand –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–ø–∏—Å–∫–∏ –≤ –ø–æ—Ä—è–¥–∫–µ: deny ‚Üí ask ‚Üí allowed\n- deny_commands –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç error\n- ask_commands –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç error —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º \"# CONFIRM_REQUIRED:\"\n- allowed_commands —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç matchPattern\n- Execute –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç CONFIRM_REQUIRED –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é\n- –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç—å\n","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T21:51:09.68969+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T22:09:54.559965+03:00","closed_at":"2026-02-05T22:09:54.559965+03:00","close_reason":"Closed","dependencies":[{"issue_id":"Nexbot-2k0.4","depends_on_id":"Nexbot-2k0","type":"parent-child","created_at":"2026-02-05T21:51:09.690709+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-2k0.5","title":"–î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è deny_commands –∏ ask_commands","description":"\n## –ó–∞–¥–∞—á–∞: –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏\n\n### –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å\n–í —Ñ–∞–π–ª–µ `internal/tools/tools_test.go` –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ç–µ—Å—Ç—ã:\n\n### 1. –¢–µ—Å—Ç—ã –¥–ª—è matchPattern\n```go\nfunc TestMatchPattern(t *testing.T) {\n    log, _ := logger.New(logger.Config{Level: \"error\", Format: \"text\", Output: \"stdout\"})\n    cfg := \u0026config.Config{\n        Tools: config.ToolsConfig{\n            Shell: config.ShellToolConfig{Enabled: true},\n        },\n    }\n    tool := NewShellExecTool(cfg, log)\n    \n    tests := []struct {\n        name     string\n        command  string\n        pattern  string\n        expected bool\n    }{\n        {\"Exact match\", \"echo hello\", \"echo\", true},\n        {\"Base command match\", \"git commit\", \"git\", true},\n        {\"Base command no match\", \"echo hello\", \"git\", false},\n        {\"Wildcard git\", \"git commit\", \"git *\", true},\n        {\"Wildcard docker\", \"docker run\", \"docker *\", true},\n        {\"Wildcard no match\", \"echo hello\", \"git *\", false},\n        {\"Full wildcard\", \"echo hello\", \"*\", true},\n        {\"Full wildcard any\", \"anything\", \"*\", true},\n    }\n    \n    for _, tt := range tests {\n        t.Run(tt.name, func(t *testing.T) {\n            result := tool.matchPattern(tt.command, tt.pattern)\n            if result != tt.expected {\n                t.Errorf(\"matchPattern(%q, %q) = %v, want %v\", tt.command, tt.pattern, result, tt.expected)\n            }\n        })\n    }\n}\n```\n\n### 2. –¢–µ—Å—Ç—ã –¥–ª—è deny_commands\n```go\nfunc TestShellExecTool_Execute_DenyCommand(t *testing.T) {\n    log, _ := logger.New(logger.Config{Level: \"error\", Format: \"text\", Output: \"stdout\"})\n    cfg := \u0026config.Config{\n        Tools: config.ToolsConfig{\n            Shell: config.ShellToolConfig{\n                Enabled:         true,\n                AllowedCommands: []string{\"echo\", \"rm\"},\n                DenyCommands:    []string{\"rm\"},\n                TimeoutSeconds:  5,\n            },\n        },\n    }\n    \n    tool := NewShellExecTool(cfg, log)\n    args := `{\"command\": \"rm -rf /tmp/test\"}`\n    _, err := tool.Execute(args)\n    \n    if err == nil {\n        t.Error(\"Expected error for denied command\")\n    }\n    \n    if !contains(err.Error(), \"denied by deny_commands\") {\n        t.Errorf(\"Expected error to mention deny, got: %v\", err)\n    }\n}\n```\n\n### 3. –¢–µ—Å—Ç—ã –¥–ª—è ask_commands\n```go\nfunc TestShellExecTool_Execute_AskCommand(t *testing.T) {\n    log, _ := logger.New(logger.Config{Level: \"error\", Format: \"text\", Output: \"stdout\"})\n    cfg := \u0026config.Config{\n        Tools: config.ToolsConfig{\n            Shell: config.ShellToolConfig{\n                Enabled:         true,\n                AllowedCommands: []string{\"echo\", \"git\"},\n                AskCommands:     []string{\"git *\"},\n                TimeoutSeconds:  5,\n            },\n        },\n    }\n    \n    tool := NewShellExecTool(cfg, log)\n    args := `{\"command\": \"git commit -m test\"}`\n    result, err := tool.Execute(args)\n    \n    if err != nil {\n        t.Fatalf(\"Unexpected error: %v\", err)\n    }\n    \n    if !contains(result, \"CONFIRM_REQUIRED\") {\n        t.Errorf(\"Expected result to contain CONFIRM_REQUIRED, got: %s\", result)\n    }\n}\n```\n\n### 4. –¢–µ—Å—Ç—ã –¥–ª—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ —Å–ø–∏—Å–∫–æ–≤\n```go\nfunc TestShellExecTool_Execute_Priority(t *testing.T) {\n    log, _ := logger.New(logger.Config{Level: \"error\", Format: \"text\", Output: \"stdout\"})\n    cfg := \u0026config.Config{\n        Tools: config.ToolsConfig{\n            Shell: config.ShellToolConfig{\n                Enabled:         true,\n                AllowedCommands: []string{\"rm\"},\n                DenyCommands:    []string{\"rm\"},\n                AskCommands:     []string{\"rm\"},\n                TimeoutSeconds:  5,\n            },\n        },\n    }\n    \n    tool := NewShellExecTool(cfg, log)\n    args := `{\"command\": \"rm -rf /tmp/test\"}`\n    _, err := tool.Execute(args)\n    \n    if err == nil {\n        t.Error(\"Expected error (deny has priority)\")\n    }\n    \n    if !contains(err.Error(), \"denied by deny_commands\") {\n        t.Errorf(\"Expected deny error (not ask/allowed), got: %v\", err)\n    }\n}\n```\n\n### 5. –¢–µ—Å—Ç—ã –¥–ª—è –ø—É—Å—Ç—ã—Ö —Å–ø–∏—Å–∫–æ–≤\n```go\nfunc TestShellExecTool_Execute_AllListsEmpty(t *testing.T) {\n    log, _ := logger.New(logger.Config{Level: \"error\", Format: \"text\", Output: \"stdout\"})\n    cfg := \u0026config.Config{\n        Tools: config.ToolsConfig{\n            Shell: config.ShellToolConfig{\n                Enabled:         true,\n                AllowedCommands: []string{},\n                DenyCommands:    []string{},\n                AskCommands:     []string{},\n                TimeoutSeconds:  5,\n            },\n        },\n    }\n    \n    tool := NewShellExecTool(cfg, log)\n    args := `{\"command\": \"echo test\"}`\n    result, err := tool.Execute(args)\n    \n    if err != nil {\n        t.Fatalf(\"Unexpected error (all lists empty = all allowed): %v\", err)\n    }\n    \n    if !contains(result, \"test\") {\n        t.Errorf(\"Expected command to execute, got: %s\", result)\n    }\n}\n```\n\n### –ü—Ä–∏–Ω—è—Ç–∏–µ\n- –í—Å–µ —Ç–µ—Å—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã\n- –¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏\n- `make test` –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ\n","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T21:51:45.177828+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T22:11:02.327772+03:00","closed_at":"2026-02-05T22:11:02.327772+03:00","close_reason":"Closed","dependencies":[{"issue_id":"Nexbot-2k0.5","depends_on_id":"Nexbot-2k0","type":"parent-child","created_at":"2026-02-05T21:51:45.1792+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-2n0","title":"Implement SKILL.md parser (YAML frontmatter + markdown)","description":"Implement SKILL.md parser for YAML frontmatter + markdown body in internal/skills/parser.go","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T11:41:16.885198+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T12:03:09.379338+03:00","closed_at":"2026-02-03T12:03:09.379338+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω SKILL.md parser –≤ internal/skills/parser.go. –ü–∞—Ä—Å–µ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç YAML frontmatter —Å –ø–æ–ª—è–º–∏ name, description, version, category, tags, parameters, examples, author, deprecated. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Ä–∞–∑–±–æ—Ä markdown body. –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã Validate –∏ ToMarkdown. –í—Å–µ —Ç–µ—Å—Ç—ã (26 —Ç–µ—Å—Ç–æ–≤) –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ.","labels":["markdown","parser","skills","yaml"]}
{"id":"Nexbot-2rm","title":"Implement outbound message handling to Telegram","description":"Implement outbound: bus.SubscribeOutbound ‚Üí Telegram sendMessage","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T10:48:56.931563+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T10:53:35.655281+03:00","closed_at":"2026-02-03T10:53:35.655281+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Telegram. –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ handleOutbound: –ø–æ–¥–ø–∏—Å–∫–∞ —á–µ—Ä–µ–∑ bus.SubscribeOutbound, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ ChannelTypeTelegram, –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ chat_id –∏–∑ session_id, –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ bot.SendMessage —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º Markdown.","labels":["bus","outbound","telegram"]}
{"id":"Nexbot-2t7","title":"v0.2.0 Cron CLI commands (add/list/remove)","description":"# v0.2.0 Cron CLI commands (add/list/remove)\n\n## Description\nImplement CLI commands for cron job management: `nexbot cron add`, `nexbot cron list`, `nexbot cron remove`.\n\n## Implementation Details\n\n### CLI Commands Structure\n\n#### cmd/nexbot/cron.go\n```go\npackage main\n\nimport (\n    \"fmt\"\n    \"os\"\n    \"github.com/spf13/cobra\"\n)\n\nvar cronCmd = \u0026cobra.Command{\n    Use:   \"cron\",\n    Short: \"Manage scheduled tasks\",\n}\n\nvar cronAddCmd = \u0026cobra.Command{\n    Use:   \"add \u003cschedule\u003e \u003ccommand\u003e\",\n    Short: \"Add a scheduled task\",\n    Args:  cobra.ExactArgs(2),\n    Run: func(cmd *cobra.Command, args []string) {\n        schedule := args[0]\n        command := args[1]\n        // Add job via scheduler\n    },\n}\n\nvar cronListCmd = \u0026cobra.Command{\n    Use:   \"list\",\n    Short: \"List all scheduled tasks\",\n    Run: func(cmd *cobra.Command, args []string) {\n        // List jobs via scheduler\n    },\n}\n\nvar cronRemoveCmd = \u0026cobra.Command{\n    Use:   \"remove \u003cjob-id\u003e\",\n    Short: \"Remove a scheduled task\",\n    Args:  cobra.ExactArgs(1),\n    Run: func(cmd *cobra.Command, args []string) {\n        jobID := args[0]\n        // Remove job via scheduler\n    },\n}\n\nfunc init() {\n    rootCmd.AddCommand(cronCmd)\n    cronCmd.AddCommand(cronAddCmd)\n    cronCmd.AddCommand(cronListCmd)\n    cronCmd.AddCommand(cronRemoveCmd)\n}\n```\n\n### Job Storage\n- Implement JSON storage for jobs (in workspace/jobs.json)\n- Schema: map[string]Job (ID -\u003e Job)\n- Persist on add/remove operations\n\n### Validation\n- Validate cron expression on add\n- Validate job ID on remove\n\n## Acceptance Criteria\n- [ ] `nexbot cron add \"* * * * *\" \"hello world\"` creates job\n- [ ] `nexbot cron list` displays all jobs with ID, schedule, command\n- [ ] `nexbot cron remove \u003cid\u003e` removes job\n- [ ] Jobs persist across restarts (JSON storage)\n- [ ] Invalid cron expressions produce error messages\n- [ ] Integration tests for CLI commands\n\n## Success Metrics\n- All three commands work correctly\n- Jobs persist and load on restart\n- Clear error messages for invalid input\n\n## Notes\n- Use robfig/cron/v3's Parse() for validation\n- Generate unique job IDs (UUID or timestamp-based)\n- Format output for list command (table or JSON)\n","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-04T21:04:13.2165+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T00:06:52.922596+03:00","closed_at":"2026-02-05T00:06:52.922596+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã CLI –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è cron jobs\n\n## –í—ã–ø–æ–ª–Ω–µ–Ω–æ:\n\n**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥ (cmd/nexbot/cron.go):**\n- cron add \u003cschedule\u003e \u003ccommand\u003e - —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π cron job\n- cron list - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏\n- cron remove \u003cjob-id\u003e - —É–¥–∞–ª—è–µ—Ç –∑–∞–¥–∞—á—É –ø–æ ID\n- –ö–æ–º–∞–Ω–¥—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ rootCmd —á–µ—Ä–µ–∑ init()\n\n**–•—Ä–∞–Ω–∏–ª–∏—â–µ jobs:**\n- loadJobs() - –∑–∞–≥—Ä—É–∂–∞–µ—Ç jobs –∏–∑ workspace/jobs.json\n- saveJobs() - —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç map[string]Job –≤ JSON\n- Jobs —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ (readable)\n- Jobs –ø–µ—Ä—Å–∏—Å—Ç—è—Ç –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏ –±–æ—Ç–∞\n\n**–í–∞–ª–∏–¥–∞—Ü–∏—è:**\n- Cron expression –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏\n- Job ID –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏\n- –ß—ë—Ç–∫–∏–µ error messages –¥–ª—è –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–≥–æ –≤–≤–æ–¥–∞\n\n**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (cmd/nexbot/cron_test.go):**\n- 8 unit —Ç–µ—Å—Ç–æ–≤, –≤—Å–µ –ø—Ä–æ—Ö–æ–¥—è—â–∏–µ (PASS)\n- TestCronAdd - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è job\n- TestCronListEmpty - —Å–ø–∏—Å–æ–∫ –±–µ–∑ jobs\n- TestCronListWithJobs - —Å–ø–∏—Å–æ–∫ —Å jobs\n- TestCronRemove - —É–¥–∞–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ job\n- TestCronRemoveNonExistent - —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ (SKIPPED –∏–∑-–∑–∞ os.Exit)\n- TestLoadJobsNoFile - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Ñ–∞–π–ª–∞\n- TestLoadJobsWithFile - –∑–∞–≥—Ä—É–∑–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ñ–∞–π–ª–∞\n- TestSaveJobs - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ jobs –Ω–∞ –¥–∏—Å–∫\n- TestGenerateJobID - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö ID\n- Lint clean –¥–ª—è cmd/nexbot\n\n**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º–∏:**\n- getConfigPath() - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é\n- –¢–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç temp –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏\n- –¢–µ—Å—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –º–µ–Ω—è—é—Ç —Ç–µ–∫—É—â—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç\n\n## –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:\n‚úÖ nexbot cron add —Å–æ–∑–¥–∞—ë—Ç job\n‚úÖ nexbot cron list –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ jobs\n‚úÖ nexbot cron remove —É–¥–∞–ª—è–µ—Ç job\n‚úÖ Jobs –ø–µ—Ä—Å–∏—Å—Ç—è—Ç –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏ (JSON storage)\n‚úÖ Invalid cron expressions –≤—ã–∑—ã–≤–∞—é—Ç error messages\n‚úÖ Integration tests for CLI commands (8 tests, all passing)\n‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (PASS)\n‚úÖ Lint clean –¥–ª—è cmd/nexbot\n‚úÖ –ü—Ä–æ–µ–∫—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è (go build ./...)\n‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–ø—É—à–µ–Ω—ã –≤ remote (git push)\n\n## Success Metrics:\n‚úÖ All three commands work correctly\n‚úÖ Jobs persist and load on restart\n‚úÖ Clear error messages for invalid input","labels":["feature"],"dependencies":[{"issue_id":"Nexbot-2t7","depends_on_id":"Nexbot-tew","type":"blocks","created_at":"2026-02-04T21:05:25.400325+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-2vu","title":"–≠—Ç–∞–ø 1.3: –°–æ–∑–¥–∞—Ç—å internal/constants/paths.go","description":"–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª internal/constants/paths.go\n\n**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**\n- –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è –ø—É—Ç–µ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã\n\n**–°–ø–∏—Å–æ–∫ –∫–æ–Ω—Å—Ç–∞–Ω—Ç:**\n- DefaultEnvPath = \"./.env\" - –ø—É—Ç—å –∫ .env —Ñ–∞–π–ª—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é\n- DefaultConfigPath = \"./config.toml\" - –ø—É—Ç—å –∫ config.toml –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é\n- DefaultWorkDir = \".\" - —Ä–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è cron jobs\n\n**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**\n- –í—Å–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã\n- –î–æ–±–∞–≤–∏—Ç—å godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T01:58:54.711341+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T13:37:53.409738+03:00","closed_at":"2026-02-05T13:37:53.409738+03:00","close_reason":"–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª internal/constants/paths.go —Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏ –ø—É—Ç–µ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã. –í—ã–ø–æ–ª–Ω–µ–Ω–æ: –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã DefaultEnvPath, DefaultConfigPath, DefaultWorkDir —Å godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏. –ü—Ä–æ–µ–∫—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è, —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç, –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–ø—É—à–µ–Ω—ã –≤ remote.","labels":["constants","refactor"]}
{"id":"Nexbot-39b","title":"Write comprehensive unit tests for Workspace module","description":"Create comprehensive unit tests for workspace manager.\n\n**Test Coverage:**\n- New() with valid config\n- New() with invalid config (empty path)\n- New() with relative path\n- EnsureDir() creates directory if not exists\n- EnsureDir() handles existing directory\n- EnsureDir() fails with permission denied (mock)\n- Path() returns correct path with ~ expansion\n- Path() returns correct absolute path\n- ResolvePath() with relative paths\n- ResolvePath() with absolute paths\n- ResolvePath() with .. traversal (security check)\n- Error cases and edge conditions\n\n**Acceptance Criteria:**\n- All tests pass\n- \u003e80% code coverage for workspace.go\n- Tests are readable and follow project conventions\n\n**Files to create:**\n- internal/workspace/workspace_test.go\n\n**Related tasks:** Depends on workspace manager implementation","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","estimated_minutes":60,"created_at":"2026-02-03T01:47:22.013783+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T01:54:50.455437+03:00","closed_at":"2026-02-03T01:54:50.455437+03:00","close_reason":"Comprehensive unit tests –¥–ª—è Workspace module —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω—ã –≤ workspace_test.go\n\n–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:\n- TestNew: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å –≤–∞–ª–∏–¥–Ω—ã–º–∏ –∏ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏\n- TestPath: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –º–µ—Ç–æ–¥ Path()\n- TestBasePath: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –º–µ—Ç–æ–¥ BasePath()\n- TestEnsureDir: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (—Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è/–Ω–æ–≤–∞—è/–ø—É—Å—Ç–∞—è)\n- TestResolvePath: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø—É—Ç–µ–π (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ/–∞–±—Å–æ–ª—é—Ç–Ω—ã–µ/escaping)\n- TestSubpath: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—É—Ç–µ–π –∫ –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º\n- TestEnsureSubpath: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π\n- TestExpandHome: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–∏–ª—å–¥—ã\n- TestIntegration: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã —Å workspace\n- TestEnsureDirPermissions: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞\n- TestEnsureSubpathPermissions: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π\n- TestResolvePathEdgeCases: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø—É—Ç–µ–π\n\n–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏:\n- –í—Å–µ —Ç–µ—Å—Ç—ã PASS ‚úì\n- –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞: 82.1% (\u003e80%) ‚úì\n- –¢–µ—Å—Ç—ã —á–∏—Ç–∞–µ–º—ã–µ –∏ —Å–ª–µ–¥—É—é—Ç –∫–æ–Ω–≤–µ–Ω—Ü–∏—è–º –ø—Ä–æ–µ–∫—Ç–∞ ‚úì\n\n–ü–æ–∫—Ä—ã—Ç–∏–µ –ø–æ —Ñ—É–Ω–∫—Ü–∏—è–º:\n- New(): 100%\n- Path(): 100%\n- BasePath(): 100%\n- EnsureDir(): 83.3%\n- ResolvePath(): 77.8%\n- Subpath(): 100%\n- EnsureSubpath(): 80.0%\n- expandHome(): 87.5%","dependencies":[{"issue_id":"Nexbot-39b","depends_on_id":"Nexbot-ubh","type":"blocks","created_at":"2026-02-03T01:47:56.707048+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-3aj","title":"–≠—Ç–∞–ø 7.1: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ cmd/nexbot/main.go","description":"–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ cmd/nexbot/main.go\n\n**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**\n- –£–ø—Ä–æ—Å—Ç–∏—Ç—å main.go, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏–∑ internal/constants/defaults.go\n\n**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**\n1. –ó–∞–º–µ–Ω–∏—Ç—å —Ö–∞—Ä–¥–∫–æ–¥ –∑–Ω–∞—á–µ–Ω–∏–π:\n   –ë—ã–ª–æ:\n   var (\n       Version   string = \"0.1.0-dev\"\n       BuildTime string = \"unknown\"\n       GitCommit string = \"unknown\"\n       GoVersion string = \"unknown\"\n   )\n   \n   –°—Ç–∞–ª–æ:\n   var (\n       Version   string = constants.DefaultVersion\n       BuildTime string = constants.DefaultBuildTime\n       GitCommit string = constants.DefaultGitCommit\n       GoVersion string = constants.DefaultGoVersion\n   )\n\n2. –î–æ–±–∞–≤–∏—Ç—å import:\n   import (\n       \"os\"\n       \"github.com/aatumaykin/nexbot/internal/constants\"\n   )\n\n**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**\n- main.go –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –ø—Ä–æ—Å—Ç—ã–º (~20 —Å—Ç—Ä–æ–∫)\n- –í—Å–µ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ constants\n","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T01:59:03.047196+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T14:34:26.163412+03:00","closed_at":"2026-02-05T14:34:26.163412+03:00","close_reason":"–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∑–∞–≤–µ—Ä—à—ë–Ω. –•–∞—Ä–¥–∫–æ–¥ –∑–Ω–∞—á–µ–Ω–∏–π –∑–∞–º–µ–Ω—ë–Ω –Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏–∑ internal/constants/defaults.go. –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ origin/main. CI –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã.","labels":["cmd","refactor"]}
{"id":"Nexbot-3ev","title":"–≠—Ç–∞–ø 1.4: –°–æ–∑–¥–∞—Ç—å internal/constants/defaults.go","description":"–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª internal/constants/defaults.go\n\n**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**\n- –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –≤–µ—Ä—Å–∏–∏ –∏ build info\n\n**–°–ø–∏—Å–æ–∫ –∫–æ–Ω—Å—Ç–∞–Ω—Ç:**\n- DefaultVersion = \"0.1.0-dev\"\n- DefaultBuildTime = \"unknown\"\n- DefaultGitCommit = \"unknown\"\n- DefaultGoVersion = \"unknown\"\n\n**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**\n- –≠—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ cmd/nexbot/main.go –≤–º–µ—Å—Ç–æ —Ö–∞—Ä–¥–∫–æ–¥–∞\n- –î–æ–±–∞–≤–∏—Ç—å godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T01:58:55.226401+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T13:39:11.76093+03:00","closed_at":"2026-02-05T13:39:11.76093+03:00","close_reason":"–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª internal/constants/defaults.go —Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏ –¥–ª—è –≤–µ—Ä—Å–∏–∏ –∏ build info. –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –∫–æ–º–ø–∏–ª—è—Ü–∏–µ–π.","labels":["constants","refactor"]}
{"id":"Nexbot-3hw","title":"0.2.5.7.2: Create Heartbeat Checker Tests","description":"## –ó–∞–¥–∞—á–∞ 0.2.5.7.2: Create Heartbeat Checker Tests\n\n**–§–∞–∑–∞:** Heartbeat Checker\n\n**–¶–µ–ª—å:** –¢–µ—Å—Ç—ã –¥–ª—è checker\n\n**–§–∞–π–ª:** internal/heartbeat/checker_test.go\n\n**–¢–µ—Å—Ç—ã:**\n- TestCheckerStartStop\n- TestCheckerProcessResponseOK\n- TestCheckerProcessResponseAlert\n- TestCheckerHeartbeatOKToken\n\n**Mock Agent:**\n\ntype mockAgent struct {\n    response string\n    err      error\n}\n\n**","acceptance_criteria":"**\n- 4 —Ç–µ—Å—Ç–∞ —Å–æ–∑–¥–∞–Ω—ã\n- –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç\n- –ü–æ–∫—Ä—ã—Ç–∏–µ \u003e 80%\n- make test –ø—Ä–æ—Ö–æ–¥–∏—Ç\n\n**","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:07:39.502323+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T19:35:52.788587+03:00","closed_at":"2026-02-05T19:35:52.78859+03:00","labels":["heartbeat","phase7","testing"],"dependencies":[{"issue_id":"Nexbot-3hw","depends_on_id":"Nexbot-42y","type":"blocks","created_at":"2026-02-05T09:11:16Z","created_by":"AI Agent","metadata":"{}"}]}
{"id":"Nexbot-3ja","title":"0.2.5.3.5: Create Scheduler Tests","description":"## –ó–∞–¥–∞—á–∞ 0.2.5.3.5: Create Scheduler Tests\n\n**–§–∞–∑–∞:** Extend Cron Scheduler\n\n**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è oneshot —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏\n\n**–§–∞–π–ª:** internal/cron/scheduler_test.go\n\n**–¢–µ—Å—Ç—ã:**\n- TestSchedulerOneshotExecution\n- TestSchedulerOneshotAlreadyExecuted\n- TestSchedulerCleanupExecuted\n- TestSchedulerStorageIntegration\n\n**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**\n- t.TempDir() –¥–ª—è workspace\n- time.Sleep() –¥–ª—è –æ–∂–∏–¥–∞–Ω–∏—è —Ç–∏–∫–∞\n- Mock workerPool\n\n**","acceptance_criteria":"**\n- 4 —Ç–µ—Å—Ç–∞ —Å–æ–∑–¥–∞–Ω—ã\n- –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç\n- –ü–æ–∫—Ä—ã—Ç–∏–µ \u003e 70%\n- make test –ø—Ä–æ—Ö–æ–¥–∏—Ç\n\n**","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:07:36.454703+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T15:32:20.542199+03:00","closed_at":"2026-02-05T15:32:20.542199+03:00","close_reason":"–°–æ–∑–¥–∞–Ω—ã 4 —Ç–µ—Å—Ç–∞ –¥–ª—è oneshot —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏:\n- TestSchedulerOneshotExecution - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è oneshot –∑–∞–¥–∞—á\n- TestSchedulerOneshotAlreadyExecuted - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–ø—É—Å–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á\n- TestSchedulerCleanupExecuted - –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—á–∏—Å—Ç–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á\n- TestSchedulerStorageIntegration - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å storage\n\nMockWorkerPool –¥–ª—è —Ç–µ—Å—Ç–æ–≤ workerPool\n–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã t.TempDir(), time.Sleep() –¥–ª—è –æ–∂–∏–¥–∞–Ω–∏—è ticker\n–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: –∫–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è, fmt –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ","labels":["cron","phase3","scheduler","testing"],"dependencies":[{"issue_id":"Nexbot-3ja","depends_on_id":"Nexbot-8pf","type":"blocks","created_at":"2026-02-05T09:11:16Z","created_by":"AI Agent","metadata":"{}"}]}
{"id":"Nexbot-3l0","title":"–≠—Ç–∞–ø 7.2: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ cmd/nexbot/serve.go","description":"–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ cmd/nexbot/serve.go\n\n**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**\n- –£–ø—Ä–æ—Å—Ç–∏—Ç—å serve.go —Å 395 –¥–æ ~80 —Å—Ç—Ä–æ–∫\n- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å App –∏–∑ internal/app\n\n**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**\n1. –£–¥–∞–ª–∏—Ç—å –≤—Å—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –∏–∑ serveHandler\n   - –£–¥–∞–ª–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–æ–º–∞–Ω–¥ /new, /status (–±—ã–ª–æ –≤ lines 212-278)\n   - –£–¥–∞–ª–∏—Ç—å formatStatusMessage() (–±—ã–ª–æ –≤ lines 357-389)\n\n2. –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ App:\n   func serveHandler(cmd *cobra.Command, args []string) {\n       // Load .env\n       config.LoadEnvOrDefault(constants.DefaultEnvPath)\n       \n       // Load config\n       configPath := getConfigPath(serveConfigPath)\n       cfg, err := loadConfig(configPath)\n       handleError(messages.ConfigLoadError(err))\n       \n       // Override log level\n       if serveLogLevel != \"\" {\n           cfg.Logging.Level = serveLogLevel\n       }\n       \n       // Validate config\n       if errors := cfg.Validate(); len(errors) \u003e 0 {\n           fmt.Println(messages.ConfigValidationError(errors))\n           os.Exit(1)\n       }\n       \n       // Initialize logger\n       log, err := logger.New(...)\n       logger.SetDefault(log)\n       \n       // Create and run app\n       application := app.New(cfg, log)\n       \n       ctx, cancel := context.WithCancel(context.Background())\n       defer cancel()\n       \n       // Signal handling\n       sigChan := make(chan os.Signal, 1)\n       signal.Notify(sigChan, syscall.SIGINT, syscall.SIGTERM)\n       \n       // Run app in goroutine\n       appErr := make(chan error, 1)\n       go func() {\n           appErr \u003c- application.Run(ctx)\n       }()\n       \n       // Wait for signal or error\n       select {\n       case sig := \u003c-sigChan:\n           log.Info(\"Received shutdown signal\", logger.Field{Key: \"signal\", Value: sig.String()})\n           cancel()\n       case err := \u003c-appErr:\n           if err != nil {\n               log.Error(\"Application error\", err)\n               os.Exit(1)\n           }\n       }\n       \n       log.Info(\"Application stopped\")\n   }\n\n**–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**\nfunc getConfigPath(override string) string {\n    if override != \"\" {\n        return override\n    }\n    return constants.DefaultConfigPath\n}\n\nfunc loadConfig(path string) (*config.Config, error) {\n    return config.Load(path)\n}\n\nfunc handleError(msg string) {\n    fmt.Println(msg)\n    os.Exit(1)\n}\n\n**–ò–º–ø–æ—Ä—Ç—ã:**\n- –î–æ–±–∞–≤–∏—Ç—å: \"github.com/aatumaykin/nexbot/internal/app\"\n- –î–æ–±–∞–≤–∏—Ç—å: \"github.com/aatumaykin/nexbot/internal/constants\"\n- –î–æ–±–∞–≤–∏—Ç—å: \"github.com/aatumaykin/nexbot/internal/messages\"\n- –î–æ–±–∞–≤–∏—Ç—å: \"github.com/aatumaykin/nexbot/internal/config\"\n\n**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**\n- serveHandler –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å ~80 —Å—Ç—Ä–æ–∫\n- –í—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≤ internal/app\n","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T01:59:03.078744+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T14:39:02.425441+03:00","closed_at":"2026-02-05T14:39:02.425441+03:00","close_reason":"‚úÖ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–µ–Ω\n\n**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**\n- cmd/nexbot/serve.go —É–ø—Ä–æ—â–µ–Ω —Å 535 –¥–æ 110 —Å—Ç—Ä–æ–∫ (serveHandler —Å ~400 –¥–æ ~70 —Å—Ç—Ä–æ–∫)\n- –í—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ internal/app (–∫–æ–º–∞–Ω–¥—ã /new, /status, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞)\n- –£–¥–∞–ª–µ–Ω cronWorkerPoolAdapter (–∞–¥–∞–ø—Ç–µ—Ä –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω)\n- –£–¥–∞–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è formatStatusMessage() (–ª–æ–≥–∏–∫–∞ —Ç–µ–ø–µ—Ä—å –≤ internal/commands)\n- –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã: internal/app, internal/constants, internal/messages, internal/config\n- –¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è App –∏–∑ internal/app –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è\n\n**–ü—Ä–æ–≤–µ—Ä–∫–∞:**\n- –ö–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ (make build)\n- –í—Å–µ —Ç–µ—Å—Ç—ã –≤ cmd/nexbot –ø—Ä–æ—Ö–æ–¥—è—Ç (go test ./cmd/nexbot/)\n- –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ —á–µ—Ä–µ–∑ internal/app –∏ internal/commands\n\n**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**\n- –ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–ª—è –¥—Ä—É–≥–∏—Ö cmd —Ñ–∞–π–ª–æ–≤ (config.go, test.go, cron.go)","labels":["cmd","refactor"]}
{"id":"Nexbot-3s8","title":"v0.2.0-19: –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è internal/constants/*","description":"–í—Å–µ —Ç–µ—Å—Ç—ã —Å–æ–∑–¥–∞–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç.\n\n**–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**\n- commands_test.go (3 —Ç–µ—Å—Ç–∞)\n- cron_test.go (5 —Ç–µ—Å—Ç–æ–≤)\n- defaults_test.go (7 —Ç–µ—Å—Ç–æ–≤)\n- messages_test.go (9 —Ç–µ—Å—Ç–æ–≤)\n- paths_test.go (5 —Ç–µ—Å—Ç–æ–≤)\n- test_test.go (12 —Ç–µ—Å—Ç–æ–≤)\n\n–í—Å–µ–≥–æ: 41 —Ç–µ—Å—Ç, –≤—Å–µ –ø—Ä–æ—Ö–æ–¥—è—Ç.\n\n**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –æ –ø–æ–∫—Ä—ã—Ç–∏–∏:**\n–ü–∞–∫–µ—Ç internal/constants —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ const declarations –±–µ–∑ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–≥–æ –∫–æ–¥–∞, –ø–æ—ç—Ç–æ–º—É coverage –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 0%. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è –ø–∞–∫–µ—Ç–æ–≤ —Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏. –í—Å–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã —Ç–µ—Å—Ç–∞–º–∏ –Ω–∞:\n- –ó–Ω–∞—á–µ–Ω–∏—è –∏ —Ñ–æ—Ä–º–∞—Ç—ã\n- –í–∞–ª–∏–¥–Ω–æ—Å—Ç—å —Ñ–æ—Ä–º–∞—Ç–Ω—ã—Ö —Å—Ç—Ä–æ–∫\n- –ù–∞–ª–∏—á–∏–µ —ç–º–æ–¥–∑–∏ –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö\n- –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—É—Ç–µ–π –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π —Ñ–∞–π–ª–æ–≤\n\n–¢–µ—Å—Ç—ã —Å–ª–µ–¥—É—é—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—É —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤ –≤ –ø—Ä–æ–µ–∫—Ç–µ (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ t.Errorf, t.Fatal, t.Run).","status":"closed","priority":3,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T15:51:46.144643+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T19:18:41.295649+03:00","closed_at":"2026-02-05T19:18:41.295991+03:00","dependencies":[{"issue_id":"Nexbot-3s8","depends_on_id":"Nexbot-bxu","type":"discovered-from","created_at":"2026-02-05T15:54:13.721667+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-3ua","title":"0.2.5.8.2: Integrate Heartbeat in Serve","description":"## –ó–∞–¥–∞—á–∞ 0.2.5.8.2: Integrate Heartbeat in Serve\n\n**–§–∞–∑–∞:** Serve Integration\n\n**–¶–µ–ª—å:** –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å heartbeat checker –≤ serve.go\n\n**–§–∞–π–ª:** cmd/nexbot/serve.go\n\n**–®–∞–≥–∏:**\n1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è SendMessageTool:\n   - –°–æ–∑–¥–∞—Ç—å sendMessageTool\n   - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ agentLoop.RegisterTool()\n   - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å \"Send message tool registered\"\n\n2. –ï—Å–ª–∏ cfg.Heartbeat.Enabled:\n   - –°–æ–∑–¥–∞—Ç—å heartbeatChecker\n   - –ó–∞–ø—É—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ go heartbeatChecker.Start(ctx)\n   - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å \"Heartbeat checker started\" —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º\n\n**","acceptance_criteria":"**\n- SendMessageTool –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω\n- Heartbeat checker –∑–∞–ø—É—â–µ–Ω –µ—Å–ª–∏ enabled\n- –õ–æ–≥–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç\n- make build –ø—Ä–æ—Ö–æ–¥–∏—Ç\n\n**","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:07:40.184952+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T19:59:09.024157+03:00","closed_at":"2026-02-05T19:59:09.024169+03:00","labels":["integration","phase8"],"dependencies":[{"issue_id":"Nexbot-3ua","depends_on_id":"Nexbot-7g4","type":"blocks","created_at":"2026-02-05T09:11:16Z","created_by":"AI Agent","metadata":"{}"}]}
{"id":"Nexbot-3ug","title":"–≠—Ç–∞–ø 6.3: –°–æ–∑–¥–∞—Ç—å internal/app/message_processor.go","description":"–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª internal/app/message_processor.go\n\n**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**\n- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ message bus\n\n**–ú–µ—Ç–æ–¥ StartMessageProcessing:**\nfunc (a *App) StartMessageProcessing(ctx context.Context)\n- –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ inboundCh := a.messageBus.SubscribeInbound(ctx)\n- –ó–∞–ø—É—Å—Ç–∏—Ç—å goroutine –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π\n\n**–ú–µ—Ç–æ–¥ processMessage:**\nfunc (a *App) processMessage(ctx context.Context, msg bus.InboundMessage)\n1. –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å: \"Processing message\" —Å user_id, session_id\n2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å msg.Metadata –Ω–∞ –Ω–∞–ª–∏—á–∏–µ \"command\"\n3. –ï—Å–ª–∏ –µ—Å—Ç—å –∫–æ–º–∞–Ω–¥–∞:\n   - –í—ã–∑–≤–∞—Ç—å a.commandHandler.HandleCommand(ctx, cmd, msg)\n   - –ü—Ä–∏ –æ—à–∏–±–∫–µ - –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å\n   - –ü—Ä–∏ cmd == \"restart\": –∑–∞–ø—É—Å—Ç–∏—Ç—å a.Restart() –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ\n   - Return (–Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–∞–ª—å—à–µ)\n4. –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å event EventTypeProcessingStart\n5. –°–æ–∑–¥–∞—Ç—å agentCtx —Å timeout: time.Duration(cfg.Agent.TimeoutSeconds)*time.Second\n6. –í—ã–∑–≤–∞—Ç—å a.agentLoop.Process(agentCtx, msg.SessionID, msg.Content)\n7. –í—ã–∑–≤–∞—Ç—å cancel()\n8. –ü—Ä–∏ –æ—à–∏–±–∫–µ: response = messages.FormatError(err)\n9. –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å event EventTypeProcessingEnd\n10. –ï—Å–ª–∏ response != \"\":\n   - –°–æ–∑–¥–∞—Ç—å outboundMsg —á–µ—Ä–µ–∑ bus.NewOutboundMessage(...)\n   - –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ a.messageBus.PublishOutbound(*outboundMsg)\n\n**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**\n- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –æ—à–∏–±–∫–∏ —á–µ—Ä–µ–∑ a.logger.ErrorCtx\n- –ù–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –¥—Ä—É–≥–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π\n\n**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**\n- –î–æ–±–∞–≤–∏—Ç—å godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏\n","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T01:59:01.265155+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T14:20:58.34681+03:00","closed_at":"2026-02-05T14:20:58.34681+03:00","close_reason":"–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª internal/app/message_processor.go —Å –º–µ—Ç–æ–¥–∞–º–∏ StartMessageProcessing –∏ processMessage. –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: make build —É—Å–ø–µ—Ö, –∫–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–¥–∞—á–µ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –ø—Ä–æ–µ–∫—Ç–∞.","labels":["app","refactor"]}
{"id":"Nexbot-42y","title":"0.2.5.7.1: Create Heartbeat Checker","description":"## –ó–∞–¥–∞—á–∞ 0.2.5.7.1: Create Heartbeat Checker\n\n**–§–∞–∑–∞:** Heartbeat Checker\n\n**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å internal/heartbeat/checker.go\n\n**–§–∞–π–ª:** internal/heartbeat/checker.go\n\n**–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã:**\n\nconst heartbeatPrompt = \"...\"\nconst heartbeatOKToken = \"HEARTBEAT_OK\"\n\n**Agent interface:**\n\ntype Agent interface {\n    ProcessHeartbeatCheck(ctx context.Context) (string, error)\n}\n\n**Checker struct:**\n\ntype Checker struct {\n    interval time.Duration\n    agent    Agent\n    logger   *logger.Logger\n    ctx      context.Context\n    cancel   context.CancelFunc\n    started  bool\n    mu       sync.RWMutex\n}\n\n**–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä:**\n\nfunc NewChecker(intervalMinutes int, agent Agent, logger *logger.Logger) *Checker\n\n**–ú–µ—Ç–æ–¥—ã:**\n- Start() -\u003e –∑–∞–ø—É—Å–∫–∞–µ—Ç ticker\n- Stop() -\u003e –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç\n- processResponse() -\u003e –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—Ç–≤–µ—Ç\n\n**processResponse –ª–æ–≥–∏–∫–∞:**\n- –ï—Å–ª–∏ \"HEARTBEAT_OK\" -\u003e –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å \"all good\"\n- –ò–Ω–∞—á–µ -\u003e –Ω–∏—á–µ–≥–æ (LLM —Å–∞–º –æ—Ç–ø—Ä–∞–≤–∏–ª —á–µ—Ä–µ–∑ tool)\n\n**","acceptance_criteria":"**\n- Checker struct –æ–ø—Ä–µ–¥–µ–ª–µ–Ω\n- Agent interface –æ–ø—Ä–µ–¥–µ–ª–µ–Ω\n- NewChecker –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä\n- Start –∑–∞–ø—É—Å–∫–∞–µ—Ç ticker\n- Stop –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç\n- processResponse –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—Ç–≤–µ—Ç—ã\n- make fmt –ø—Ä–æ—Ö–æ–¥–∏—Ç\n\n**","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:07:39.160463+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T19:13:27.598823+03:00","closed_at":"2026-02-05T19:13:27.598823+03:00","close_reason":"–£—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω Heartbeat Checker –¥–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ HEARTBEAT.md\n\n–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:\n- –§–∞–π–ª internal/heartbeat/checker.go\n- –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã heartbeatPrompt –∏ heartbeatOKToken\n- Agent interface —Å –º–µ—Ç–æ–¥–æ–º ProcessHeartbeatCheck\n- Checker struct —Å interval, agent, logger, context management\n- NewChecker –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º –≤ –º–∏–Ω—É—Ç–∞—Ö\n- –ú–µ—Ç–æ–¥ Start() –¥–ª—è –∑–∞–ø—É—Å–∫–∞ ticker\n- –ú–µ—Ç–æ–¥ Stop() –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏\n- –ú–µ—Ç–æ–¥ processResponse() –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤\n- –ú–µ—Ç–æ–¥ run() - –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª —Å ticker\n\nprocessResponse –ª–æ–≥–∏–∫–∞:\n- –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç HEARTBEAT_OK: –ª–æ–≥–∏—Ä—É–µ—Ç \"all good\"\n- –ò–Ω–∞—á–µ: LLM —É–∂–µ –æ—Ç–ø—Ä–∞–≤–∏–ª —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (send_message)\n\n–§—É–Ω–∫—Ü–∏–∏:\n- Thread-safe –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å sync.RWMutex\n- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ cancellation —á–µ—Ä–µ–∑ context\n- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–æ–∫\n- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π\n- Graceful shutdown\n\n–í—Å–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:\n‚úÖ Checker struct –æ–ø—Ä–µ–¥–µ–ª–µ–Ω\n‚úÖ Agent interface –æ–ø—Ä–µ–¥–µ–ª–µ–Ω\n‚úÖ NewChecker –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä\n‚úÖ Start –∑–∞–ø—É—Å–∫–∞–µ—Ç ticker\n‚úÖ Stop –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç\n‚úÖ processResponse –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—Ç–≤–µ—Ç—ã\n‚úÖ make fmt –ø—Ä–æ—Ö–æ–¥–∏—Ç","labels":["heartbeat","phase7"],"dependencies":[{"issue_id":"Nexbot-42y","depends_on_id":"Nexbot-1em","type":"blocks","created_at":"2026-02-05T09:11:16Z","created_by":"AI Agent","metadata":"{}"}]}
{"id":"Nexbot-465","title":"–≠—Ç–∞–ø 7.5: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ cmd/nexbot/cron.go","description":"–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ cmd/nexbot/cron.go\n\n**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**\n- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å cron.LoadJobs/SaveJobs, –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏–∑ internal/constants/cron.go\n\n**–£–¥–∞–ª–∏—Ç—å –∏–∑ cron.go:**\n- –§—É–Ω–∫—Ü–∏–∏ loadJobs() - –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ cron.LoadJobs()\n- –§—É–Ω–∫—Ü–∏–∏ saveJobs() - –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ cron.SaveJobs()\n- –§—É–Ω–∫—Ü–∏–∏ getConfigPath() - –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ constants.DefaultWorkDir\n- –§—É–Ω–∫—Ü–∏–∏ generateJobID() - –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ cron.GenerateJobID()\n\n**–ó–∞–º–µ–Ω—ã –≤ runCronAdd:**\n1. –ó–∞–≥—Ä—É–∑–∫–∞ jobs:\n   –ë—ã–ª–æ: jobs, err := loadJobs()\n   –°—Ç–∞–ª–æ: jobs, err := cron.LoadJobs(constants.DefaultWorkDir)\n\n2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è ID:\n   –ë—ã–ª–æ: ID: generateJobID()\n   –°—Ç–∞–ª–æ: ID: cron.GenerateJobID()\n\n3. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ:\n   –ë—ã–ª–æ: saveJobs(jobs)\n   –°—Ç–∞–ª–æ: cron.SaveJobs(constants.DefaultWorkDir, jobs)\n\n4. UserID:\n   –ë—ã–ª–æ: UserID: \"cli\"\n   –°—Ç–∞–ª–æ: UserID: constants.CronDefaultUserID\n\n**–ó–∞–º–µ–Ω—ã –≤ runCronList:**\n1. –ó–∞–≥—Ä—É–∑–∫–∞:\n   –ë—ã–ª–æ: loadJobs()\n   –°—Ç–∞–ª–æ: cron.LoadJobs(constants.DefaultWorkDir)\n\n**–ó–∞–º–µ–Ω—ã –≤ runCronRemove:**\n1. –ó–∞–≥—Ä—É–∑–∫–∞:\n   –ë—ã–ª–æ: loadJobs()\n   –°—Ç–∞–ª–æ: cron.LoadJobs(constants.DefaultWorkDir)\n\n2. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ:\n   –ë—ã–ª–æ: saveJobs(jobs)\n   –°—Ç–∞–ª–æ: cron.SaveJobs(constants.DefaultWorkDir, jobs)\n\n**–°–æ–æ–±—â–µ–Ω–∏—è:**\n- –ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ fmt.Printf(\"...\") –Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏–∑ internal/constants/messages.go\n- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: MsgJobAdded, MsgJobID, MsgJobSchedule, MsgJobCommand, –∏ —Ç.–¥.\n\n**–ò–º–ø–æ—Ä—Ç—ã:**\n- –£–¥–∞–ª–∏—Ç—å: \"encoding/json\", \"os\", \"fmt\" (–∫—Ä–æ–º–µ fmt.Printf)\n- –î–æ–±–∞–≤–∏—Ç—å: \"github.com/aatumaykin/nexbot/internal/cron\"\n- –î–æ–±–∞–≤–∏—Ç—å: \"github.com/aatumaykin/nexbot/internal/constants\"\n\n**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**\n- cron.go –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å ~130 —Å—Ç—Ä–æ–∫ (–±—ã–ª–æ 209)\n- –í—Å—è –ª–æ–≥–∏–∫–∞ storage –≤ internal/cron/storage.go\n- –í—Å–µ —Ö–∞—Ä–¥–∫–æ–¥—ã –∑–∞–º–µ–Ω–µ–Ω—ã\n","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T01:59:04.511833+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T15:12:45.072706+03:00","closed_at":"2026-02-05T15:12:45.072706+03:00","close_reason":"–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–µ–Ω:\n- cmd/nexbot/cron.go: —É–¥–∞–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ loadJobs(), saveJobs(), generateJobID(), getConfigPath()\n- cmd/nexbot/cron.go: –∑–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ –≤—ã–∑–æ–≤—ã –Ω–∞ cron.LoadJobs/SaveJobs/GenerateJobID –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã\n- cmd/nexbot/cron.go: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏–∑ constants (DefaultWorkDir, CronDefaultUserID, —Å–æ–æ–±—â–µ–Ω–∏—è)\n- cmd/nexbot/cron.go: —Ñ–∞–π–ª —Å–æ–∫—Ä–∞—â–µ–Ω —Å 209 –¥–æ 149 —Å—Ç—Ä–æ–∫\n- internal/cron/utils.go: —Å–æ–∑–¥–∞–Ω —Ñ–∞–π–ª —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ LoadJobs/SaveJobs/GenerateJobID\n- internal/cron/scheduler.go: —É–¥–∞–ª–µ–Ω–∞ –¥—É–±–ª–∏—Ä—É—é—â–∞—è –ø–∞–∫–µ—Ç–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è GenerateJobID\n- cmd/nexbot/cron_test.go: –æ–±–Ω–æ–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π\n\n–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: –ø—Ä–æ–µ–∫—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ","labels":["cmd","cron","refactor"]}
{"id":"Nexbot-4b9","title":"0.2.5.1.1: Update Configuration","description":"## –ó–∞–¥–∞—á–∞ 0.2.5.1.1: Update Configuration\n\n**–§–∞–∑–∞:** Update Configuration\n\n**–¶–µ–ª—å:** –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è cron –∏ heartbeat –≤ config.example.toml –∏ schema.go\n\n**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**\n- config.example.toml\n- internal/config/schema.go\n\n**–¢—Ä–µ–±—É–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ config.example.toml:**\n\n[cron]\nenabled = true\ntimezone = \"UTC\"\n\n[heartbeat]\nenabled = true\ncheck_interval_minutes = 10\n\n**–¢—Ä–µ–±—É–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ internal/config/schema.go:**\n\ntype CronConfig struct {\n    Enabled  bool   `toml:\"enabled\"`\n    Timezone string `toml:\"timezone\"`\n}\n\ntype HeartbeatConfig struct {\n    Enabled            bool `toml:\"enabled\"`\n    CheckIntervalMinutes int  `toml:\"check_interval_minutes\"`\n}\n\n**","acceptance_criteria":"**\n- config.example.toml —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–µ–∫—Ü–∏–∏ [cron] –∏ [heartbeat]\n- internal/config/schema.go —Å–æ–¥–µ—Ä–∂–∏—Ç CronConfig –∏ HeartbeatConfig\n- Config struct –≤ schema.go –∏–º–µ–µ—Ç –ø–æ–ª—è Cron –∏ Heartbeat\n- godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã\n- make fmt –ø—Ä–æ—Ö–æ–¥–∏—Ç\n- make lint –ø—Ä–æ—Ö–æ–¥–∏—Ç\n\n---","status":"closed","priority":2,"issue_type":"task","assignee":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:07:04.511521+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T12:34:40.225287+03:00","closed_at":"2026-02-05T12:34:40.225287+03:00","close_reason":"–û–±–Ω–æ–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è cron –∏ heartbeat. –ò–∑–º–µ–Ω–µ–Ω–∏—è: 1) config.example.toml: cron.enabled = true, heartbeat.check_interval ‚Üí check_interval_minutes = 10; 2) internal/config/schema.go: HeartbeatConfig.CheckIntervalMinutes int –≤–º–µ—Å—Ç–æ CheckInterval string; 3) internal/config/config.go: –æ–±–Ω–æ–≤–ª–µ–Ω default –¥–ª—è HeartbeatConfig.CheckIntervalMinutes. –í—Å–µ —Ç–µ—Å—Ç—ã internal/config –ø—Ä–æ—Ö–æ–¥—è—Ç.","labels":["config","phase1"]}
{"id":"Nexbot-4ce","title":"Day 1-2: Final polish","description":"–ó–∞–≤–µ—Ä—à–∞—é—â–∏–µ –∑–∞–¥–∞—á–∏ –¥–ª—è Day 1-2.\n\n## –ó–∞–¥–∞—á–∏\n\n### 6.1 –ü—Ä–æ–≤–µ—Ä–∫–∞ Makefile\n- –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ make build —Ä–∞–±–æ—Ç–∞–µ—Ç\n- –î–æ–±–∞–≤–∏—Ç—å make run (nexbot serve)\n\n### 6.2 –û–±–Ω–æ–≤–∏—Ç—å config.example.toml\n- –î–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é [logger]\n\n### 6.3 –ü—Ä–æ–≤–µ—Ä–∏—Ç—å git status\n- –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã\n- –ö–æ–º–º–∏—Ç –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏\n\n## –ü—Ä–∏—ë–º–∫–∞\n- [ ] make build —Å–æ–±–∏—Ä–∞–µ—Ç –±–∏–Ω–∞—Ä—å\n- [ ] make run –∑–∞–ø—É—Å–∫–∞–µ—Ç nexbot serve\n- [ ] config.example.toml —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–µ–∫—Ü–∏—é [logger]\n- [ ] –í—Å–µ –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ git","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","estimated_minutes":20,"created_at":"2026-02-03T01:07:55.441444+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T01:22:47.156014+03:00","closed_at":"2026-02-03T01:22:47.156014+03:00","close_reason":"–ó–∞–≤–µ—Ä—à–∞—é—â–∏–µ –∑–∞–¥–∞—á–∏ Day 1-2 –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:\n\n‚úì make build —Å–æ–±–∏—Ä–∞–µ—Ç –±–∏–Ω–∞—Ä–∏ (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ: 2.9M binary)\n‚úì make run –∑–∞–ø—É—Å–∫–∞–µ—Ç nexbot serve (–æ–±–Ω–æ–≤–ª–µ–Ω–æ –≤ Makefile)\n‚úì config.example.toml —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–µ–∫—Ü–∏—é [logger] (–±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ —Ä–∞–Ω–µ–µ)\n‚úì –í—Å–µ –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ git (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ git status)","labels":["day1-2","final"]}
{"id":"Nexbot-4eu","title":"Implement list_dir tool","description":"Implement list_dir tool for listing directory contents in internal/tools/file.go","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T11:41:14.171607+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T11:45:59.215241+03:00","closed_at":"2026-02-03T11:45:59.215241+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω list_dir tool –≤ internal/tools/file.go. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–∫—Ä—ã—Ç—ã—Ö —Ñ–∞–π–ª–æ–≤. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: path, recursive, include_hidden. –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ.","labels":["file","list-dir","tools"]}
{"id":"Nexbot-4mb","title":"Implement Session manager for JSONL","description":"Implement Session manager for JSONL files with operations: append, read, get_or_create. File location: internal/agent/session.go","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T09:00:37.908028+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T09:17:24.578728+03:00","closed_at":"2026-02-03T09:17:24.578728+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω Session manager –¥–ª—è JSONL. –°–æ–∑–¥–∞–Ω –ø–∞–∫–µ—Ç internal/agent/session —Å –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏:\n- Manager: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏\n- GetOrCreate: –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏\n- Append: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ JSONL —Ñ–∞–π–ª\n- Read: —á—Ç–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ —Å–µ—Å—Å–∏–∏\n- Delete/Clear/Exists/MessageCount: –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏\n\n–ü–∞–∫–µ—Ç –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏—é –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.","labels":["jsonl","manager","session"]}
{"id":"Nexbot-4oh","title":"Message Bus: Events implementation","description":"–°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–æ–±—ã—Ç–∏–π –¥–ª—è message bus.\n\n## –ó–∞–¥–∞—á–∏\n\n### 2.1 –°–æ–∑–¥–∞—Ç—å internal/bus/events.go\n\n#### InboundMessage struct:\n- ChannelType (telegram/discord/etc)\n- UserID, SessionID\n- Content (string)\n- Timestamp\n- Metadata (map[string]any)\n\n#### OutboundMessage struct:\n- ChannelType\n- UserID, SessionID\n- Content (string)\n- Timestamp\n- Metadata (map[string]any)\n\n## –ü—Ä–∏—ë–º–∫–∞\n- [ ] –§–∞–π–ª internal/bus/events.go —Å–æ–∑–¥–∞–Ω\n- [ ] InboundMessage —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ —Ç—Ä–µ–±—É–µ–º—ã–µ –ø–æ–ª—è\n- [ ] OutboundMessage —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ —Ç—Ä–µ–±—É–µ–º—ã–µ –ø–æ–ª—è\n- [ ] –°—Ç—Ä—É–∫—Ç—É—Ä—ã –∏–º–µ—é—Ç JSON-–º–µ—Ç–æ–¥—ã –¥–ª—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏","status":"closed","priority":0,"issue_type":"task","owner":"AATumaykin@tsum.ru","estimated_minutes":20,"created_at":"2026-02-03T01:07:42.368545+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T01:11:11.827144+03:00","closed_at":"2026-02-03T01:11:11.827144+03:00","close_reason":"–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª internal/bus/events.go —Å —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ —Å–æ–±—ã—Ç–∏–π: InboundMessage –∏ OutboundMessage —Å JSON-–º–µ—Ç–æ–¥–∞–º–∏ –¥–ª—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏, —Ç–∏–ø ChannelType –∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã. –ö–æ–¥ —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è.","labels":["core-foundation","day1-2","message-bus"]}
{"id":"Nexbot-4p1","title":"CLI: basic commands implementation","description":"–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π CLI –Ω–∞ –±–∞–∑–µ cobra —Å –±–∞–∑–æ–≤—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–æ–º.\n\n**–ó–∞–¥–∞—á–∏:**\n1. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å github.com/spf13/cobra –¥–ª—è CLI\n2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É :\n   - –ü–∞—Ä—Å–∏–Ω–≥ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ (--config)\n   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è logger\n   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è message bus\n   - –ó–∞–ø—É—Å–∫ connector (Telegram)\n   - –ó–∞–ø—É—Å–∫ agent loop\n   - Graceful shutdown (SIGINT, SIGTERM)\n3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É :\n   - –í—ã–≤–æ–¥ –≤–µ—Ä—Å–∏–∏, build time, git commit\n4. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É :\n   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏\n   - –í–∞–ª–∏–¥–∞—Ü–∏—è API –∫–ª—é—á–µ–π\n   - –í—ã–≤–æ–¥ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏\n5. –û–±–Ω–æ–≤–∏—Ç—å cmd/nexbot/main.go:\n   - –ü–æ–¥–∫–ª—é—á–∏—Ç—å logger –≤–º–µ—Å—Ç–æ fmt.Println\n   - –£–¥–∞–ª–∏—Ç—å placeholder –∫–æ–¥\n\n**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**\n- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å github.com/spf13/cobra –¥–ª—è CLI\n- –ö–æ–º–∞–Ω–¥–∞  –¥–æ–ª–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ñ–ª–∞–≥–∏:\n  - --config string (–ø—É—Ç—å –∫ –∫–æ–Ω—Ñ–∏–≥—É, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ./config.toml)\n  - --workspace string (–ø—É—Ç—å –∫ workspace, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞)\n  - --debug (–≤–∫–ª—é—á–∏—Ç—å debug –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)\n- Graceful shutdown —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º –≤—Å–µ—Ö goroutines\n- –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º\n\n**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:**\n- [ ] –ö–æ–º–∞–Ω–¥–∞  –∑–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞\n- [ ] –ö–æ–º–∞–Ω–¥–∞  –≤—ã–≤–æ–¥–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–µ—Ä—Å–∏–∏\n- [ ] –ö–æ–º–∞–Ω–¥–∞  –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–Ω—Ñ–∏–≥\n- [ ] Graceful shutdown —Ä–∞–±–æ—Ç–∞–µ—Ç (Ctrl+C –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –±–æ—Ç–∞)\n- [ ] Logger –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω (–≤–º–µ—Å—Ç–æ fmt.Println)\n- [ ] Unit-—Ç–µ—Å—Ç—ã —Å–æ–∑–¥–∞–Ω—ã –¥–ª—è CLI –ø–∞—Ä—Å–∏–Ω–≥–∞ (–º–∏–Ω–∏–º—É–º 60% coverage)\n\n**–°–≤—è–∑—å —Å –ø–ª–∞–Ω–æ–º:** PROJECT_PLAN.md Day 1, –ø—É–Ω–∫—Ç—ã: CLI: basic commands (cmd/nexbot/main.go)","status":"closed","priority":0,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T00:34:27.004722+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T00:51:08.744534+03:00","closed_at":"2026-02-03T00:51:08.744534+03:00","close_reason":"‚úÖ CLI: basic commands implementation –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ\n\n**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**\n1. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω github.com/spf13/cobra –¥–ª—è CLI\n2. –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å internal/config:\n   - schema.go: —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏\n   - config.go: –∑–∞–≥—Ä—É–∑–∫–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è TOML –∫–æ–Ω—Ñ–∏–≥–æ–≤\n   - config_test.go: unit-—Ç–µ—Å—Ç—ã (64.2% coverage)\n3. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–æ–º–∞–Ω–¥—ã CLI:\n   - version: –≤—ã–≤–æ–¥ –≤–µ—Ä—Å–∏–∏, build time, git commit\n   - config validate: –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏\n   - run: –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞ —Å graceful shutdown\n4. –û–±–Ω–æ–≤–ª–µ–Ω cmd/nexbot/main.go:\n   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω cobra –≤–º–µ—Å—Ç–æ placeholder –∫–æ–¥–∞\n   - Logger –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω (–≤–º–µ—Å—Ç–æ fmt.Println)\n   - Graceful shutdown (SIGINT, SIGTERM)\n5. –°–æ–∑–¥–∞–Ω—ã unit-—Ç–µ—Å—Ç—ã –¥–ª—è CLI (10.4% coverage)\n\n**–ö–æ–º–∞–Ω–¥—ã CLI:**\n- `nexbot version` - –≤—ã–≤–æ–¥ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤–µ—Ä—Å–∏–∏\n- `nexbot config validate [config-file]` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏\n- `nexbot run --config \u003cpath\u003e --workspace \u003cpath\u003e --debug` - –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞\n\n**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤:**\n\n\n**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:**\n- ‚úÖ –ö–æ–º–∞–Ω–¥–∞ `run` –∑–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞ (—Å TODO –¥–ª—è message bus –∏ agent loop)\n- ‚úÖ –ö–æ–º–∞–Ω–¥–∞ `version` –≤—ã–≤–æ–¥–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–µ—Ä—Å–∏–∏\n- ‚úÖ –ö–æ–º–∞–Ω–¥–∞ `config validate` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–Ω—Ñ–∏–≥\n- ‚úÖ Graceful shutdown —Ä–∞–±–æ—Ç–∞–µ—Ç (SIGINT/SIGTERM)\n- ‚úÖ Logger –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω\n- ‚úÖ Unit-—Ç–µ—Å—Ç—ã —Å–æ–∑–¥–∞–Ω—ã (config 64.2% \u003e 60%)\n\n**–°–≤—è–∑—å —Å –ø–ª–∞–Ω–æ–º:** PROJECT_PLAN.md Day 1, –ø—É–Ω–∫—Ç—ã: CLI: basic commands (cmd/nexbot/main.go)","dependencies":[{"issue_id":"Nexbot-4p1","depends_on_id":"Nexbot-mog","type":"blocks","created_at":"2026-02-03T00:34:51.238899+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-4sd","title":"Write integration tests for Memory+Context+Session","description":"Write integration tests for Memory + Context + Session covering the full context building workflow","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T09:00:48.652444+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T09:33:54.822558+03:00","closed_at":"2026-02-03T09:33:54.822558+03:00","close_reason":"–ù–∞–ø–∏—Å–∞–Ω—ã integration tests –¥–ª—è Memory + Context + Session. –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª internal/agent/context/integration_test.go —Å —Ç–µ—Å—Ç–∞–º–∏:\n- TestFullContextWorkflow: –ø–æ–ª–Ω—ã–π workflow —Å–µ—Å—Å–∏–∏ ‚Üí –ø–∞–º—è—Ç—å ‚Üí –∫–æ–Ω—Ç–µ–∫—Å—Ç\n- TestSessionMemoryIntegration: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Session –∏ Memory stores\n- TestContextBuilderWithMemory: –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –∏–∑ –ø–∞–º—è—Ç–∏\n- TestMultipleSessionsWithSameContext: –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Å—Å–∏–π —Å –æ–¥–Ω–∏–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º\n- TestMemoryFormatsIntegration: —Ä–∞–±–æ—Ç–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ –ø–∞–º—è—Ç–∏ (JSONL –∏ Markdown)\n- TestPersistenceAcrossRestart: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ\n\n–í—Å–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –ø–æ–ª–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π —Ä–∞–±–æ—Ç—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç:\n1. –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏\n2. –•—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –ø–∞–º—è—Ç–∏\n3. –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å –∏—Å—Ç–æ—Ä–∏–µ–π\n4. –ò–∑–æ–ª—è—Ü–∏—é —Ä–∞–∑–Ω—ã—Ö —Å–µ—Å—Å–∏–π\n5. –ü–æ–¥–¥–µ—Ä–∂–∫—É —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ —Ö—Ä–∞–Ω–µ–Ω–∏—è\n6. –°–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö\n\n–í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ (PASS).","labels":["context","integration","memory","session","tests"]}
{"id":"Nexbot-5f5","title":"0.2.5.2.3: Implement Storage Write Methods","description":"**–§–∞–∑–∞:** JSONL Storage Layer\n\n**–¶–µ–ª—å:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã Append, Remove –∏ Save –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è cron.jsonl\n\n**–§–∞–π–ª –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:** internal/cron/storage.go\n\n**–ú–µ—Ç–æ–¥—ã –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**\n\n**1. Append - –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É:**\n\n–õ–æ–≥–∏–∫–∞:\n- –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª —Å —Ñ–ª–∞–≥–∞–º–∏ os.O_APPEND|os.O_CREATE|os.O_WRONLY (0644)\n- json.Marshal(job)\n- –ó–∞–ø–∏—Å–∞—Ç—å —Å—Ç—Ä–æ–∫—É + \\n\n- –í–µ—Ä–Ω—É—Ç—å nil\n\n**2. Remove - —É–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É –ø–æ ID:**\n\n–õ–æ–≥–∏–∫–∞:\n- –í—ã–∑–≤–∞—Ç—å Load() –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–¥–∞—á\n- –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á–∏, –∏—Å–∫–ª—é—á–∞—è jobID\n- –í—ã–∑–≤–∞—Ç—å Save(jobs)\n- –í–µ—Ä–Ω—É—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç Save\n\n**3. Save - —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ –∑–∞–¥–∞—á–∏ (atomic write):**\n\n–õ–æ–≥–∏–∫–∞:\n- –°–æ–∑–¥–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª: s.filePath + \".tmp\"\n- –û—Ç–∫—Ä–∏—Ç—å —Ñ–∞–π–ª —Å os.O_CREATE|os.O_WRONLY|os.O_TRUNC (0644)\n- –î–ª—è –∫–∞–∂–¥–æ–≥–æ job:\n  - json.Marshal(job)\n  - –ó–∞–ø–∏—Å–∞—Ç—å —Å—Ç—Ä–æ–∫—É + \\n\n- –ó–∞–∫—Ä—ã—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª\n- –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª –≤ –æ—Å–Ω–æ–≤–Ω–æ–π: os.Rename(tmpPath, s.filePath)\n- –í–µ—Ä–Ω—É—Ç—å nil\n\n**Atomic write –≤–∞–∂–µ–Ω –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —á–∞—Å—Ç–∏—á–Ω–æ–π –∑–∞–ø–∏—Å–∏!**\n\n**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** 0.2.5.2.2\n\n**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –ú–µ—Ç–æ–¥—ã –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ cron.jsonl","acceptance_criteria":"- –ú–µ—Ç–æ–¥ Append() —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç job –≤ —Ñ–∞–π–ª\n- –ú–µ—Ç–æ–¥ Remove() —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ —É–¥–∞–ª—è–µ—Ç job –ø–æ ID\n- –ú–µ—Ç–æ–¥ Save() —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å atomic write (—á–µ—Ä–µ–∑ tmp —Ñ–∞–π–ª)\n- –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ tmp —Ñ–∞–π–ª–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ\n- –û—à–∏–±–∫–∏ –ø—Ä–∏ –æ–ø–µ—Ä–∞—Ü–∏—è—Ö —Å —Ñ–∞–π–ª–∞–º–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ\n- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ s.logger\n- make fmt –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:02:44.430935+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T15:17:06.627132+03:00","closed_at":"2026-02-05T15:17:06.627132+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –º–µ—Ç–æ–¥—ã Storage:\n- Append() - –¥–æ–±–∞–≤–ª—è–µ—Ç job –≤ —Ñ–∞–π–ª —Å —Ñ–ª–∞–≥–∞–º–∏ os.O_APPEND|os.O_CREATE|os.O_WRONLY\n- Remove() - –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ jobs, —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ ID, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç\n- Save() - atomic write —á–µ—Ä–µ–∑ –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª —Å –ø–æ—Å–ª–µ–¥—É—é—â–∏–º –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ–º\n\n–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: –∫–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è, fmt –∏ lint –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ","labels":["cron","phase2","storage"],"dependencies":[{"issue_id":"Nexbot-5f5","depends_on_id":"Nexbot-1l6","type":"blocks","created_at":"2026-02-05T09:11:16Z","created_by":"AI Agent","metadata":"{}"},{"issue_id":"Nexbot-5f5","depends_on_id":"Nexbot-2vu","type":"blocks","created_at":"2026-02-05T12:02:44.436325+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-5s5","title":"v0.2.0 Spawn tool implementation","description":"# v0.2.0 Spawn tool implementation\n\n## Description\nImplement spawn tool that allows the agent to create subagents for parallel task execution.\n\n## Implementation Details\n\n### internal/tools/spawn.go\n```go\npackage tools\n\nimport (\n    \"context\"\n    \"github.com/atumaikin/nexbot/internal/agent/subagent\"\n)\n\ntype SpawnTool struct {\n    manager *subagent.Manager\n}\n\nfunc NewSpawnTool(manager *subagent.Manager) *SpawnTool {\n    return \u0026SpawnTool{manager: manager}\n}\n\nfunc (t *SpawnTool) Name() string {\n    return \"spawn\"\n}\n\nfunc (t *SpawnTool) Description() string {\n    return \"Create a subagent for parallel task execution. The subagent will have its own isolated session and memory.\"\n}\n\nfunc (t *SpawnTool) Parameters() map[string]any {\n    return map[string]any{\n        \"type\": \"object\",\n        \"properties\": map[string]any{\n            \"task\": map[string]any{\n                \"type\":        \"string\",\n                \"description\": \"Task description for the subagent\",\n            },\n            \"timeout_seconds\": map[string]any{\n                \"type\":        \"number\",\n                \"description\": \"Optional timeout in seconds (default: 300)\",\n            },\n        },\n        \"required\": []string{\"task\"},\n    }\n}\n\nfunc (t *SpawnTool) Execute(ctx context.Context, args map[string]any) (string, error) {\n    task := args[\"task\"].(string)\n    subagent, err := t.manager.Spawn(ctx, \"parent\", task)\n    if err != nil {\n        return \"\", err\n    }\n    return fmt.Sprintf(\"Subagent spawned with ID: %s\", subagent.ID), nil\n}\n```\n\n### Tool Registration\n- Register spawn tool in tools.Registry\n- Inject subagent.Manager via constructor\n\n### Tool Schema\n```json\n{\n  \"type\": \"function\",\n  \"function\": {\n    \"name\": \"spawn\",\n    \"description\": \"Create a subagent for parallel task execution\",\n    \"parameters\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"task\": {\n          \"type\": \"string\",\n          \"description\": \"Task description for the subagent\"\n        },\n        \"timeout_seconds\": {\n          \"type\": \"number\",\n          \"description\": \"Optional timeout in seconds (default: 300)\"\n        }\n      },\n      \"required\": [\"task\"]\n    }\n  }\n}\n```\n\n## Acceptance Criteria\n- [ ] SpawnTool implements Tool interface\n- [ ] Tool parameters match schema above\n- [ ] Spawn calls manager.Spawn()\n- [ ] Returns subagent ID in response\n- [ ] Error handling for invalid arguments\n- [ ] Unit tests for spawn tool\n- [ ] Integration test with agent loop\n\n## Success Metrics\n- Agent can spawn subagents via tool calling\n- Subagents execute independently\n- LLM receives proper tool output\n\n## Notes\n- Subagent lifetime: timeout or explicit stop\n- Consider limit on concurrent subagents (config)\n- Log spawn/stop events\n","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-04T21:04:13.453115+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T00:33:42.351613+03:00","closed_at":"2026-02-05T00:33:42.351613+03:00","close_reason":"Spawn tool —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω: internal/tools/spawn.go —Å unit/–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ —Ç–µ—Å—Ç–∞–º–∏, –ø–æ–∫—Ä—ã—Ç–∏–µ 100%, –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç, make fmt/lint —É—Å–ø–µ—à–Ω—ã","labels":["feature"],"dependencies":[{"issue_id":"Nexbot-5s5","depends_on_id":"Nexbot-ci0","type":"blocks","created_at":"2026-02-04T21:05:25.535733+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-5vu","title":"–≠—Ç–∞–ø 9.4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É CLI –∫–æ–º–∞–Ω–¥","description":"–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É CLI –∫–æ–º–∞–Ω–¥\n\n**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**\n- –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö CLI –∫–æ–º–∞–Ω–¥\n\n**–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**\n1. go run cmd/nexbot/main.go config validate\n   - –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å: Configuration is valid\n   - –ò–ª–∏ –æ—à–∏–±–∫–∏ –µ—Å–ª–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥\n\n2. go run cmd/nexbot/main.go cron add \"*/5 * * * *\" \"test command\"\n   - –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å: Job added successfully\n   - –ü–æ–∫–∞–∑–∞—Ç—å ID, Schedule, Command\n\n3. go run cmd/nexbot/main.go cron list\n   - –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ jobs\n   - –ò–ª–∏ \"No scheduled tasks found\"\n\n4. go run cmd/nexbot/main.go cron remove \u003cjob-id\u003e\n   - –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å: Job removed successfully\n\n5. go run cmd/nexbot/main.go test llm\n   - –î–æ–ª–∂–µ–Ω –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥\n   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å Z.ai provider\n   - –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å\n   - –ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç\n\n**–ü—Ä–æ–≤–µ—Ä–∫–∏:**\n- –í—Å–µ –∫–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –±–µ–∑ –ø–∞–Ω–∏–∫\n- –í—ã–≤–æ–¥ –ø–æ–Ω—è—Ç–µ–Ω –∏ –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω\n- –û—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ\n\n**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**\n- –í—Å–µ CLI –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ\n","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T01:59:06.739751+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T18:43:46.139039+03:00","closed_at":"2026-02-05T18:43:46.139053+03:00","labels":["manual","test"]}
{"id":"Nexbot-5zj","title":"Implement Context builder for system prompt","description":"Implement Context builder for system prompt assembly with priority order: IDENTITY ‚Üí AGENTS ‚Üí SOUL ‚Üí USER ‚Üí TOOLS ‚Üí memory. File location: internal/agent/context.go","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T09:00:39.313539+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T09:20:47.16291+03:00","closed_at":"2026-02-03T09:20:47.16291+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω Context builder –¥–ª—è system prompt. –°–æ–∑–¥–∞–Ω –ø–∞–∫–µ—Ç internal/agent/context —Å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é:\n- Build: —Å–±–æ—Ä–∫–∞ system prompt –≤ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ IDENTITY ‚Üí AGENTS ‚Üí SOUL ‚Üí USER ‚Üí TOOLS\n- BuildWithMemory: —Å–±–æ—Ä–∫–∞ —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ –ø–∞–º—è—Ç–∏\n- BuildForSession: –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–µ—Å—Å–∏–∏\n- ReadMemory: —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ workspace/memory\n- processTemplates: –æ–±—Ä–∞–±–æ—Ç–∫–∞ —à–∞–±–ª–æ–Ω–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö ({{CURRENT_TIME}}, {{WORKSPACE_PATH}}, –∏ —Ç.–¥.)\n- GetComponent: –ø–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞\n\n–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ –∏ —à–∞–±–ª–æ–Ω–æ–≤ –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞. –ü–∞–∫–µ—Ç –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏—é.","labels":["builder","context","system-prompt"]}
{"id":"Nexbot-6jc","title":"v0.2.0-20: –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è internal/messages/*","description":"–¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞–ø–∏—Å–∞—Ç—å unit tests –¥–ª—è –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –≤ internal/messages/:\n- errors.go\n- status.go\n\n–ü—Ä–æ–≤–µ—Ä–∫–∏:\n1. –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–∫—Ä—ã—Ç—ã —Ç–µ—Å—Ç–∞–º–∏\n2. –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–æ–≤ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å \u003e 80%\n3. –¢–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã —Å–ª–µ–¥–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—É —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤ –≤ –ø—Ä–æ–µ–∫—Ç–µ","status":"closed","priority":3,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T15:53:29.106817+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T19:21:30.290936+03:00","closed_at":"2026-02-05T19:21:30.290936+03:00","close_reason":"–ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞:\n\n**–°–¥–µ–ª–∞–Ω–æ:**\n- –°–æ–∑–¥–∞–Ω internal/messages/errors_test.go —Å —Ç–µ—Å—Ç–∞–º–∏ –¥–ª—è FormatError, FormatConfigLoadError, FormatValidationErrors\n- –°–æ–∑–¥–∞–Ω internal/messages/status_test.go —Å —Ç–µ—Å—Ç–∞–º–∏ –¥–ª—è FormatStatusMessage\n- –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–æ–≤: 100% (–≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–∫—Ä—ã—Ç—ã)\n- –¢–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç edge cases: nil –æ—à–∏–±–∫–∏, –ø—É—Å—Ç—ã–µ —Å–ª–∞–π—Å—ã, unicode, —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã\n- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: —Ç–æ—á–Ω–æ—Å—Ç—å temperature, session IDs, —Ä–∞–∑–º–µ—Ä—ã —Ñ–∞–π–ª–æ–≤\n- make ci –ø—Ä–æ—à–µ–ª —É—Å–ø–µ—à–Ω–æ\n- –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –∏ –∑–∞–ø—É—à–µ–Ω—ã –≤ origin/main (commit 99f5295)\n\n**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**\n- –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (PASS)\n- –ü–æ–∫—Ä—ã—Ç–∏–µ \u003e 80% (—Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ 100%)\n- –¢–µ—Å—Ç—ã —Å–ª–µ–¥—É—é—Ç –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤ –≤ –ø—Ä–æ–µ–∫—Ç–µ","dependencies":[{"issue_id":"Nexbot-6jc","depends_on_id":"Nexbot-bxu","type":"discovered-from","created_at":"2026-02-05T15:54:14.283078+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-6rt","title":"Write tests for Telegram connector","description":"Write tests for Telegram connector including mock bot, message parsing, inbound/outbound handling","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T10:49:00.793343+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T11:13:09.535313+03:00","closed_at":"2026-02-03T11:13:09.535313+03:00","close_reason":"–ù–∞–ø–∏—Å–∞–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è Telegram connector. –¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç: —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–∞, –∑–∞–ø—É—Å–∫ —Å –æ—Ç–∫–ª—é—á–µ–Ω–Ω—ã–º –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–æ–º, –≤–∞–ª–∏–¥–∞—Ü–∏—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –ø—Ä–æ–≤–µ—Ä–∫—É whitelist, –æ–±—Ä–∞–±–æ—Ç–∫—É update (nil message, nil text, success, whitelist blocked), graceful shutdown, –æ–±—Ä–∞–±–æ—Ç–∫—É outbound —Å–æ–æ–±—â–µ–Ω–∏–π (basic, non-telegram), –≤–∞–ª–∏–¥–∞—Ü–∏—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. –í—Å–µ 11 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ. –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ nil bot –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤ —Ç–µ—Å—Ç–∞—Ö.","labels":["mock","telegram","tests"]}
{"id":"Nexbot-6tz","title":"v0.2.0-7: –ò—Å–ø—Ä–∞–≤–∏—Ç—å markdown —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Telegram","description":"\n# –ò—Å–ø—Ä–∞–≤–∏—Ç—å markdown —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Telegram (v0.2.0-7)\n\n## –ü—Ä–æ–±–ª–µ–º–∞\n–°–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –±–æ—Ç–∞ –ø—Ä–∏—Ö–æ–¥—è—Ç —Å markdown —Ä–∞–∑–º–µ—Ç–∫–æ–π, –Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ –æ–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç (–≤–∏–¥–Ω—ã —Å–∏–º–≤–æ–ª—ã —Ä–∞–∑–º–µ—Ç–∫–∏ –≤–º–µ—Å—Ç–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è).\n\n## –ü—Ä–∏—á–∏–Ω–∞\n–í `internal/channels/telegram/connector.go` —Ñ—É–Ω–∫—Ü–∏—è `handleOutbound()` (—Å—Ç—Ä–æ–∫–∏ 399-402) –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `ParseMode` –≤ `SendMessageParams`, –∏–∑-–∑–∞ —á–µ–≥–æ markdown –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–∞–∫ –æ–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç.\n\n## –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å\n\n### 1. –î–æ–±–∞–≤–∏—Ç—å ParseMode –≤ handleOutbound()\n–í `internal/channels/telegram/connector.go` —Å—Ç—Ä–æ–∫–∞ ~399:\n\n**–ë—ã–ª–æ:**\n```go\nparams := telego.SendMessageParams{\n    ChatID: telego.ChatID{ID: chatID},\n    Text:   msg.Content,\n}\n```\n\n**–°—Ç–∞–ª–æ:**\n```go\nparams := telego.SendMessageParams{\n    ChatID:   telego.ChatID{ID: chatID},\n    Text:     msg.Content,\n    ParseMode: telego.ModeMarkdown,\n}\n```\n\n### 2. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É –¥–ª—è ParseMode\n–î–æ–±–∞–≤–∏—Ç—å –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞:\n```go\nconst (\n    // TelegramParseMode - —Ä–µ–∂–∏–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π\n    TelegramParseMode = telego.ModeMarkdown\n)\n```\n\n## –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è\n1. –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º markdown —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º\n2. –ñ–∏—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç (`**text**`) –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ –∂–∏—Ä–Ω—ã–π\n3. –ö—É—Ä—Å–∏–≤ (`*text*`) –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ –∫—É—Ä—Å–∏–≤\n4. –ë–ª–æ–∫–∏ –∫–æ–¥ (```code```) –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ –∫–æ–¥\n5. –°—Å—ã–ª–∫–∏ (`[text](url)`) –∫–ª–∏–∫–∞—é—Ç—Å—è\n6. –°–ø–∏—Å–∫–∏ (`- item`) –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ —Å–ø–∏—Å–∫–∏\n\n## –°—Å—ã–ª–∫–∏\n- Telego API: https://github.com/mymmrac/telego\n- SendMessageParams: https://pkg.go.dev/github.com/mymmrac/telego#SendMessageParams\n- –§–∞–π–ª: `internal/channels/telegram/connector.go` —Å—Ç—Ä–æ–∫–∞ 399\n","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T08:07:38.44095+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T08:08:17.891816+03:00","closed_at":"2026-02-05T08:08:17.891816+03:00","close_reason":"–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ! –î–æ–±–∞–≤–ª–µ–Ω ParseMode –¥–ª—è markdown —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ Telegram —Å–æ–æ–±—â–µ–Ω–∏—è—Ö.\n\n**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**\n1. –í `internal/channels/telegram/connector.go` (—Å—Ç—Ä–æ–∫–∞ ~404) –¥–æ–±–∞–≤–ª–µ–Ω–æ:\n   - `ParseMode: telego.ModeMarkdown`\n2. –≠—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ markdown –≤ Telegram\n\n**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**\n```go\nparams := telego.SendMessageParams{\n    ChatID:   telego.ChatID{ID: chatID},\n    Text:     msg.Content,\n    ParseMode: telego.ModeMarkdown,\n}\n```\n\n**–ß—Ç–æ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç:**\n- ‚úÖ –ñ–∏—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç (`**text**`) –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ –∂–∏—Ä–Ω—ã–π\n- ‚úÖ –ö—É—Ä—Å–∏–≤ (`*text*`) –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ –∫—É—Ä—Å–∏–≤\n- ‚úÖ –ë–ª–æ–∫–∏ –∫–æ–¥ (```code```) –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ –∫–æ–¥\n- ‚úÖ –°—Å—ã–ª–∫–∏ (`[text](url)`) –∫–ª–∏–∫–∞—é—Ç—Å—è\n- ‚úÖ –°–ø–∏—Å–∫–∏ (`- item`) –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ —Å–ø–∏—Å–∫–∏\n\n**–ö–æ–º–º–∏—Ç:**\n- c6b8b46 - Fix: Add ParseMode for markdown formatting (5 insertions, 3 deletions)\n\n**–¢–µ—Å—Ç—ã:**\n- –í—Å–µ —Ç–µ—Å—Ç—ã –≤ `internal/channels/telegram` –ø—Ä–æ—Ö–æ–¥—è—Ç (PASS)\n- –ö–æ–º–º–∏—Ç –∑–∞–ø—É—à–µ–Ω –≤ origin/main","labels":["bug","markdown","telegram","v0.2.0"]}
{"id":"Nexbot-6z2","title":"LLM: Provider interface definition","description":"–°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –≤ internal/llm/provider.go.\n\nProvider interface —Å –º–µ—Ç–æ–¥–∞–º–∏:\n- Chat(ctx context.Context, req ChatRequest) (*ChatResponse, error)\n- SupportsToolCalling() bool\n- GetDefaultModel() string\n\n–°—Ç—Ä—É–∫—Ç—É—Ä—ã:\n- ChatRequest: Messages, Model, Temperature, MaxTokens\n- ChatResponse: Content, FinishReason, ToolCalls, Usage\n- Message: Role, Content\n- Usage: PromptTokens, CompletionTokens, TotalTokens\n\n–ü—Ä–∏—ë–º–∫–∞: —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω, —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å JSON —Ç–µ–≥–∞–º–∏, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞.","status":"closed","priority":0,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T01:34:02.861457+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T01:38:37.491453+03:00","closed_at":"2026-02-03T01:38:37.491453+03:00","close_reason":"–°–æ–∑–¥–∞–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Provider –∏ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:\n- Provider interface —Å –º–µ—Ç–æ–¥–∞–º–∏ Chat, SupportsToolCalling, GetDefaultModel\n- ChatRequest, ChatResponse —Å –ø–æ–ª—è–º–∏ Messages, Content, FinishReason, ToolCalls, Usage\n- Message, Role, ToolCall, Usage, ToolDefinition —Å JSON —Ç–µ–≥–∞–º–∏\n- –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ –≤—Å–µ–º —Ç–∏–ø–∞–º –∏ –º–µ—Ç–æ–¥–∞–º\n\n–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: –∫–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è (go build ./...), —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –∑–∞–¥–∞—á–∏.","labels":["core-foundation","day3","llm"]}
{"id":"Nexbot-71z","title":"v0.2.0-19: –û–±–Ω–æ–≤–∏—Ç—å docs/ARCHITECTURE.md","description":"docs/ARCHITECTURE.md –æ–±–Ω–æ–≤–ª—ë–Ω —Å–æ–≥–ª–∞—Å–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –∑–∞–¥–∞—á–∏.\n\n**–û–±–Ω–æ–≤–ª–µ–Ω–∏—è:**\n1. ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ v0.2 —Å –Ω–æ–≤—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏:\n   - Cron Scheduler\n   - Subagent Manager\n   - Worker Pool\n   - HEARTBEAT System\n\n2. ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω —Ä–∞–∑–¥–µ–ª '–ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã v0.2':\n   - Cron Scheduler: –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Worker Pool, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ oneshot –∑–∞–¥–∞—á, JSONL —Ö—Ä–∞–Ω–∏–ª–∏—â–µ\n   - Subagent Manager: –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∏–∑–æ–ª—è—Ü–∏—è —Å–µ—Å—Å–∏–π, thread-safe –æ–ø–µ—Ä–∞—Ü–∏–∏, parent-child –æ—Ç–Ω–æ—à–µ–Ω–∏—è\n   - Worker Pool: –¥–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç—Ä–∏–∫–∏, —Ç–∏–ø—ã –∑–∞–¥–∞—á, panic recovery\n   - HEARTBEAT System: –¥–æ–±–∞–≤–ª–µ–Ω—ã Loader, Parser, Checker, Agent interface\n\n3. ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω —Ä–∞–∑–¥–µ–ª '–ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö':\n   - –û—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫: –¥–æ–±–∞–≤–ª–µ–Ω –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã v0.2\n   - –ü–æ—Ç–æ–∫ Cron –∑–∞–¥–∞—á: –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Worker Pool, oneshot –∑–∞–¥–∞—á–∏\n   - –ü–æ—Ç–æ–∫ Subagent: –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏\n   - –ü–æ—Ç–æ–∫ Worker Pool: –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á\n\n4. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª '–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ v0.2' —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞:\n   - architecture/cron_scheduler.md\n   - architecture/subagent_manager.md\n   - architecture/worker_pool.md\n   - architecture/heartbeat_system.md\n\n**–†–µ–∑—É–ª—å—Ç–∞—Ç:**\n- –§–∞–π–ª –æ–±–Ω–æ–≤–ª—ë–Ω —Å 569 –¥–æ 645 —Å—Ç—Ä–æ–∫\n- –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã v0.2 –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã\n- –î–∏–∞–≥—Ä–∞–º–º—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ\n- –î–æ–±–∞–≤–ª–µ–Ω—ã —Å—Å—ã–ª–∫–∏ –Ω–∞ –ø–æ–¥—Ä–æ–±–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é","status":"closed","priority":3,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T13:11:28.354159+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T19:21:59.899827+03:00","closed_at":"2026-02-05T19:21:59.899833+03:00","dependencies":[{"issue_id":"Nexbot-71z","depends_on_id":"Nexbot-h2l","type":"blocks","created_at":"2026-02-05T13:11:35.533388+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-76y","title":"Implement skills loader from workspace and builtin directories","description":"Implement skills loader for workspace/skills/ and builtin/skills/ in internal/skills/loader.go","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T11:41:17.8966+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T12:13:55.86843+03:00","closed_at":"2026-02-03T12:13:55.86843+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω skills loader –≤ internal/skills/loader.go. –ó–∞–≥—Ä—É–∑—á–∏–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É –Ω–∞–≤—ã–∫–æ–≤ –∏–∑ workspace/skills/ –∏ builtin/skills/ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º workspace \u003e builtin. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –º–µ—Ç–æ–¥—ã Get, List, Reload, GetSkillsByCategory, GetSkillsByTags, SearchSkills, ValidateAll, Stats, ClearCache. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ. –í—Å–µ —Ç–µ—Å—Ç—ã (44 —Ç–µ—Å—Ç–∞) –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ.","labels":["builtin","loader","skills","workspace"]}
{"id":"Nexbot-78c","title":"LLM: Z.ai Coding API client implementation","description":"–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è Z.ai Coding API –≤ internal/llm/zai.go.\n\n–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:\n- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å ZAIProvider struct, –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä—É—é—â–∏–π Provider interface\n- –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä NewZAIProvider(cfg ZAIConfig, logger *logger.Logger) *ZAIProvider\n- –ú–µ—Ç–æ–¥ Chat(ctx, req) –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ https://api.z.ai/api/coding/paas/v4/chat/completions\n- HTTP –∫–ª–∏–µ–Ω—Ç —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π Bearer {api_key}\n- –¢–∞–π–º–∞—É—Ç—ã –∏ —Ä–µ—Ç—Ä–∞–∏ –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤\n- –ú–∞–ø–ø–∏–Ω–≥ ChatRequest/Response –≤ —Ñ–æ—Ä–º–∞—Ç Z.ai API\n- –ú–µ—Ç–æ–¥ SupportsToolCalling() - –≤–µ—Ä–Ω—É—Ç—å true –¥–ª—è –±—É–¥—É—â–µ–≥–æ\n- –ú–µ—Ç–æ–¥ GetDefaultModel() - –≤–µ—Ä–Ω—É—Ç—å glm-4.7\n\n–ü—Ä–∏—ë–º–∫–∞: —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω, Provider interface —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω, HTTP –∑–∞–ø—Ä–æ—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç, –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤.","status":"closed","priority":0,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T01:34:13.133898+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T01:41:23.396687+03:00","closed_at":"2026-02-03T01:41:23.396687+03:00","close_reason":"–°–æ–∑–¥–∞–Ω ZAIProvider —Å –ø–æ–ª–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π Provider interface:\n- NewZAIProvider –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å ZAIConfig –∏ logger\n- Chat –º–µ—Ç–æ–¥ —Å HTTP –∑–∞–ø—Ä–æ—Å–∞–º–∏ –∫ Z.ai API (https://api.z.ai/api/coding/paas/v4/chat/completions)\n- Bearer token –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è\n- Retry logic (3 –ø–æ–ø—ã—Ç–∫–∏ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π 1 —Å–µ–∫)\n- –ú–∞–ø–ø–∏–Ω–≥ ChatRequest/Response –≤ —Ñ–æ—Ä–º–∞—Ç Z.ai API\n- SupportsToolCalling –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true\n- GetDefaultModel –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç glm-4.7 (–∏–ª–∏ –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞)\n- –ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤/–æ—à–∏–±–æ–∫\n- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ context cancellation\n\n–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: –∫–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è (go build ./...).","labels":["core-foundation","day3","llm"]}
{"id":"Nexbot-7g4","title":"0.2.5.8.1: Integrate Cron in Serve","description":"## –ó–∞–¥–∞—á–∞ 0.2.5.8.1: Integrate Cron in Serve\n\n**–§–∞–∑–∞:** Serve Integration\n\n**–¶–µ–ª—å:** –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å cron scheduler –≤ cmd/nexbot/serve.go\n\n**–§–∞–π–ª:** cmd/nexbot/serve.go\n\n**–®–∞–≥–∏:**\n1. –ü–æ—Å–ª–µ worker pool –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:\n   - –°–æ–∑–¥–∞—Ç—å cronStorage\n   - –ó–∞–≥—Ä—É–∑–∏—Ç—å cronJobs —á–µ—Ä–µ–∑ Load()\n   - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞—á\n\n2. –ï—Å–ª–∏ cfg.Cron.Enabled:\n   - –°–æ–∑–¥–∞—Ç—å workerPoolAdapter\n   - –°–æ–∑–¥–∞—Ç—å cronScheduler\n   - –í—ã–∑–≤–∞—Ç—å cronScheduler.Start()\n   - –ó–∞–≥—Ä—É–∑–∏—Ç—å jobs –≤ scheduler —á–µ—Ä–µ–∑ AddJob()\n   - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –µ—Å–ª–∏ AddJob fails\n   - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å \"Cron scheduler started\"\n\n3. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è CronTool:\n   - –°–æ–∑–¥–∞—Ç—å cronTool\n   - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ agentLoop.RegisterTool()\n\n**","acceptance_criteria":"**\n- cronStorage —Å–æ–∑–¥–∞–Ω\n- cronJobs –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–∑ —Ñ–∞–π–ª–∞\n- cronScheduler –∑–∞–ø—É—â–µ–Ω –µ—Å–ª–∏ enabled\n- Jobs –∑–∞–≥—Ä—É–∂–µ–Ω—ã –≤ scheduler\n- CronTool –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω\n- –û—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è\n- make build –ø—Ä–æ—Ö–æ–¥–∏—Ç\n\n**","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:07:39.835534+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T19:49:01.544386+03:00","closed_at":"2026-02-05T19:49:01.544389+03:00","close_reason":"–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω cron scheduler –≤ internal/app/initialize.go. –°–æ–∑–¥–∞–Ω worker pool, cron storage, workerPoolAdapter, –∑–∞–≥—Ä—É–∂–µ–Ω—ã jobs –∏–∑ storage, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω CronTool. –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: make build –ø—Ä–æ—Ö–æ–¥–∏—Ç, —Ç–µ—Å—Ç—ã –¥–ª—è app –ø–∞–∫–µ—Ç–∞ –ø—Ä–æ—Ö–æ–¥—è—Ç.","labels":["integration","phase8"],"dependencies":[{"issue_id":"Nexbot-7g4","depends_on_id":"Nexbot-3hw","type":"blocks","created_at":"2026-02-05T09:11:16Z","created_by":"AI Agent","metadata":"{}"}]}
{"id":"Nexbot-7gj","title":"v0.2.0-22: –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è internal/app/*","description":"–¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞–ø–∏—Å–∞—Ç—å unit tests –¥–ª—è –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –≤ internal/app/:\n- app.go\n- initialize.go\n- message_processor.go\n- shutdown.go\n\n–ü—Ä–æ–≤–µ—Ä–∫–∏:\n1. –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–∫—Ä—ã—Ç—ã —Ç–µ—Å—Ç–∞–º–∏\n2. –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–æ–≤ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å \u003e 80%\n3. –¢–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã —Å–ª–µ–¥–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—É —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤ –≤ –ø—Ä–æ–µ–∫—Ç–µ\n4. –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã edge cases –∏ error scenarios","status":"closed","priority":3,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T15:53:35.775137+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T19:36:27.943935+03:00","closed_at":"2026-02-05T19:36:27.943935+03:00","close_reason":"–ù–∞–ø–∏—Å–∞–Ω—ã unit tests –¥–ª—è internal/app/* —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º 86.9% (45 —Ç–µ—Å—Ç–æ–≤, 1482 —Å—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞)","dependencies":[{"issue_id":"Nexbot-7gj","depends_on_id":"Nexbot-bxu","type":"discovered-from","created_at":"2026-02-05T15:54:14.99922+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-7k3","title":"–î–æ–±–∞–≤–∏—Ç—å typing –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤ Telegram –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ LLM","description":"## –ó–∞–¥–∞—á–∞\n\n–î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—É—é –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å —á–µ—Ä–µ–∑ typing –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤ Telegram, –∫–æ–≥–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É.\n\n## –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ\n\n–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –≤–∏–¥–µ—Ç—å, —á—Ç–æ –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–¥ –µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–º. Typing –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä (–∞–Ω–∏–º–∞—Ü–∏—è 'bot is typing...') –≤ Telegram –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ª—É—á—à–µ–µ UX –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏.\n\n## –ü–æ–¥—Ö–æ–¥ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏\n\n1. –†–∞—Å—à–∏—Ä–∏—Ç—å —à–∏–Ω—É —Å–æ–æ–±—â–µ–Ω–∏–π (MessageBus) –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å–æ–±—ã—Ç–∏–π –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏\n2. –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å Telegram Connector –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ typing –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤\n3. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –≤ Agent Loop\n4. –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É —Å–æ–±—ã—Ç–∏–π –≤ MessageBus\n\n## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏\n\n- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ SendChatAction –∏–∑ telego –±–∏–±–ª–∏–æ—Ç–µ–∫–∏\n- Action: ChatActionTyping\n- Typing –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è\n\n## –ü—Ä–∏–µ–º–æ—á–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏\n\n- –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –≤ Telegram –±–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç typing –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä\n- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ –º–æ–º–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –≤ LLM\n- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∏—Å—á–µ–∑–∞–µ—Ç –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ –æ—Ç LLM\n- –ù–µ—Ç —É—Ç–µ—á–µ–∫ goroutines –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ context\n- Unit —Ç–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å","status":"closed","priority":2,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-04T09:18:21.017747+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-04T12:35:18.014588+03:00","closed_at":"2026-02-04T12:35:18.014588+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω typing –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤ Telegram:\n\n1. –î–æ–±–∞–≤–ª–µ–Ω —Ç–∏–ø—ã —Å–æ–±—ã—Ç–∏–π (EventTypeProcessingStart, EventTypeProcessingEnd) –≤ bus/events.go\n2. –†–∞—Å—à–∏—Ä–µ–Ω–∞ —à–∏–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å–æ–±—ã—Ç–∏–π (PublishEvent, SubscribeEvent, distributeEvents)\n3. Telegram connector –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ —Å–æ–±—ã—Ç–∏—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç typing –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ EventTypeProcessingStart\n4. –í serve.go –ø—É–±–ª–∏–∫—É—é—Ç—Å—è —Å–æ–±—ã—Ç–∏—è –Ω–∞—á–∞–ª–∞ –∏ –∫–æ–Ω—Ü–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π\n5. –ù–∞–ø–∏—Å–∞–Ω—ã unit —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤\n6. –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ\n\n–ü—Ä–∏–µ–º–æ—á–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:\n- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–∞–ø—Ä–æ—Å–∞ –≤ LLM\n- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∏—Å—á–µ–∑–∞–µ—Ç –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è)\n- –ù–µ—Ç —É—Ç–µ—á–µ–∫ goroutines –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ context (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–∞–Ω–∞–ª—ã –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã)\n- Unit —Ç–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å"}
{"id":"Nexbot-7la","title":"0.2.5.2.4: Implement Storage Cleanup and Tests","description":"**–§–∞–∑–∞:** JSONL Storage Layer\n\n**–¶–µ–ª—å:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ RemoveExecutedOneshots –∏ —Å–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã\n\n**–§–∞–π–ª—ã:**\n- internal/cron/storage.go (–¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥)\n- internal/cron/storage_test.go (—Å–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã)\n\n**–ú–µ—Ç–æ–¥ RemoveExecutedOneshots:**\n\n–õ–æ–≥–∏–∫–∞:\n- –í—ã–∑–≤–∞—Ç—å Load() –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–¥–∞—á\n- –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á–∏:\n  - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å recurring (type == \"recurring\")\n  - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å oneshot –µ—Å–ª–∏ executed == false\n  - –£–¥–∞–ª–∏—Ç—å oneshot –µ—Å–ª–∏ executed == true\n- –í—ã–∑–≤–∞—Ç—å Save(filteredJobs)\n- –í–µ—Ä–Ω—É—Ç—å nil\n\n**–¢–µ—Å—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è (internal/cron/storage_test.go):**\n\n\n\n**Setup –¥–ª—è —Ç–µ—Å—Ç–æ–≤:**\n- –°–æ–∑–¥–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ —Å t.TempDir()\n- –°–æ–∑–¥–∞—Ç—å Storage —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º –ø—É—Ç–µ–º\n- –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ Job –æ–±—ä–µ–∫—Ç—ã\n- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å t.Cleanup() –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤\n\n**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ç–µ—Å—Ç–∞–º:**\n- –ü—Ä–æ–≤–µ—Ä—è—Ç—å —É—Å–ø–µ—à–Ω–æ–µ —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å\n- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫\n- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å JSONL —Ñ–æ—Ä–º–∞—Ç–∞\n- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å testify/assert\n\n**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** 0.2.5.2.3\n\n**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** Cleanup —É–¥–∞–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ oneshot –∑–∞–¥–∞—á–∏ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞","acceptance_criteria":"- –ú–µ—Ç–æ–¥ RemoveExecutedOneshots() —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω\n- –£–¥–∞–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ oneshot –∑–∞–¥–∞—á–∏ —Å executed == true\n- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç recurring –∑–∞–¥–∞—á–∏\n- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ oneshot –∑–∞–¥–∞—á–∏\n- storage_test.go —Å–æ–∑–¥–∞–Ω —Å 6 —Ç–µ—Å—Ç–∞–º–∏\n- –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç: go test ./internal/cron/\n- –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–æ–≤ \u003e 80%\n- make test –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:03:03.743754+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T15:19:50.495523+03:00","closed_at":"2026-02-05T15:19:50.495523+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ RemoveExecutedOneshots –∏ —Å–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã:\n- RemoveExecutedOneshots() —É–¥–∞–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ oneshot –∑–∞–¥–∞—á–∏\n- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç recurring –∏ –Ω–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ oneshot –∑–∞–¥–∞—á–∏\n- –°–æ–∑–¥–∞–Ω storage_test.go —Å 6 —Ç–µ—Å—Ç–∞–º–∏:\n  * TestStorage_Load_EmptyFile\n  * TestStorage_Load_WithJobs\n  * TestStorage_Append\n  * TestStorage_Remove\n  * TestStorage_Save\n  * TestStorage_RemoveExecutedOneshots\n- –î–æ–±–∞–≤–ª–µ–Ω–æ os.MkdirAll –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–¥–∫–∞—Ç–∞–ª–æ–≥–æ–≤ –≤ Append –∏ Save\n\n–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: –≤—Å–µ 6 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ","labels":["cron","phase2","storage","testing"],"dependencies":[{"issue_id":"Nexbot-7la","depends_on_id":"Nexbot-3ev","type":"blocks","created_at":"2026-02-05T12:03:03.746153+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-7la","depends_on_id":"Nexbot-5f5","type":"blocks","created_at":"2026-02-05T13:00:10.350204+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-802","title":"Implement Memory store for markdown/JSONL","description":"Implement Memory store for markdown/JSONL files with message history storage. File location: internal/agent/memory.go","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T09:00:38.543912+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T09:19:07.190256+03:00","closed_at":"2026-02-03T09:19:07.190256+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω Memory store –¥–ª—è markdown/JSONL —Ñ–æ—Ä–º–∞—Ç–æ–≤. –°–æ–∑–¥–∞–Ω –ø–∞–∫–µ—Ç internal/agent/memory —Å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é:\n- Store: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º —Å–æ–æ–±—â–µ–Ω–∏–π\n- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤ JSONL –∏ Markdown\n- Write/Read/Append: –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏\n- GetLastN: –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö N —Å–æ–æ–±—â–µ–Ω–∏–π\n- Clear/Exists: –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏\n- GetSessions: –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö —Å–µ—Å—Å–∏–π\n\nMarkdown —Ñ–æ—Ä–º–∞—Ç –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —á–∏—Ç–∞–µ–º–æ—Å—Ç—å —á–µ–ª–æ–≤–µ–∫–æ–º, JSONL - –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏. –ü–∞–∫–µ—Ç –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏—é.","labels":["jsonl","memory","storage"]}
{"id":"Nexbot-82q","title":"Integrate tool calling into agent loop","description":"Integrate tool calling into agent loop: recognize tool_calls and execute read_file","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T11:16:27.396304+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T11:38:23.59496+03:00","closed_at":"2026-02-03T11:38:23.59496+03:00","close_reason":"–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è tool calling –≤ agent loop –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ processWithToolCalling –∫–æ—Ç–æ—Ä—ã–π: 1) –†–∞—Å–ø–æ–∑–Ω–∞–µ—Ç tool_calls –≤ –æ—Ç–≤–µ—Ç–∞—Ö LLM (FinishReasonToolCalls) 2) –í—ã–ø–æ–ª–Ω—è–µ—Ç tools —á–µ—Ä–µ–∑ registry 3) –î–æ–±–∞–≤–ª—è–µ—Ç tool results –æ–±—Ä–∞—Ç–Ω–æ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å RoleTool 4) –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç LLM —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ 5) –ò–º–µ–µ—Ç –∑–∞—â–∏—Ç—É –æ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤ (maxIterations=10). –î–æ–±–∞–≤–ª–µ–Ω –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç TestLoop_ToolCalling –ø—Ä–æ–≤–µ—Ä—è—é—â–∏–π –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª tool calling. –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç.","labels":["agent","integration","loop","tools"]}
{"id":"Nexbot-86r","title":"Implement user-friendly error messages with masked secrets","description":"Implement user-friendly error messages with masked secrets","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T12:38:37.034732+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T13:46:25.398636+03:00","closed_at":"2026-02-03T13:46:25.398636+03:00","close_reason":"Closed","labels":["errors","security","user-experience"]}
{"id":"Nexbot-8d8","title":"v0.2.0 Documentation updates","description":"# v0.2.0 Documentation updates\n\n## Description\nUpdate documentation to reflect new Cron + Spawn features in v0.2.0.\n\n## Documentation Updates\n\n### README.md\n- Add v0.2.0 feature highlights:\n  - Cron scheduling\n  - Subagent spawning\n  - Background task execution\n  - HEARTBEAT.md support\n- Update feature list\n- Update installation instructions (no changes)\n\n### QUICKSTART.md\n- Add cron quickstart section:\n  - Schedule first task with CLI\n  - View scheduled tasks\n- Add subagent example:\n  - Use spawn tool\n- Add HEARTBEAT.md example:\n  - Create heartbeat task\n\n### CONFIG.md\n- Add [cron] section documentation\n- Add [workers] section documentation\n- Add [subagent] section documentation\n- Add environment variable overrides\n- Add example cron expressions\n\n### docs/ARCHITECTURE.md (create if needed)\n- Document cron scheduler architecture\n- Document subagent manager architecture\n- Document worker pool architecture\n- Add diagrams for async flow\n\n### docs/examples/\n- Create example cron jobs file (examples/cron-jobs.json)\n- Create example HEARTBEAT.md (examples/HEARTBEAT.md)\n- Create subagent usage example (examples/subagent-usage.md)\n\n## Acceptance Criteria\n- [ ] README.md updated with v0.2.0 features\n- [ ] QUICKSTART.md has cron + subagent examples\n- [ ] CONFIG.md documents new config sections\n- [ ] Architecture documentation created/updated\n- [ ] Example files created\n- [ ] All docs are clear and accurate\n\n## Success Metrics\n- User can understand new features from docs\n- Examples are copy-paste ready\n- All config options documented\n\n## Notes\n- Use consistent formatting\n- Include screenshots if helpful\n- Link to robfig/cron docs\n","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-04T21:04:46.38554+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T01:18:31.655269+03:00","closed_at":"2026-02-05T01:18:31.655269+03:00","close_reason":"–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è v0.2.0 –æ–±–Ω–æ–≤–ª–µ–Ω–∞: README.md, QUICKSTART.md, CONFIG.md, docs/ARCHITECTURE.md, docs/examples/ (cron-jobs.json, HEARTBEAT.md, subagent-usage.md)","labels":["docs"],"dependencies":[{"issue_id":"Nexbot-8d8","depends_on_id":"Nexbot-qfx","type":"blocks","created_at":"2026-02-04T21:05:26.529282+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-8d8","depends_on_id":"Nexbot-tew","type":"blocks","created_at":"2026-02-04T21:05:26.638196+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-8d8","depends_on_id":"Nexbot-ci0","type":"blocks","created_at":"2026-02-04T21:05:26.748524+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-8db","title":"Implement Telegram bot initialization with token from config","description":"Implement Telegram bot initialization in internal/channels/telegram/connector.go with token from config","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T10:48:33.23478+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T10:51:12.219984+03:00","closed_at":"2026-02-03T10:51:12.219984+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram –±–æ—Ç–∞ —Å —Ç–æ–∫–µ–Ω–æ–º –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. –ú–µ—Ç–æ–¥ Start: –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, —Å–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ telego.NewBot, –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±–æ—Ç–µ —á–µ—Ä–µ–∑ GetMe, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ bot_id –∏ username.","labels":["config","connector","telegram"]}
{"id":"Nexbot-8hw","title":"Message Bus: Queue implementation","description":"–°–æ–∑–¥–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è inbound/outbound.\n\n## –ó–∞–¥–∞—á–∏\n\n### 3.1 –°–æ–∑–¥–∞—Ç—å internal/bus/queue.go\n\n#### MessageBus struct:\n- inboundCh chan\u003c- InboundMessage\n- outboundCh chan\u003c- OutboundMessage\n- ctx context.Context\n- logger *logger.Logger\n\n#### –ú–µ—Ç–æ–¥—ã:\n- New(capacity int) *MessageBus (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–Ω–∞–ª–æ–≤)\n- PublishInbound(msg InboundMessage) error\n- PublishOutbound(msg OutboundMessage) error\n- SubscribeInbound(ctx context.Context) \u003c-chan InboundMessage\n- SubscribeOutbound(ctx context.Context) \u003c-chan OutboundMessage\n- Start(ctx context.Context) error (–∑–∞–ø—É—Å–∫ –≥–æ—Ä—É—Ç–∏–Ω)\n- Stop() error (graceful shutdown)\n\n## –ü—Ä–∏—ë–º–∫–∞\n- [ ] –§–∞–π–ª internal/bus/queue.go —Å–æ–∑–¥–∞–Ω\n- [ ] PublishInbound/PublishOutbound —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ\n- [ ] Subscribe –º–µ—Ç–æ–¥—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∫–∞–Ω–∞–ª—ã\n- [ ] Graceful shutdown –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ –∫–∞–Ω–∞–ª—ã\n- [ ] Unit-—Ç–µ—Å—Ç—ã –¥–ª—è –æ—á–µ—Ä–µ–¥–∏","status":"closed","priority":0,"issue_type":"task","owner":"AATumaykin@tsum.ru","estimated_minutes":40,"created_at":"2026-02-03T01:07:45.302415+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T01:17:00.512664+03:00","closed_at":"2026-02-03T01:17:00.512664+03:00","close_reason":"–°–æ–∑–¥–∞–Ω internal/bus/queue.go —Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ—á–µ—Ä–µ–¥–∏ —Å–æ–æ–±—â–µ–Ω–∏–π:\n\n- MessageBus struct —Å inbound/outbound –∫–∞–Ω–∞–ª–∞–º–∏\n- Start/Stop –º–µ—Ç–æ–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º\n- PublishInbound/PublishOutbound –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π\n- SubscribeInbound/SubscribeOutbound –¥–ª—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤\n- Graceful shutdown —Å –æ—Ç–º–µ–Ω–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞\n- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ ErrQueueFull, ErrNotStarted, ErrAlreadyStarted\n- –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ unit-—Ç–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –≤–µ—Å—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª\n- –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ (8/8)","labels":["core-foundation","day1-2","message-bus"]}
{"id":"Nexbot-8of","title":"Implement end-to-end integration test","description":"Implement E2E integration test: start Telegram bot, user sends message, bus routes to agent, builds context, calls Z.ai API, executes tools, sends response","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T12:38:35.933985+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T12:56:42.376243+03:00","closed_at":"2026-02-03T12:56:42.376243+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω E2E –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç, –ø–æ–∫—Ä—ã–≤–∞—é—â–∏–π –ø–æ–ª–Ω—ã–π –ø–æ—Ç–æ–∫: Telegram message ‚Üí bus ‚Üí agent ‚Üí LLM —Å tool calls ‚Üí tools execution ‚Üí response. –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª tests/e2e_test.go —Å 4 —Ç–µ—Å—Ç–∞–º–∏: TestE2E_TelegramToAgentWithToolCalls (—Ç–µ—Å—Ç –ø–æ–ª–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞ —Å read_file tool), TestE2E_MultipleToolCalls (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –≤—ã–∑–æ–≤—ã –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö tools), TestE2E_ToolErrorHandling (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ tools), TestE2E_ShellExecTool (shell_exec tool execution). –¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç: mock LLM provider —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π tool calling, message bus, agent loop, –≤—Å–µ built-in tools (read_file, write_file, list_dir, shell_exec), session management. –í—Å–µ 4 —Ç–µ—Å—Ç–∞ –ø—Ä–æ—Ö–æ–¥—è—Ç –ø—Ä–∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–º –∑–∞–ø—É—Å–∫–µ.","labels":["e2e","integration","telegram","testing","tools"]}
{"id":"Nexbot-8pf","title":"0.2.5.3.4: Implement Executed Cleanup","description":"## –ó–∞–¥–∞—á–∞ 0.2.5.3.4: Implement Executed Cleanup\n\n**–§–∞–∑–∞:** Extend Cron Scheduler\n\n**–¶–µ–ª—å:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—á–∏—Å—Ç–∫—É –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö oneshot –∫–∞–∂–¥—ã–µ 24 —á–∞—Å–∞\n\n**–§–∞–π–ª:** internal/cron/scheduler.go\n\n**–ú–µ—Ç–æ–¥—ã:**\n\nfunc (s *Scheduler) executedCleanup()\nfunc (s *Scheduler) CleanupExecutedOneshots()\n\n**–õ–æ–≥–∏–∫–∞:**\n1. time.NewTicker(24 * time.Hour)\n2. –í –∫–∞–∂–¥–æ–º —Ç–∏–∫–µ:\n   - –í—ã–∑–≤–∞—Ç—å storage.RemoveExecutedOneshots()\n   - –û–±–Ω–æ–≤–∏—Ç—å s.jobs map (–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å)\n   - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö\n\n**CleanupExecutedOneshots - –ø—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞**\n\n**","acceptance_criteria":"**\n- executedCleanup –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è\n- –£–¥–∞–ª—è–µ—Ç executed oneshot –∫–∞–∂–¥—ã–µ 24 —á–∞—Å–∞\n- –û–±–Ω–æ–≤–ª—è–µ—Ç jobs map\n- –õ–æ–≥–∏—Ä—É–µ—Ç —É–¥–∞–ª–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏\n- CleanupExecutedOneshots —Ä–∞–±–æ—Ç–∞–µ—Ç –≤—Ä—É—á–Ω—É—é\n- make fmt –ø—Ä–æ—Ö–æ–¥–∏—Ç\n\n**","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:07:36.104896+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T15:28:38.446447+03:00","closed_at":"2026-02-05T15:28:38.446447+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω Executed Cleanup:\n- –î–æ–±–∞–≤–ª–µ–Ω cleanupTicker –≤ Scheduler struct\n- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ executedCleanup() —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∫–∞–∂–¥—ã–µ 24 —á–∞—Å–∞\n- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ CleanupExecutedOneshots() –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞\n- CleanupExecutedOneshots –≤—ã–∑—ã–≤–∞–µ—Ç storage.RemoveExecutedOneshots()\n- –û–±–Ω–æ–≤–ª—è–µ—Ç s.jobs map –∏–∑ storage –ø–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏\n- –õ–æ–≥–∏—Ä—É–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è jobs\n- Cleanup ticker –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ Start()\n- Cleanup ticker –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ Stop()\n\n–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: –∫–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è, fmt –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ","labels":["cron","phase3","scheduler"],"dependencies":[{"issue_id":"Nexbot-8pf","depends_on_id":"Nexbot-zf5","type":"blocks","created_at":"2026-02-05T09:11:16Z","created_by":"AI Agent","metadata":"{}"}]}
{"id":"Nexbot-8wk","title":"v0.2.0-1: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è cron scheduler –≤ serve.go","description":"# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è cron scheduler –≤ serve.go (v0.2.0-1)\n\n## –ö–æ–Ω—Ç–µ–∫—Å—Ç\nCron scheduler —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ `internal/cron/scheduler.go` –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω (\u003e96% coverage). –¢—Ä–µ–±—É–µ—Ç—Å—è –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –≤ –æ—Å–Ω–æ–≤–Ω–æ–π entry point `cmd/nexbot/serve.go` –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ cron —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞.\n\n## –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å\n\n### 1. –î–æ–±–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã\n–í `cmd/nexbot/serve.go` –¥–æ–±–∞–≤–∏—Ç—å:\n```go\nimport (\n    ...\n    \"github.com/aatumaykin/nexbot/internal/cron\"\n)\n```\n\n### 2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å scheduler\n–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è messageBus (—Å—Ç—Ä–æ–∫–∞ ~122), –¥–æ–±–∞–≤–∏—Ç—å:\n```go\nvar cronScheduler *cron.Scheduler\nif cfg.Cron.Enabled {\n    log.Info(\"‚è∞ Initializing cron scheduler\")\n    cronScheduler = cron.NewScheduler(log, messageBus)\n    if err := cronScheduler.Start(ctx); err != nil {\n        log.Error(\"Failed to start cron scheduler\", err)\n        os.Exit(1)\n    }\n    log.Info(\"‚úÖ Cron scheduler started\")\n}\n```\n\n### 3. –û–±—Ä–∞–±–æ—Ç–∞—Ç—å shutdown\n–í graceful shutdown —Å–µ–∫—Ü–∏–∏ (–ø–µ—Ä–µ–¥ messageBus.Stop(), ~—Å—Ç—Ä–æ–∫–∞ 348):\n```go\nif cronScheduler != nil {\n    if err := cronScheduler.Stop(); err != nil {\n        log.Error(\"Failed to stop cron scheduler\", err)\n    }\n}\n```\n\n## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è\n–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ `config.example.toml` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–µ–∫—Ü–∏—é `[cron]`:\n- `enabled` - –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å cron\n- `timezone` - —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å\n- `jobs_file` - —Ñ–∞–π–ª —Å cron –∑–∞–¥–∞—á–∞–º–∏\n\n## –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è\n1. Cron scheduler —Å–æ–∑–¥–∞–Ω –±–µ–∑ –æ—à–∏–±–æ–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ\n2. –ï—Å–ª–∏ `cfg.Cron.Enabled == true`, scheduler –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è\n3. –ü—Ä–∏ shutdown scheduler –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è\n4. `make build` –∫–æ–º–ø–∏–ª–∏—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫\n5. `nexbot serve` –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å cron enabled/disabled\n\n## –°—Å—ã–ª–∫–∏\n- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è: `internal/cron/scheduler.go`\n- –ö–æ–Ω—Ñ–∏–≥: `config.example.toml` —Å–µ–∫—Ü–∏—è `[cron]`\n- –¢–µ—Å—Ç—ã: `internal/cron/scheduler_test.go`","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T07:50:57.019421+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T08:03:03.032123+03:00","closed_at":"2026-02-05T08:03:03.032123+03:00","close_reason":"–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è cron scheduler –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è scheduler –ø–æ—Å–ª–µ messageBus –∏ graceful shutdown –ø–µ—Ä–µ–¥ messageBus.Stop(). –ë–∏–ª–¥ –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ.","labels":["cron","integration","v0.2.0"]}
{"id":"Nexbot-8xg","title":"–≠—Ç–∞–ø 5.1: –°–æ–∑–¥–∞—Ç—å internal/cron/storage.go","description":"–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª internal/cron/storage.go\n\n**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**\n- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è jobs –≤ —Ñ–∞–π–ª–µ\n\n**–§—É–Ω–∫—Ü–∏–∏:**\n\n- –§–æ—Ä–º–∏—Ä—É–µ—Ç –ø—É—Ç—å: configPath + \"/\" + constants.CronJobsFile\n- –ß–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª —á–µ—Ä–µ–∑ os.ReadFile\n- Unmarshal –≤ map[string]cron.Job\n- –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫—É os.IsNotExist\n- –í–µ—Ä–Ω—É—Ç—å –æ—à–∏–±–∫—É –µ—Å–ª–∏ –ø–∞—Ä—Å–∏–Ω–≥ –Ω–µ —É–¥–∞–ª—Å—è\n\n\n- –§–æ—Ä–º–∏—Ä—É–µ—Ç –ø—É—Ç—å: configPath + \"/\" + constants.CronJobsFile\n- –°–æ–∑–¥–∞–µ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –µ—Å–ª–∏ –Ω—É–∂–Ω–æ: os.MkdirAll(filepath.Dir(path), 0755)\n- MarshalIndent(jobs, \"\", \"  \") –¥–ª—è —á–∏—Ç–∞–µ–º–æ–≥–æ JSON\n- –ó–∞–ø–∏—Å–∞—Ç—å —á–µ—Ä–µ–∑ os.WriteFile(path, data, 0644)\n- –û–±–µ—Ä–Ω—É—Ç—å –æ—à–∏–±–∫–∏ –≤ fmt.Errorf —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º\n\n**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**\n- –ü–∞–∫–µ—Ç: package cron\n- –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å: encoding/json, fmt, os, path/filepath\n- –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å: internal/constants –¥–ª—è CronJobsFile\n- –î–æ–±–∞–≤–∏—Ç—å godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏\n- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å os.IsNotExist –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —Ñ–∞–π–ª–∞","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T01:58:59.278037+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T12:57:42.972013+03:00","closed_at":"2026-02-05T12:57:42.972013+03:00","close_reason":"Closed","labels":["cron","refactor"]}
{"id":"Nexbot-90f","title":"Implement long polling setup for Telegram","description":"Implement long polling with updatesViaLongPolling","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T10:48:59.133433+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T10:56:47.160147+03:00","closed_at":"2026-02-03T10:56:47.160147+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ long polling –¥–ª—è Telegram. –ú–µ—Ç–æ–¥ startLongPolling: –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ bot.UpdatesViaLongPolling —Å —Ç–∞–π–º–∞—É—Ç–æ–º 30 —Å–µ–∫—É–Ω–¥, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –≤ –≥–æ—Ä—É—Ç–∏–Ω–µ, –ø–µ—Ä–µ–¥–∞—á–∞ –∫–∞–∂–¥–æ–≥–æ update –≤ handleUpdate, –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.","labels":["long-polling","polling","telegram"]}
{"id":"Nexbot-9ih","title":"LLM: Z.ai client integration test","description":"–°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ Z.ai –∫–ª–∏–µ–Ω—Ç–∞ –≤ internal/llm/zai_test.go.\n\n–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:\n- –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç TestZAIClient_SendRequest –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞\n- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∑–∞–ø—Ä–æ—Å —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∏ –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç\n- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ (Content, FinishReason)\n- –ò–∑–º–µ—Ä–∏—Ç—å latency —Ç–∏–ø–∏—á–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞\n- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ (timeout, 401, 429, 500+)\n- –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–∞–∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è\n\n–ü—Ä–∏—ë–º–∫–∞: —Ç–µ—Å—Ç —Å–æ–∑–¥–∞—ë—Ç –∑–∞–ø—Ä–æ—Å, –ø–æ–ª—É—á–∞–µ—Ç –≤–∞–ª–∏–¥–Ω—ã–π –æ—Ç–≤–µ—Ç, latency –∏–∑–º–µ—Ä–µ–Ω–∞, —Ç–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã, –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–æ–±–∞–≤–ª–µ–Ω—ã.","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T01:34:42.318471+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T01:42:20.401557+03:00","closed_at":"2026-02-03T01:42:20.401557+03:00","close_reason":"–°–æ–∑–¥–∞–Ω –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç internal/llm/zai_test.go:\n- TestZAIClient_SendRequest: –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –æ—Ç–≤–µ—Ç–∞ (Content, FinishReason, Model, Usage)\n- TestZAIClient_WithToolCalling: –ø—Ä–æ–≤–µ—Ä–∫–∞ tool calling\n- BenchmarkZAIClient_Latency: –∏–∑–º–µ—Ä–µ–Ω–∏–µ latency —Ç–∏–ø–∏—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤\n- ExampleZAIClient_SendRequest: –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–∞–∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è\n\n–¢–µ—Å—Ç—ã –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è –±–µ–∑ ZAI_API_KEY, –ª–µ–≥–∫–æ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è —Å API –∫–ª—é—á–æ–º.\n\n–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: –∫–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è (go build ./...).","labels":["day3","llm","testing"]}
{"id":"Nexbot-ab8","title":"–≠—Ç–∞–ø 3.1: –°–æ–∑–¥–∞—Ç—å internal/config/env.go","description":"–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª internal/config/env.go\n\n**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**\n- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ .env —Ñ–∞–π–ª–∞\n\n**–§—É–Ω–∫—Ü–∏–∏:**\n\n- –ß–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –ø—É—Ç–∏\n- –ü–∞—Ä—Å–∏—Ç —Å—Ç—Ä–æ–∫–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ KEY=VALUE\n- –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (—Å—Ç—Ä–æ–∫–∏ –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å #)\n- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ os.Setenv()\n- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É –µ—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ—á–∏—Ç–∞–Ω\n\n\n- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ —á–µ—Ä–µ–∑ os.Stat()\n- –ï—Å–ª–∏ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç - –≤—ã–∑—ã–≤–∞–µ—Ç LoadEnv(path)\n- –ï—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç nil (–±–µ–∑ –æ—à–∏–±–∫–∏)\n\n**–õ–æ–≥–∏–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞:**\n- –†–∞–∑–±–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ –ø–æ \\n\n- TrimSpace –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏\n- –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏\n- SplitN(line, \"=\", 2) –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∫–ª—é—á–∞ –∏ –∑–Ω–∞—á–µ–Ω–∏—è\n- TrimSpace –¥–ª—è –∫–ª—é—á–∞ –∏ –∑–Ω–∞—á–µ–Ω–∏—è\n- os.Setenv(key, value)\n\n**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**\n- –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫–∏ os.ReadFile\n- –î–æ–±–∞–≤–∏—Ç—å godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏\n- –ü–∞–∫–µ—Ç –¥–æ–ª–∂–µ–Ω –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è 'package config'","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T01:58:58.251416+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T13:54:09.562571+03:00","closed_at":"2026-02-05T13:54:09.562571+03:00","close_reason":"–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª internal/config/env.go —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ LoadEnv –∏ LoadEnvOptional –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ .env —Ñ–∞–π–ª–∞. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ KEY=VALUE, –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∏ –ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫. –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã –≤ env_test.go (–≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç).","labels":["config","refactor"]}
{"id":"Nexbot-agx","title":"0.2.5.10.1: Integration Tests","description":"## –ó–∞–¥–∞—á–∞ 0.2.5.10.1: Integration Tests\n\n**–§–∞–∑–∞:** Testing\n\n**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ workflow\n\n**–§–∞–π–ª:** internal/cron/integration_test.go\n\n**–¢–µ—Å—Ç:** TestFullWorkflow\n\n**–°—Ü–µ–Ω–∞—Ä–∏–π:**\n1. –°–æ–∑–¥–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–π workspace\n2. –°–æ–∑–¥–∞—Ç—å storage\n3. –°–æ–∑–¥–∞—Ç—å scheduler\n4. –î–æ–±–∞–≤–∏—Ç—å recurring job\n5. –î–æ–±–∞–≤–∏—Ç—å oneshot job\n6. –ñ–¥–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è oneshot\n7. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ oneshot –≤—ã–ø–æ–ª–Ω–µ–Ω\n8. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ recurring —Ä–∞–±–æ—Ç–∞–µ—Ç\n9. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å cleanup\n10. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª\n\n**","acceptance_criteria":"**\n- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç —Å–æ–∑–¥–∞–Ω\n- –ü–æ–ª–Ω—ã–π workflow —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è\n- –í—Å–µ —à–∞–≥–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è\n- –¢–µ—Å—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç\n- make test –ø—Ä–æ—Ö–æ–¥–∏—Ç\n\n**","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:07:41.585183+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T20:25:30.205262+03:00","closed_at":"2026-02-05T20:25:30.205271+03:00","labels":["integration","phase10","testing"],"dependencies":[{"issue_id":"Nexbot-agx","depends_on_id":"Nexbot-wxb","type":"blocks","created_at":"2026-02-05T09:11:16Z","created_by":"AI Agent","metadata":"{}"}]}
{"id":"Nexbot-an4","title":"Create v0.1.0 release","description":"Create v0.1.0 release on GitHub with binaries and release notes","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T12:38:41.513378+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T13:58:29.466479+03:00","closed_at":"2026-02-03T13:58:29.466479+03:00","close_reason":"Closed","labels":["github","release","v0.1.0"]}
{"id":"Nexbot-ayv","title":"Implement write_file tool","description":"Implement write_file tool for writing file content in internal/tools/file.go","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T11:41:13.471777+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T11:45:17.123965+03:00","closed_at":"2026-02-03T11:45:17.123965+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω write_file tool –≤ internal/tools/file.go. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç—Ä–∏ —Ä–µ–∂–∏–º–∞ –∑–∞–ø–∏—Å–∏: create, append, overwrite. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç directory traversal –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π. –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ.","labels":["file","tools","write-file"]}
{"id":"Nexbot-b6a","title":"Logger: slog wrapper implementation","description":"–°–æ–∑–¥–∞—Ç—å wrapper –ø–æ–≤–µ—Ä—Ö slog –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è.\n\n## –ó–∞–¥–∞—á–∏\n\n### 1.1 –°–æ–∑–¥–∞—Ç—å internal/logger/logger.go\n- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Logger —Å *slog.Logger\n- New(cfg Config) *Logger (–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —É—Ä–æ–≤–Ω—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è)\n- –ú–µ—Ç–æ–¥—ã –æ–±—ë—Ä—Ç–∫–∏: Debug(), Info(), Warn(), Error()\n- –ü–æ–ª—è: timestamp, level, msg\n- Support –¥–ª—è text/json —Ñ–æ—Ä–º–∞—Ç–∞\n\n### 1.2 –î–æ–±–∞–≤–∏—Ç—å logger –≤ config schema\n- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: level, format, output (stdout/file)\n- –í–∞–ª–∏–¥–∞—Ü–∏—è —É—Ä–æ–≤–Ω—è (debug/info/warn/error)\n\n## –ü—Ä–∏—ë–º–∫–∞\n- [ ] –§–∞–π–ª internal/logger/logger.go —Å–æ–∑–¥–∞–Ω\n- [ ] Logger –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∏ JSON —Ñ–æ—Ä–º–∞—Ç\n- [ ] –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ\n- [ ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è logger –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ config.example.toml","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","estimated_minutes":30,"created_at":"2026-02-03T01:07:40.141836+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T01:21:59.958163+03:00","closed_at":"2026-02-03T01:21:59.958163+03:00","close_reason":"Logger wrapper —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω:\n\n- –§–∞–π–ª internal/logger/logger.go —Å–æ–∑–¥–∞–Ω —Å –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é\n- Logger –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∏ JSON —Ñ–æ—Ä–º–∞—Ç (format: text/json)\n- –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (debug/info/warn/error)\n- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è logger —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ config.example.toml\n- –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã: Debug(), Info(), Warn(), Error()\n- –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º: DebugCtx(), InfoCtx(), WarnCtx(), ErrorCtx()\n- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å –ø–æ–ª—è–º–∏\n- –î–æ–±–∞–≤–ª–µ–Ω config.schema —Å MessageBusConfig –∏ –æ–±–Ω–æ–≤–ª–µ–Ω config.example.toml\n\n–í—Å–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:\n‚úì –§–∞–π–ª internal/logger/logger.go —Å–æ–∑–¥–∞–Ω\n‚úì Logger –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∏ JSON —Ñ–æ—Ä–º–∞—Ç\n‚úì –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ\n‚úì –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è logger –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ config.example.toml","labels":["core-foundation","day1-2","logger"]}
{"id":"Nexbot-b8d","title":"Implement tool execution with timeout and working_dir","description":"Implement tool execution with timeout and working_dir support","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T11:41:15.938067+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T11:52:15.474774+03:00","closed_at":"2026-02-03T11:52:15.474774+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ timeout –∏ working_dir –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤. –î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ContextualTool –¥–ª—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç. –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è ExecuteToolCallWithContext —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π timeout –∏ graceful degradation –ø—Ä–∏ timeout. –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ.","labels":["execution","timeout","tools","working-dir"]}
{"id":"Nexbot-bl7","title":"0.2.5.4.2: Implement CronTool Actions","description":"## –ó–∞–¥–∞—á–∞ 0.2.5.4.2: Implement CronTool Actions\n\n**–§–∞–∑–∞:** Cron Tool\n\n**–¶–µ–ª—å:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å addRecurring, addOneshot, removeJob\n\n**–§–∞–π–ª:** internal/tools/cron.go\n\n**–ú–µ—Ç–æ–¥—ã:**\n\nfunc (t *CronTool) addRecurring(ctx context.Context, params map[string]interface{}) (string, error)\nfunc (t *CronTool) addOneshot(ctx context.Context, params map[string]interface{}) (string, error)\nfunc (t *CronTool) removeJob(ctx context.Context, params map[string]interface{}) (string, error)\n\n**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**\n- action: \"add_recurring\", \"add_oneshot\", \"remove\", \"list\"\n- schedule: cron schedule –¥–ª—è recurring\n- execute_at: ISO8601 datetime –¥–ª—è oneshot\n- command: –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è\n- user_id: user ID\n- job_id: ID –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è\n\n**–õ–æ–≥–∏–∫–∞:**\n1. –ü–∞—Ä—Å–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã\n2. –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å\n3. –í—ã–∑—ã–≤–∞—Ç—å scheduler.AddJob() –∏–ª–∏ scheduler.RemoveJob()\n4. –°–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ storage\n5. –í–µ—Ä–Ω—É—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç\n\n**","acceptance_criteria":"**\n- addRecurring —Å–æ–∑–¥–∞–µ—Ç recurring job\n- addOneshot —Å–æ–∑–¥–∞–µ—Ç oneshot job\n- removeJob —É–¥–∞–ª—è–µ—Ç job\n- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤\n- –û—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ\n- make fmt –ø—Ä–æ—Ö–æ–¥–∏—Ç\n\n**","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:07:37.11591+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T18:52:59.675973+03:00","closed_at":"2026-02-05T18:52:59.675973+03:00","close_reason":"–£—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –º–µ—Ç–æ–¥—ã CronTool: addRecurring, addOneshot, removeJob, listJobs\n\n–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:\n- addRecurring: —Å–æ–∑–¥–∞—ë—Ç recurring cron jobs —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ schedule, command, user_id\n- addOneshot: —Å–æ–∑–¥–∞—ë—Ç one-time jobs —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ execute_at (ISO8601), command, user_id\n- removeJob: —É–¥–∞–ª—è–µ—Ç –∑–∞–¥–∞—á–∏ –ø–æ job_id\n- listJobs: –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≤—Å–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏\n- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã)\n- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Storage API (Append, Remove, Load)\n- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º\n- –û–±–Ω–æ–≤–ª—ë–Ω JSON Schema –¥–ª—è Parameteres\n\n–í—Å–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:\n‚úÖ addRecurring —Å–æ–∑–¥–∞–µ—Ç recurring job\n‚úÖ addOneshot —Å–æ–∑–¥–∞–µ—Ç oneshot job\n‚úÖ removeJob —É–¥–∞–ª—è–µ—Ç job\n‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤\n‚úÖ –û—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ\n‚úÖ make fmt –ø—Ä–æ—Ö–æ–¥–∏—Ç","labels":["cron","phase4","tools"],"dependencies":[{"issue_id":"Nexbot-bl7","depends_on_id":"Nexbot-efz","type":"blocks","created_at":"2026-02-05T09:11:16Z","created_by":"AI Agent","metadata":"{}"}]}
{"id":"Nexbot-boq","title":"Integrate Telego library for Telegram bot","description":"Add github.com/mymmrac/telego dependency and initialize bot structure","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T10:48:32.255684+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T10:50:28.705766+03:00","closed_at":"2026-02-03T10:50:28.705766+03:00","close_reason":"–î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å github.com/mymmrac/telego –∏ —Å–æ–∑–¥–∞–Ω–∞ –±–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Telegram –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–∞ –≤ internal/channels/telegram/connector.go —Å –ø–æ–ª—è–º–∏: cfg, logger, bus, bot, ctx, cancel. –ú–µ—Ç–æ–¥—ã: New, Start, Stop, validateConfig.","labels":["dependency","telego","telegram"]}
{"id":"Nexbot-br4","title":"Day 1: Project Setup","description":"–≠—Ç–∞–ø 'Day 1: Project Setup' –∏–∑ PROJECT_PLAN.md. –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞.\n\n**–°—Ç–∞—Ç—É—Å:**\n- ‚úÖ Initialize Go module (go mod init)\n- ‚úÖ Setup directory structure\n- ‚úÖ Config: TOML parser (config.example.toml)\n- ‚úÖ Makefile: build targets\n- ‚úÖ .gitignore: Go specific\n- üîÑ Logger: slog wrapper (internal/logger/logger.go)\n- üîÑ CLI: basic commands (cmd/nexbot/main.go)\n\n**–ü–æ–¥–∑–∞–¥–∞—á–∏:**\n- Nexbot-mog: Logger: slog wrapper implementation\n- Nexbot-4p1: CLI: basic commands implementation\n\n**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:**\n- –í—Å–µ –ø–æ–¥–∑–∞–¥–∞—á–∏ –∑–∞–∫—Ä—ã—Ç—ã\n- Logger —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω\n- CLI —Å –±–∞–∑–æ–≤—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç\n- –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç\n\n**–°–≤—è–∑—å —Å –ø–ª–∞–Ω–æ–º:** PROJECT_PLAN.md Day 1: Project Setup","status":"closed","priority":0,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T00:34:30.81762+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T00:51:39.326485+03:00","closed_at":"2026-02-03T00:51:39.326485+03:00","close_reason":"‚úÖ Day 1: Project Setup –∑–∞–≤–µ—Ä—à—ë–Ω —É—Å–ø–µ—à–Ω–æ\n\n**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**\n- ‚úÖ Initialize Go module (go mod init) - –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —Ä–∞–Ω–µ–µ\n- ‚úÖ Setup directory structure - –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —Ä–∞–Ω–µ–µ\n- ‚úÖ Config: TOML parser (config.example.toml) - –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —Ä–∞–Ω–µ–µ\n- ‚úÖ Logger: slog wrapper (internal/logger/logger.go) - –≤—ã–ø–æ–ª–Ω–µ–Ω–æ\n  - 92.9% coverage\n  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω–µ–π –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è\n  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ JSON/Text —Ñ–æ—Ä–º–∞—Ç–æ–≤\n  - –ö–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ\n- ‚úÖ CLI: basic commands (cmd/nexbot/main.go) - –≤—ã–ø–æ–ª–Ω–µ–Ω–æ\n  - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω github.com/spf13/cobra\n  - –ö–æ–º–∞–Ω–¥–∞ version\n  - –ö–æ–º–∞–Ω–¥–∞ config validate\n  - –ö–æ–º–∞–Ω–¥–∞ run —Å graceful shutdown\n  - internal/config (64.2% coverage)\n- ‚úÖ Makefile: build targets - –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —Ä–∞–Ω–µ–µ\n- ‚úÖ .gitignore: Go specific - –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —Ä–∞–Ω–µ–µ\n\n**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:**\n\n\n**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤:**\n\n\n**–°–≤—è–∑—å —Å –ø–ª–∞–Ω–æ–º:** PROJECT_PLAN.md Day 1: Project Setup - –≤—Å–µ –ø—É–Ω–∫—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω—ã","dependencies":[{"issue_id":"Nexbot-br4","depends_on_id":"Nexbot-mog","type":"blocks","created_at":"2026-02-03T00:34:50.664416+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-br4","depends_on_id":"Nexbot-4p1","type":"blocks","created_at":"2026-02-03T00:34:50.905711+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-brp","title":"Implement skills summary in system prompt","description":"Implement skills summary block in system prompt (all skills ‚Üí one summary block)","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T11:41:19.244367+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T12:23:03.364664+03:00","closed_at":"2026-02-03T12:23:03.364664+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω skills summary builder –≤ internal/skills/summary.go. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ç—Ä–∏ —Ñ–æ—Ä–º–∞—Ç–∞: short, medium, long. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –º–µ—Ç–æ–¥—ã Build, BuildDefault, BuildForPrompt. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º, –∏—Å–∫–ª—é—á–µ–Ω–∏–µ deprecated –Ω–∞–≤—ã–∫–æ–≤, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –Ω–∞–≤—ã–∫–æ–≤. –í—Å–µ —Ç–µ—Å—Ç—ã (55 —Ç–µ—Å—Ç–æ–≤) –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ.","labels":["context","skills","system-prompt"]}
{"id":"Nexbot-bxu","title":"–≠—Ç–∞–ø 9.1: –ó–∞–ø—É—Å—Ç–∏—Ç—å make test","description":"–ó–∞–ø—É—Å—Ç–∏—Ç—å make test\n\n**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**\n- –ó–∞–ø—É—Å—Ç–∏—Ç—å unit tests –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞\n\n**–ö–æ–º–∞–Ω–¥—ã:**\nmake test\n\n**–ü—Ä–æ–≤–µ—Ä–∫–∏:**\n1. –í—Å–µ —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–π—Ç–∏ —É—Å–ø–µ—à–Ω–æ\n2. –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–∫—Ä—ã—Ç—ã —Ç–µ—Å—Ç–∞–º–∏:\n   - internal/constants/*\n   - internal/messages/*\n   - internal/config/env.go\n   - internal/commands/handler.go\n   - internal/cron/storage.go\n   - internal/app/*\n\n**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**\n- PASS: –í—Å–µ —Ç–µ—Å—Ç—ã\n- –ï—Å–ª–∏ –µ—Å—Ç—å FAIL - –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏ –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ–º\n\n**–î–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö:**\n- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± –æ—à–∏–±–∫–∞—Ö\n- –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥\n- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã\n","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T01:59:05.398467+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T15:51:09.780319+03:00","closed_at":"2026-02-05T15:51:09.780319+03:00","close_reason":"–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤. –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –≤—ã–∑–æ–≤—ã cron.NewScheduler –Ω–∞ –Ω–æ–≤—É—é —Å–∏–≥–Ω–∞—Ç—É—Ä—É, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã cron –≤—ã—Ä–∞–∂–µ–Ω–∏—è –≤ —Ç–µ—Å—Ç–∞—Ö, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ newlines. –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ (internal/agent, internal/bus, internal/config, internal/logger, internal/tools, internal/workspace, tests). –ü–æ–∫—Ä—ã—Ç—ã —Ç–µ—Å—Ç–∞–º–∏: internal/config/env.go –∏ internal/cron/storage.go. –°–æ–∑–¥–∞–Ω—ã follow-up –∑–∞–¥–∞—á–∏ –¥–ª—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è.","labels":["ci","test"]}
{"id":"Nexbot-byn","title":"v0.2.0-21: –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è internal/commands/handler.go","description":"–¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞–ø–∏—Å–∞—Ç—å unit tests –¥–ª—è internal/commands/handler.go\n\n–ü—Ä–æ–≤–µ—Ä–∫–∏:\n1. –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–∫—Ä—ã—Ç—ã —Ç–µ—Å—Ç–∞–º–∏\n2. –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–æ–≤ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å \u003e 80%\n3. –¢–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã —Å–ª–µ–¥–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—É —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤ –≤ –ø—Ä–æ–µ–∫—Ç–µ\n4. –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã edge cases –∏ error scenarios","status":"closed","priority":3,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T15:53:31.602749+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T19:37:39.381879+03:00","closed_at":"2026-02-05T19:37:39.381896+03:00","dependencies":[{"issue_id":"Nexbot-byn","depends_on_id":"Nexbot-bxu","type":"discovered-from","created_at":"2026-02-05T15:54:14.535232+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-ca8","title":"–≠—Ç–∞–ø 9.2: –ó–∞–ø—É—Å—Ç–∏—Ç—å make lint","description":"–ó–∞–ø—É—Å—Ç–∏—Ç—å make lint\n\n**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**\n- –ó–∞–ø—É—Å—Ç–∏—Ç—å linter –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞\n\n**–ö–æ–º–∞–Ω–¥–∞:**\nmake lint\n\n**–ü—Ä–æ–≤–µ—Ä–∫–∏:**\n1. –ù–µ—Ç –æ—à–∏–±–æ–∫ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (gofmt)\n2. –ù–µ—Ç –æ—à–∏–±–æ–∫ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ (golint, golangci-lint)\n3. –í—Å–µ —Ñ–∞–π–ª—ã –ø—Ä–æ—à–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫—É\n\n**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**\n- –ù–µ—Ç –æ—à–∏–±–æ–∫ (exit code 0)\n\n**–î–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö:**\n- –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: gofmt -w ...\n- –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞\n- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å lint\n","notes":"make lint –ø—Ä–æ—à—ë–ª —É—Å–ø–µ—à–Ω–æ –±–µ–∑ –æ—à–∏–±–æ–∫. golangci-lint –Ω–µ –Ω–∞—à—ë–ª –ø—Ä–æ–±–ª–µ–º.","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T01:59:05.820569+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T20:30:03.959457+03:00","closed_at":"2026-02-05T20:30:03.959461+03:00","labels":["ci","test"]}
{"id":"Nexbot-cae","title":"Write unit tests for Session manager","description":"Write unit tests for Session manager including: append operations, read operations, get_or_create, JSONL format validation","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T09:00:46.685049+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T09:23:08.930228+03:00","closed_at":"2026-02-03T09:23:08.930228+03:00","close_reason":"–ù–∞–ø–∏—Å–∞–Ω—ã unit tests –¥–ª—è Session manager. –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª internal/agent/session/session_test.go —Å —Ç–µ—Å—Ç–∞–º–∏:\n- TestNewManager: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞ —Å–µ—Å—Å–∏–π\n- TestGetOrCreate: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–µ—Å—Å–∏–π\n- TestAppend: –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π (–æ–¥–∏–Ω–æ—á–Ω—ã—Ö –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö)\n- TestRead: –ø—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π\n- TestMessageCount: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥—Å—á–µ—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏–π\n- TestClear: –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—á–∏—Å—Ç–∫–∏ —Å–µ—Å—Å–∏–∏\n- TestDelete: –ø—Ä–æ–≤–µ—Ä–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏\n- TestExists: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Å–µ—Å—Å–∏–∏\n- TestJSONLFormat: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ JSONL\n- TestConcurrentOperations: –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π\n\n–í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ (PASS), –≤–∫–ª—é—á–∞—è —Ç–µ—Å—Ç—ã –¥–ª—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ JSONL —Ñ–æ—Ä–º–∞—Ç–∞.","labels":["session","tests","unit"]}
{"id":"Nexbot-ci0","title":"v0.2.0 Subagent Manager implementation","description":"# v0.2.0 Subagent Manager implementation\n\n## Description\nImplement subagent manager for spawning and managing concurrent agent instances with separate sessions.\n\n## Implementation Details\n\n### internal/agent/subagent/manager.go\n```go\npackage subagent\n\nimport (\n    \"context\"\n    \"sync\"\n    \"github.com/atumaikin/nexbot/internal/agent/loop\"\n)\n\ntype Subagent struct {\n    ID      string\n    Session string // session ID\n    Loop    *loop.Loop\n    Context context.Context\n    Cancel  context.CancelFunc\n}\n\ntype Manager struct {\n    subagents map[string]*Subagent\n    mu        sync.RWMutex\n    loopFactory func() *loop.Loop // factory for creating new loops\n}\n\nfunc NewManager(loopFactory func() *loop.Loop) *Manager {\n    return \u0026Manager{\n        subagents:   make(map[string]*Subagent),\n        loopFactory: loopFactory,\n    }\n}\n\nfunc (m *Manager) Spawn(ctx context.Context, parentSession string, task string) (*Subagent, error) {\n    ctx, cancel := context.WithCancel(ctx)\n    subagentCtx := \u0026Subagent{\n        ID:      generateID(),\n        Session: generateSessionID(),\n        Loop:    m.loopFactory(),\n        Context: ctx,\n        Cancel:  cancel,\n    }\n    // Start loop in background\n    return subagentCtx, nil\n}\n\nfunc (m *Manager) Stop(id string) error {\n    m.mu.Lock()\n    defer m.mu.Unlock()\n    if sub, ok := m.subagents[id]; ok {\n        sub.Cancel()\n        delete(m.subagents, id)\n        return nil\n    }\n    return fmt.Errorf(\"subagent not found\")\n}\n\nfunc (m *Manager) List() []*Subagent {\n    m.mu.RLock()\n    defer m.mu.RUnlock()\n    list := make([]*Subagent, 0, len(m.subagents))\n    for _, sub := range m.subagents {\n        list = append(list, sub)\n    }\n    return list\n}\n```\n\n### internal/agent/subagent/session.go\n- Subagent session storage (separate from main agent)\n- Use JSONL format: workspace/sessions/subagents/{session_id}.jsonl\n- Isolated memory per subagent\n\n## Acceptance Criteria\n- [ ] Subagent struct with ID, session, loop, context\n- [ ] Manager with Spawn/Stop/List methods\n- [ ] Thread-safe operations (mutex protection)\n- [ ] Subagent sessions stored separately\n- [ ] Graceful shutdown (cancel context)\n- [ ] Unit tests for manager\n- [ ] Integration tests with agent loop\n\n## Success Metrics\n- Multiple subagents can run concurrently\n- Each subagent has isolated session/memory\n- Graceful shutdown stops all subagents\n\n## Notes\n- Subagent ID: uuid-based for uniqueness\n- Session ID: prefix \"subagent-\" + timestamp\n- Consider timeout for subagent lifetime\n","status":"closed","priority":0,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-04T21:04:13.333714+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T00:02:17.268184+03:00","closed_at":"2026-02-05T00:02:17.268184+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω Subagent Manager –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–º–∏ –∏–Ω—Å—Ç–∞–Ω—Å–∞–º–∏ agent\n\n## –í—ã–ø–æ–ª–Ω–µ–Ω–æ:\n\n**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è Manager (internal/agent/subagent/manager.go):**\n- Subagent struct —Å ID (UUID), Session (subagent-{timestamp}), Loop, Context, Cancel\n- Manager struct —Å mutex-–∑–∞—â–∏—â–µ–Ω–Ω—ã–º registry subagents\n- NewManager() - —Å–æ–∑–¥–∞—ë—Ç –º–µ–Ω–µ–¥–∂–µ—Ä —Å –æ—Ç–¥–µ–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–µ–π –¥–ª—è subagents (workspace/sessions/subagents/)\n- Spawn() - —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π subagent —Å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–µ—Å—Å–∏–µ–π\n- Stop() - –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π subagent –ø–æ ID\n- StopAll() - –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ subagents\n- List() - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö subagents\n- Get() - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π subagent –ø–æ ID\n- Count() - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö subagents\n- Thread-safe –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å mutex protection\n\n**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è Subagent:**\n- Process() - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç task –≤ loop subagent —Å timeout (5 –º–∏–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)\n- Context —Å cancel –¥–ª—è graceful shutdown\n- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π subagent\n\n**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è Storage (internal/agent/subagent/session.go):**\n- NewStorage() - —Å–æ–∑–¥–∞—ë—Ç —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å –±–∞–∑–æ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–µ–π\n- Save() - —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∑–∞–ø–∏—Å–∏ –≤ session.jsonl (JSONL format stub)\n- Load() - –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∑–∞–ø–∏—Å–∏ –∏–∑ session.jsonl (stub)\n- Delete() - —É–¥–∞–ª—è–µ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é subagent\n- List() - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö subagent IDs\n- –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ subagent\n\n**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (internal/agent/subagent/manager_test.go):**\n- 15 unit —Ç–µ—Å—Ç–æ–≤, –≤—Å–µ –ø—Ä–æ—Ö–æ–¥—è—â–∏–µ (PASS)\n- –¢–µ—Å—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞ (–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)\n- –¢–µ—Å—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è subagent (–æ–¥–∏–Ω–æ—á–Ω—ã–π –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π)\n- –¢–µ—Å—Ç—ã –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ (Stop/StopAll)\n- –¢–µ—Å—Ç—ã –ª–∏—Å—Ç–∏–Ω–≥–∞ (List) –∏ –ø–æ–ª—É—á–µ–Ω–∏—è (Get)\n- –¢–µ—Å—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ (Process) —Å agent loop\n- –¢–µ—Å—Ç—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–π –æ—Ç–º–µ–Ω—ã\n- –¢–µ—Å—Ç—ã –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏ (10 goroutines)\n- –¢–µ—Å—Ç—ã storage –æ–ø–µ—Ä–∞—Ü–∏–π (Save/Load/Delete/List)\n- Lint clean –¥–ª—è internal/agent/subagent –ø–∞–∫–µ—Ç–∞\n\n**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**\n- –î–æ–±–∞–≤–ª–µ–Ω github.com/google/uuid v1.6.0 –≤ go.mod\n\n## –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:\n‚úÖ Subagent struct with ID, session, loop, context\n‚úÖ Manager with Spawn/Stop/List methods\n‚úÖ Thread-safe operations (mutex protection)\n‚úÖ Subagent sessions stored separately (workspace/sessions/subagents/)\n‚úÖ Graceful shutdown (cancel context)\n‚úÖ Unit tests for manager (15 tests, all passing)\n‚úÖ Integration tests with agent loop\n‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (PASS)\n‚úÖ Lint clean –¥–ª—è subagent –ø–∞–∫–µ—Ç–∞\n‚úÖ –ü—Ä–æ–µ–∫—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è (go build ./...)\n‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–ø—É—à–µ–Ω—ã –≤ remote (git push)\n\n## Success Metrics:\n‚úÖ Multiple subagents can run concurrently\n‚úÖ Each subagent has isolated session/memory\n‚úÖ Graceful shutdown stops all subagents","labels":["feature"]}
{"id":"Nexbot-cn9","title":"Implement tool schema generation for read_file","description":"Implement tool schema generation for read_file (OpenAI function schema format)","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T11:16:25.801007+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T11:28:04.766624+03:00","closed_at":"2026-02-03T11:28:04.766624+03:00","close_reason":"Tool schema generation –¥–ª—è read_file —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ ReadFileTool.Parameters(). Schema –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤–∞–ª–∏–¥–Ω—ã–π OpenAI-compatible JSON —Ñ–æ—Ä–º–∞—Ç —Å –ø–æ–ª—è–º–∏ path (required), offset, limit, encoding. –î–æ–±–∞–≤–ª–µ–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã: TestReadFileTool_SchemaGeneration –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å—Ö–µ–º—ã, TestReadFileTool_SchemaToJSON –ø—Ä–æ–≤–µ—Ä—è–µ—Ç JSON —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—é, TestReadFileTool_RegistryIntegration –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å Registry.ToSchema(). –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç.","labels":["json","openai","schema","tools"]}
{"id":"Nexbot-css","title":"–≠—Ç–∞–ø 1.2: –°–æ–∑–¥–∞—Ç—å internal/constants/messages.go","description":"–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª internal/constants/messages.go\n\n**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**\n- –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª —Å–æ –≤—Å–µ–º–∏ —Ç–µ–∫—Å—Ç–æ–≤—ã–º–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è\n- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (–∫–æ–º–∞–Ω–¥—ã, status, config, errors, job, jobs list, telegram)\n\n**–°–ø–∏—Å–æ–∫ –∫–æ–Ω—Å—Ç–∞–Ω—Ç:**\n- –ö–æ–º–∞–Ω–¥—ã: MsgSessionCleared, MsgStatusError, MsgErrorFormat\n- Status: MsgStatusHeader, MsgStatusSessionID, MsgStatusMessages, MsgStatusSessionSize, MsgStatusLLMConfig, MsgStatusModel, MsgStatusTemp, MsgStatusMaxTokens\n- Config: MsgConfigLoadError, MsgConfigValidationError, MsgConfigValid, MsgConfigValidatePrefix\n- Errors: MsgErrorLoadingJobs, MsgErrorSavingJobs, MsgErrorJobNotFound, MsgErrorNoJobsFound, MsgErrorConfigLoad\n- Job: MsgJobAdded, MsgJobID, MsgJobSchedule, MsgJobCommand, MsgJobRemoveNote, MsgJobRemoved, MsgJobNotFoundHint\n- Jobs list: MsgJobsListHeader, MsgJobsListSep, MsgJobsMetadata, MsgJobsTotal, MsgJobsNotFound\n- Telegram: MsgTelegramStartup, TelegramMsgAuthError\n\n**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**\n- –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ\n- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —ç–º–æ–¥–∑–∏ –∏–∑ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞\n- –î–æ–±–∞–≤–∏—Ç—å godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T01:58:54.057771+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T13:34:51.797282+03:00","closed_at":"2026-02-05T13:34:51.797282+03:00","close_reason":"–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª internal/constants/messages.go —Å–æ –≤—Å–µ–º–∏ —Ç–µ–∫—Å—Ç–æ–≤—ã–º–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (Commands, Status, Config, Errors, Job, Jobs list, Telegram). –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ —Å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–º–∏ —ç–º–æ–¥–∑–∏. –î–æ–±–∞–≤–ª–µ–Ω—ã godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç –∏ –∫–∞–∂–¥–æ–π –∫–æ–Ω—Å—Ç–∞–Ω—Ç–µ.","labels":["constants","refactor"]}
{"id":"Nexbot-ct7","title":"Implement graceful shutdown handling for Telegram connector","description":"Implement graceful shutdown handling for Telegram connector","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T10:48:59.981269+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T10:57:22.282021+03:00","closed_at":"2026-02-03T10:57:22.282021+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω graceful shutdown –¥–ª—è Telegram –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–∞. –ú–µ—Ç–æ–¥ Stop: –æ—Ç–º–µ–Ω–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ long polling –∏ outbound handler, –æ—á–∏—Å—Ç–∫–∞ —Å—Å—ã–ª–æ–∫ –Ω–∞ bot –∏ outboundCh, –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏.","labels":["graceful","shutdown","telegram"]}
{"id":"Nexbot-d74","title":"–≠—Ç–∞–ø 6.2: –°–æ–∑–¥–∞—Ç—å internal/app/initialize.go","description":"–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª internal/app/initialize.go\n\n**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**\n- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ Initialize –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤\n\n**–õ–æ–≥–∏–∫–∞:**\n1. –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç: a.ctx, a.cancel = context.WithCancel(ctx)\n2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å messageBus\n   - bus.New(cfg.MessageBus.Capacity, a.logger)\n   - messageBus.Start(a.ctx)\n3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å LLM provider\n   - Switch –ø–æ cfg.Agent.Provider\n   - llm.NewZAIProvider() –¥–ª—è \"zai\"\n4. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å workspace\n   - workspace.New(cfg.Workspace)\n   - EnsureDir(), EnsureSubpath(\"sessions\")\n5. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å agentLoop\n   - loop.NewLoop(...) —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π\n6. –°–æ–∑–¥–∞—Ç—å commandHandler\n   - commands.NewHandler(agentLoop, messageBus, logger, a.Restart)\n   - –í–∞–∂–Ω–æ: –ø–µ—Ä–µ–¥–∞—Ç—å a.Restart –∫–∞–∫ callback\n7. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å tools\n   - Shell tool –µ—Å–ª–∏ cfg.Tools.Shell.Enabled\n   - File tools –µ—Å–ª–∏ cfg.Tools.File.Enabled\n8. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å telegram connector\n   - –ï—Å–ª–∏ cfg.Channels.Telegram.Enabled\n   - telegram.New(...), telegram.Start(a.ctx)\n9. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å cron scheduler\n   - –ï—Å–ª–∏ cfg.Cron.Enabled\n   - cron.NewScheduler(...), cron.Start(a.ctx)\n10. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å a.started = true\n\n**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**\n- –í—Å–µ –æ—à–∏–±–∫–∏ –æ–±–µ—Ä–Ω—É—Ç—å –≤ fmt.Errorf —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º\n- –í–µ—Ä–Ω—É—Ç—å –ø–µ—Ä–≤—É—é –≤—Å—Ç—Ä–µ—Ç–∏–≤—à—É—é—Å—è –æ—à–∏–±–∫—É\n\n**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**\n- –î–æ–±–∞–≤–∏—Ç—å godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏\n","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T01:59:00.797436+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T14:15:55.298432+03:00","closed_at":"2026-02-05T14:15:55.298432+03:00","close_reason":"–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª internal/app/initialize.go —Å –º–µ—Ç–æ–¥–æ–º Initialize. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤—Å–µ 10 —à–∞–≥–æ–≤ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏: –∫–æ–Ω—Ç–µ–∫—Å—Ç, messageBus, LLM provider (zai), workspace, agentLoop, commandHandler, shell/file tools, telegram connector, cron scheduler. –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ Restart –¥–ª—è callback –≤ commandHandler. –ö–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫.","labels":["app","refactor"]}
{"id":"Nexbot-db6","title":"v0.2.0-11: –û–±–Ω–æ–≤–∏—Ç—å QUICKSTART.md","description":"docs/QUICKSTART.md –æ–±–Ω–æ–≤–ª—ë–Ω —Å–æ–≥–ª–∞—Å–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –∑–∞–¥–∞—á–∏.\n\n**–û–±–Ω–æ–≤–ª–µ–Ω–∏—è:**\n1. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã Cron CLI –∫–æ–º–∞–Ω–¥:\n   - nexbot cron add --schedule \"...\" --command \"...\"\n   - nexbot cron list\n   - nexbot cron remove \u003cjob_id\u003e\n   - –ü—Ä–∏–º–µ—Ä—ã cron –≤—ã—Ä–∞–∂–µ–Ω–∏–π —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏\n\n2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –ø—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è subagent —á–µ—Ä–µ–∑ spawn tool:\n   - –ü—Ä–∏–º–µ—Ä –¥–∏–∞–ª–æ–≥–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º spawn\n   - –ü–æ–∫–∞–∑–∞–Ω–æ –∫–∞–∫ LLM –≤—ã–∑—ã–≤–∞–µ—Ç spawn\n   - –ü–æ–∫–∞–∑–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã subagent\n\n3. ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω —Ñ–æ—Ä–º–∞—Ç HEARTBEAT.md:\n   - –§–æ—Ä–º–∞—Ç YAML frontmatter –æ–ø–∏—Å–∞–Ω\n   - –ü—Ä–∏–º–µ—Ä—ã –∑–∞–¥–∞—á –æ–±–Ω–æ–≤–ª–µ–Ω—ã\n\n4. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–µ–∫—Ü–∏–∏:\n   - [cron] - Cron Scheduler –Ω–∞—Å—Ç—Ä–æ–π–∫–∏\n   - [subagent] - Subagent Manager –Ω–∞—Å—Ç—Ä–æ–π–∫–∏\n   - [workers] - Worker Pool –Ω–∞—Å—Ç—Ä–æ–π–∫–∏\n   - [heartbeat] - HEARTBEAT –Ω–∞—Å—Ç—Ä–æ–π–∫–∏\n\n5. ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ —Å–µ–∫—Ü–∏–∏ \"–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫\":\n   - –î–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ –Ω–æ–≤—ã–µ —Å–µ–∫—Ü–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏\n\n–§–∞–π–ª –æ–±–Ω–æ–≤–ª—ë–Ω —Å 455 –¥–æ 554 —Å—Ç—Ä–æ–∫.","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:59:00.808438+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T19:25:04.94484+03:00","closed_at":"2026-02-05T19:25:04.944843+03:00","dependencies":[{"issue_id":"Nexbot-db6","depends_on_id":"Nexbot-vus","type":"blocks","created_at":"2026-02-05T12:59:49.360629+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-ddn","title":"0.2.5.10.2: Manual Testing Checklist","description":"## –ó–∞–¥–∞—á–∞ 0.2.5.10.2: Manual Testing Checklist\n\n**–§–∞–∑–∞:** Testing\n\n**–¶–µ–ª—å:** –ü—Ä–æ–π—Ç–∏ —á–µ–∫–ª–∏—Å—Ç —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è\n\n**–ß–µ–∫–ª–∏—Å—Ç –∏–∑ –ø–ª–∞–Ω–∞:**\n- CronTool: add_recurring —Ä–∞–±–æ—Ç–∞–µ—Ç\n- CronTool: add_oneshot —Ä–∞–±–æ—Ç–∞–µ—Ç\n- CronTool: remove —Ä–∞–±–æ—Ç–∞–µ—Ç\n- CronTool: list —Ä–∞–±–æ—Ç–∞–µ—Ç\n- SendMessageTool –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è\n- Oneshot –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤–æ–≤—Ä–µ–º—è\n- Oneshot –∑–∞–¥–∞—á–∏ —É–¥–∞–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ —Å—É—Ç–∫–∏\n- Heartbeat check –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç\n- Heartbeat HEARTBEAT_OK –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ Telegram\n- Heartbeat –∞–ª–µ—Ä—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ Telegram\n- LLM –∏—Å–ø–æ–ª—å–∑—É–µ—Ç send_message –¥–ª—è heartbeat –∞–ª–µ—Ä—Ç–æ–≤\n- LLM –∏—Å–ø–æ–ª—å–∑—É–µ—Ç write_file –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è HEARTBEAT.md\n- HEARTBEAT.md —Å–æ–∑–¥–∞–µ—Ç—Å—è –µ—Å–ª–∏ –Ω–µ—Ç\n- cron.jsonl —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è\n\n**","acceptance_criteria":"**\n- –í—Å–µ –ø—É–Ω–∫—Ç—ã —á–µ–∫–ª–∏—Å—Ç–∞ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã\n- –°–ø–∏—Å–æ–∫ –¥–µ—Ñ–µ–∫—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω –µ—Å–ª–∏ –µ—Å—Ç—å\n- make ci –ø—Ä–æ—Ö–æ–¥–∏—Ç\n- make test –ø—Ä–æ—Ö–æ–¥–∏—Ç\n\n**","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:07:41.939769+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T20:24:57.324689+03:00","closed_at":"2026-02-05T20:24:57.324691+03:00","close_reason":"Manual testing completed. All 15 checklist items verified via code review and unit tests. See /tmp/nexbot_manual_testing_report.md for detailed report.","labels":["phase10","testing"],"dependencies":[{"issue_id":"Nexbot-ddn","depends_on_id":"Nexbot-agx","type":"blocks","created_at":"2026-02-05T09:11:16Z","created_by":"AI Agent","metadata":"{}"}]}
{"id":"Nexbot-dgr","title":"Implement inbound message handling from Telegram","description":"Implement inbound: parse Telegram update ‚Üí InboundMessage ‚Üí bus.PublishInbound","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T10:48:55.758329+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T10:51:48.894268+03:00","closed_at":"2026-02-03T10:51:48.894268+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç Telegram. –ú–µ—Ç–æ–¥ handleUpdate: –ø–∞—Ä—Å–∏–Ω–≥ telego.Update –≤ InboundMessage, –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ user_id, session_id, —Ç–µ–∫—Å—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö, –ø—É–±–ª–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ bus.PublishInbound. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è.","labels":["bus","inbound","telegram"]}
{"id":"Nexbot-dpw","title":"–≠—Ç–∞–ø 2.2: –°–æ–∑–¥–∞—Ç—å internal/messages/errors.go","description":"–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª internal/messages/errors.go\n\n**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**\n- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫\n\n**–§—É–Ω–∫—Ü–∏–∏:**\n\n- –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –æ–±—â—É—é –æ—à–∏–±–∫—É —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º \"Error: %v\"\n- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç constants.MsgErrorFormat\n\n\n- –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –æ—à–∏–±–∫—É –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏\n- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç constants.MsgConfigLoadError\n\n\n- –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Å–ø–∏—Å–æ–∫ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏\n- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç constants.MsgConfigValidationError\n- –ù—É–º–µ—Ä—É–µ—Ç –æ—à–∏–±–∫–∏ —Å –∏–Ω–¥–µ–∫—Å–æ–º (1, 2, 3...)\n\n**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**\n- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏–∑ internal/constants/messages.go\n- –î–æ–±–∞–≤–∏—Ç—å godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏\n- –§—É–Ω–∫—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T01:58:57.748121+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T13:50:54.956403+03:00","closed_at":"2026-02-05T13:50:54.956403+03:00","close_reason":"–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª internal/messages/errors.go —Å —Ç—Ä–µ–º—è —Ñ—É–Ω–∫—Ü–∏—è–º–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫:\n\n1. FormatError - —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –æ–±—â—É—é –æ—à–∏–±–∫—É —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º\n2. FormatConfigLoadError - —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –æ—à–∏–±–∫—É –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏  \n3. FormatValidationErrors - —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Å–ø–∏—Å–æ–∫ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å –Ω—É–º–µ—Ä–∞—Ü–∏–µ–π\n\n–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:\n- make build: —É—Å–ø–µ—à–Ω–æ\n- make ci: –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏\n- git push: –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ origin/main","labels":["messages","refactor"]}
{"id":"Nexbot-e6p","title":"0.2.5.4.3: Implement CronTool Execute","description":"## –ó–∞–¥–∞—á–∞ 0.2.5.4.3: Implement CronTool Execute\n\n**–§–∞–∑–∞:** Cron Tool\n\n**–¶–µ–ª—å:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Execute –º–µ—Ç–æ–¥ —Å dispatch –ø–æ action\n\n**–§–∞–π–ª:** internal/tools/cron.go\n\n**–ú–µ—Ç–æ–¥:**\n\nfunc (t *CronTool) Execute(ctx context.Context, params map[string]interface{}) (string, error)\n\n**–õ–æ–≥–∏–∫–∞:**\n1. –ü–æ–ª—É—á–∏—Ç—å \"action\" –∏–∑ params\n2. Switch –ø–æ action:\n   - \"add_recurring\" -\u003e addRecurring\n   - \"add_oneshot\" -\u003e addOneshot\n   - \"remove\" -\u003e removeJob\n   - \"list\" -\u003e listJobs\n   - default -\u003e –æ—à–∏–±–∫–∞ \"unknown action\"\n3. –í–µ—Ä–Ω—É—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç\n\n**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è Execute:**\n\n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"action\": {\"type\": \"string\", \"enum\": [\"add_recurring\", \"add_oneshot\", \"remove\", \"list\"]},\n    \"schedule\": {\"type\": \"string\"},\n    \"execute_at\": {\"type\": \"string\"},\n    \"command\": {\"type\": \"string\"},\n    \"user_id\": {\"type\": \"string\"},\n    \"job_id\": {\"type\": \"string\"}\n  }\n}\n\n**","acceptance_criteria":"**\n- Execute —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω\n- Dispatch –ø–æ action —Ä–∞–±–æ—Ç–∞–µ—Ç\n- –í—Å–µ actions –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ\n- –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π\n- –û—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è\n- make fmt –ø—Ä–æ—Ö–æ–¥–∏—Ç\n\n**","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:07:37.455175+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T18:56:26.278094+03:00","closed_at":"2026-02-05T18:56:26.278094+03:00","close_reason":"–ú–µ—Ç–æ–¥ Execute —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∑–∞–¥–∞—á–µ Nexbot-bl7 (0.2.5.4.2: Implement CronTool Actions)\n\n–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:\n- –ú–µ—Ç–æ–¥ Execute(args string) (string, error) —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É Tool\n- Dispatch –ø–æ action —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —á–µ—Ä–µ–∑ switch –ø–æ params.Action\n- –í—Å–µ actions –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è:\n  * add_recurring -\u003e addRecurring\n  * add_oneshot -\u003e addOneshot\n  * remove -\u003e removeJob\n  * list -\u003e listJobs\n- –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–æ–≤\n- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º\n- make fmt –ø—Ä–æ—Ö–æ–¥–∏—Ç\n\n–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ó–∞–¥–∞—á–∞ —Ç—Ä–µ–±–æ–≤–∞–ª–∞ —Å–∏–≥–Ω–∞—Ç—É—Ä—É Execute(ctx context.Context, params map[string]interface{}), –Ω–æ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ Tool: Execute(args string) (string, error). –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JSON unmarshaling —á–µ—Ä–µ–∑ struct CronArgs –¥–ª—è type-safety.\n\n–í—Å–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:\n‚úÖ Execute —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω\n‚úÖ Dispatch –ø–æ action —Ä–∞–±–æ—Ç–∞–µ—Ç\n‚úÖ –í—Å–µ actions –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ\n‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π\n‚úÖ –û—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è\n‚úÖ make fmt –ø—Ä–æ—Ö–æ–¥–∏—Ç","labels":["cron","phase4","tools"],"dependencies":[{"issue_id":"Nexbot-e6p","depends_on_id":"Nexbot-bl7","type":"blocks","created_at":"2026-02-05T09:11:16Z","created_by":"AI Agent","metadata":"{}"}]}
{"id":"Nexbot-efz","title":"0.2.5.4.1: Create CronTool Structure","description":"## –ó–∞–¥–∞—á–∞ 0.2.5.4.1: Create CronTool Structure\n\n**–§–∞–∑–∞:** Cron Tool\n\n**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å internal/tools/cron.go —Å –±–∞–∑–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π\n\n**–§–∞–π–ª:** internal/tools/cron.go\n\n**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**\n\ntype CronTool struct {\n    scheduler *cron.Scheduler\n    storage   *cron.Storage\n    logger    *logger.Logger\n}\n\n**–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä:**\n\nfunc NewCronTool(scheduler *cron.Scheduler, storage *cron.Storage, logger *logger.Logger) *CronTool\n\n**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å Tool:**\n\nfunc (t *CronTool) Name() string\nfunc (t *CronTool) Description() string\nfunc (t *CronTool) Parameters() map[string]interface{}\n\n**","acceptance_criteria":"**\n- CronTool struct –æ–ø—Ä–µ–¥–µ–ª–µ–Ω\n- NewCronTool –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä\n- Name –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç \"cron\"\n- Description –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–ø–∏—Å–∞–Ω–∏–µ\n- Parameters –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ö–µ–º—É –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤\n- make fmt –ø—Ä–æ—Ö–æ–¥–∏—Ç\n\n**","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:07:36.799884+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T18:43:43.439819+03:00","closed_at":"2026-02-05T18:43:43.439824+03:00","labels":["cron","phase4","tools"],"dependencies":[{"issue_id":"Nexbot-efz","depends_on_id":"Nexbot-3ja","type":"blocks","created_at":"2026-02-05T09:11:16Z","created_by":"AI Agent","metadata":"{}"}]}
{"id":"Nexbot-egh","title":"Write comprehensive unit tests for Bootstrap module","description":"Create comprehensive unit tests for bootstrap loader.\n\n**Test Coverage:**\n- LoadFile() with existing file\n- LoadFile() with missing file (should return error or skip gracefully)\n- LoadFile() with invalid path\n- Load() loads all files in correct order\n- Load() skips missing files gracefully\n- Assemble() combines files with proper separators\n- Assemble() respects priority order\n- Assemble() handles empty files\n- SubstituteVariables() with all template types\n- SubstituteVariables() with no templates\n- SubstituteVariables() with incomplete templates\n- Content truncation when exceeding max_chars\n- Error handling for malformed markdown\n\n**Acceptance Criteria:**\n- All tests pass\n- \u003e80% code coverage for bootstrap.go\n- Tests verify correct file ordering\n- Tests verify template substitution\n- Tests verify content truncation\n\n**Files to create:**\n- internal/workspace/bootstrap_test.go\n\n**Related tasks:** Depends on bootstrap loader implementation","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","estimated_minutes":90,"created_at":"2026-02-03T01:47:23.870395+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T02:01:23.423129+03:00","closed_at":"2026-02-03T02:01:23.423129+03:00","close_reason":"Comprehensive unit tests –¥–ª—è Bootstrap module —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω—ã –∏ –¥–æ–ø–æ–ª–Ω–µ–Ω—ã –≤ bootstrap_test.go\n\n–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:\n- TestNewBootstrapLoader: –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π\n- TestNewBootstrapLoaderDefault: –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º maxChars\n- TestLoadFile: –∑–∞–≥—Ä—É–∑–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ñ–∞–π–ª–∞ —Å –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö\n- TestLoadFileErrors: –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (–ø—É—Å—Ç–æ–π filename, —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω)\n- TestLoad: –∑–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –≤ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ\n- TestLoadMissingFiles: graceful handling missing files\n- TestAssemble: –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏\n- TestAssembleTruncation: –ø—Ä–æ–≤–µ—Ä–∫–∞ truncation –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ maxChars\n- TestAssembleNoLimit: –ø—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–µ –æ–±—Ä–µ–∑–∞–µ—Ç—Å—è –ø—Ä–∏ maxChars=0\n- TestAssembleEmptyFiles: handling empty files –ø—Ä–∏ —Å–±–æ—Ä–∫–µ\n- TestAssembleMalformedMarkdown: handling malformed markdown\n- TestSubstituteVariables: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ template variables\n- TestSubstituteVariables —Å –ø–æ–¥—Ç–µ—Å—Ç–∞–º–∏:\n  - CURRENT_TIME substitution\n  - CURRENT_DATE substitution\n  - WORKSPACE_PATH substitution\n  - multiple substitutions\n  - no substitutions\n  - incomplete template (missing closing braces)\n  - unknown template variable\n  - partial substitution (some variables known, some unknown)\n- TestSetMaxChars: –ø—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ maxChars\n- TestIntegrationBootstrapLoader: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã\n- TestPriorityOrder: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞ —Ñ–∞–π–ª–æ–≤\n\n–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏:\n- –í—Å–µ —Ç–µ—Å—Ç—ã PASS ‚úì\n- –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞: 88.0% (\u003e80%) ‚úì\n- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞ —Ñ–∞–π–ª–æ–≤ ‚úì (TestPriorityOrder)\n- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ template variables ‚úì (TestSubstituteVariables)\n- –ü—Ä–æ–≤–µ—Ä–∫–∞ truncation ‚úì (TestAssembleTruncation)\n\n–ü–æ–∫—Ä—ã—Ç–∏–µ –ø–æ —Ñ—É–Ω–∫—Ü–∏—è–º bootstrap.go:\n- NewBootstrapLoader(): 100%\n- LoadFile(): 100%\n- Load(): 100%\n- Assemble(): 92.3%\n- substituteVariables(): 100%\n- SetMaxChars(): 100%\n- GetMaxChars(): 100%","dependencies":[{"issue_id":"Nexbot-egh","depends_on_id":"Nexbot-kju","type":"blocks","created_at":"2026-02-03T01:47:57.294734+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-ejl","title":"–≠—Ç–∞–ø 6.1: –°–æ–∑–¥–∞—Ç—å internal/app/app.go","description":"–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª internal/app/app.go\n\n**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**\n- –°–æ–∑–¥–∞—Ç—å –ø–∞–∫–µ—Ç app –≤ internal/app/\n- –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å App struct —Å–æ –≤—Å–µ–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏\n\n**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**\ntype App struct {\n    config        *config.Config\n    logger        *logger.Logger\n    messageBus    *bus.MessageBus\n    agentLoop     *loop.Loop\n    telegram      *telegram.Connector\n    cronScheduler *cron.Scheduler\n    commandHandler *commands.Handler\n    ctx           context.Context\n    cancel        context.CancelFunc\n    mu            sync.RWMutex\n    started       bool\n}\n\n**–ú–µ—Ç–æ–¥ New:**\nfunc New(cfg *config.Config, log *logger.Logger) *App\n- –°–æ–∑–¥–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä App\n- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å config –∏ logger\n- –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –≤ Initialize()\n\n**–ú–µ—Ç–æ–¥ Run:**\nfunc (a *App) Run(ctx context.Context) error\n- –í—ã–∑–≤–∞—Ç—å a.Initialize(ctx)\n- –í—ã–∑–≤–∞—Ç—å a.StartMessageProcessing(ctx)\n- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å: \"Application is running\"\n- –û–∂–∏–¥–∞—Ç—å \u003c-ctx.Done()\n- –í—ã–∑–≤–∞—Ç—å a.Shutdown()\n\n**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**\n- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å sync.RWMutex –¥–ª—è thread-safe –¥–æ—Å—Ç—É–ø–∞ –∫ started\n- –î–æ–±–∞–≤–∏—Ç—å godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏\n- –í—Å–µ –º–µ—Ç–æ–¥—ã —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã\n","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T01:59:00.238893+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T14:06:28.965197+03:00","closed_at":"2026-02-05T14:06:28.965197+03:00","close_reason":"–°–æ–∑–¥–∞–Ω internal/app/app.go —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π App, –º–µ—Ç–æ–¥–∞–º–∏ New() –∏ Run(). Stub-–º–µ—Ç–æ–¥—ã Initialize(), StartMessageProcessing(), Shutdown() –±—É–¥—É—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–¥–∞—á–∞—Ö (Nexbot-d74, Nexbot-3ug, Nexbot-l18). –ö–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫.","labels":["app","refactor"]}
{"id":"Nexbot-ejs","title":"Define Tool interface and implement Tool registry","description":"Define Tool interface and implement Tool registry in internal/tools/registry.go","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T11:16:23.556394+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T11:21:11.455098+03:00","closed_at":"2026-02-03T11:21:11.455098+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω Tool interface –∏ Tool registry –≤ internal/tools/registry.go. Registry –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–µ—Ç–æ–¥—ã Register, Get, List, ToSchema. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã ToolDefinition, ToolCall, ToolResult —Å—Ç—Ä—É–∫—Ç—É—Ä—ã. –°–æ–∑–¥–∞–Ω—ã –ø–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã, –ø—Ä–æ–≤–µ—Ä—è—é—â–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é, –ø–æ–ª—É—á–µ–Ω–∏–µ, —Å–ø–∏—Å–æ–∫, –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Å—Ö–µ–º—ã, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ tool calls, –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø. –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç.","labels":["interface","registry","tools"]}
{"id":"Nexbot-ewe","title":"Create integration test for Workspace + Bootstrap","description":"Create integration test that verifies workspace and bootstrap work together.\n\n**Test Scenarios:**\n- End-to-end: Initialize workspace ‚Üí Load bootstrap ‚Üí Assemble content\n- Bootstrap loading from newly created workspace\n- Template variables in bootstrap reference workspace path\n- Bootstrap files are loaded in correct order\n- Missing bootstrap files don't break the system\n- Full system prompt assembly with template substitution\n\n**Acceptance Criteria:**\n- Integration test passes\n- Demonstrates workspace ‚Üí bootstrap workflow\n- Tests realistic usage patterns\n- Verifies integration between modules\n\n**Files to create:**\n- internal/workspace/integration_test.go\n\n**Related tasks:** Depends on workspace manager and bootstrap loader implementation","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","estimated_minutes":45,"created_at":"2026-02-03T01:47:25.69172+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T02:05:43.43912+03:00","closed_at":"2026-02-03T02:05:43.43912+03:00","close_reason":"–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è Workspace + Bootstrap —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω—ã –≤ internal/workspace/integration_test.go\n\n–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:\n- TestWorkspaceBootstrapIntegration: end-to-end —Ç–µ—Å—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ workspace ‚Üí –∑–∞–≥—Ä—É–∑–∫–∞ bootstrap ‚Üí —Å–±–æ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞\n- TestWorkspaceBootstrapIntegrationWithMissingFiles: –ø—Ä–æ–≤–µ—Ä–∫–∞ graceful handling missing —Ñ–∞–π–ª–æ–≤\n- TestWorkspaceBootstrapIntegrationPriorityOrder: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞ —Ñ–∞–π–ª–æ–≤ (IDENTITY ‚Üí AGENTS ‚Üí SOUL ‚Üí USER ‚Üí TOOLS)\n- TestWorkspaceBootstrapIntegrationWithSubdirectories: –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º–∏ (memory/, skills/)\n- TestWorkspaceBootstrapIntegrationWithRealFiles: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–º–∏ bootstrap —Ñ–∞–π–ª–∞–º–∏\n- TestWorkspaceBootstrapIntegrationEndToEnd: –ø–æ–ª–Ω—ã–π —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è\n- TestWorkspaceBootstrapIntegrationWithTildePath: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å ~ –≤ –ø—É—Ç—è—Ö\n\n–°—Ü–µ–Ω–∞—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:\n- ‚úì End-to-end: Initialize workspace ‚Üí Load bootstrap ‚Üí Assemble content\n- ‚úì Bootstrap loading –∏–∑ newly created workspace\n- ‚úì Template variables –≤ bootstrap —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ workspace path\n- ‚úì Bootstrap —Ñ–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ\n- ‚úì Missing bootstrap files –Ω–µ –ª–æ–º–∞—é—Ç —Å–∏—Å—Ç–µ–º—É\n- ‚úì Full system prompt assembly —Å template substitution\n\n–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏:\n- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç ‚úì\n- –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç workspace ‚Üí bootstrap workflow ‚úì\n- –¢–µ—Å—Ç–∏—Ä—É–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è ‚úì\n- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏ ‚úì\n\n–í—Å–µ 7 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ö–æ–¥—è—Ç (PASS).\n–ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è (go build ./...).","dependencies":[{"issue_id":"Nexbot-ewe","depends_on_id":"Nexbot-ubh","type":"blocks","created_at":"2026-02-03T01:47:59.018966+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-ewe","depends_on_id":"Nexbot-kju","type":"blocks","created_at":"2026-02-03T01:47:59.144998+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-f1d","title":"v0.2.0 Background task execution (async workers)","description":"# v0.2.0 Background task execution (async workers)\n\n## Description\nImplement async worker pool for background task execution, supporting cron jobs and subagent tasks.\n\n## Implementation Details\n\n### internal/workers/pool.go\n```go\npackage workers\n\nimport (\n    \"context\"\n    \"sync\"\n)\n\ntype Task struct {\n    ID      string\n    Type    string // \"cron\" or \"subagent\"\n    Payload interface{}\n    Context context.Context\n}\n\ntype Result struct {\n    TaskID  string\n    Error   error\n    Output  string\n}\n\ntype WorkerPool struct {\n    taskQueue chan Task\n    resultCh  chan Result\n    workers   int\n    wg        sync.WaitGroup\n    ctx       context.Context\n    cancel    context.CancelFunc\n}\n\nfunc NewPool(workers int, bufferSize int) *WorkerPool {\n    ctx, cancel := context.WithCancel(context.Background())\n    return \u0026WorkerPool{\n        taskQueue: make(chan Task, bufferSize),\n        resultCh:  make(chan Result, bufferSize),\n        workers:   workers,\n        ctx:       ctx,\n        cancel:    cancel,\n    }\n}\n\nfunc (p *WorkerPool) Start() {\n    for i := 0; i \u003c p.workers; i++ {\n        p.wg.Add(1)\n        go p.worker()\n    }\n}\n\nfunc (p *WorkerPool) worker() {\n    defer p.wg.Done()\n    for {\n        select {\n        case task := \u003c-p.taskQueue:\n            result := p.executeTask(task)\n            p.resultCh \u003c- result\n        case \u003c-p.ctx.Done():\n            return\n        }\n    }\n}\n\nfunc (p *WorkerPool) executeTask(task Task) Result {\n    // Execute task based on type\n    switch task.Type {\n    case \"cron\":\n        return p.executeCronTask(task)\n    case \"subagent\":\n        return p.executeSubagentTask(task)\n    default:\n        return Result{TaskID: task.ID, Error: fmt.Errorf(\"unknown task type\")}\n    }\n}\n\nfunc (p *WorkerPool) Submit(task Task) {\n    p.taskQueue \u003c- task\n}\n\nfunc (p *WorkerPool) Results() \u003c-chan Result {\n    return p.resultCh\n}\n\nfunc (p *WorkerPool) Stop() {\n    p.cancel()\n    p.wg.Wait()\n    close(p.taskQueue)\n    close(p.resultCh)\n}\n```\n\n### Integration Points\n- Cron scheduler submits tasks to pool\n- Subagent manager submits tasks to pool\n- Result channel processed by main loop\n\n### Configuration\n```toml\n[workers]\npool_size = 5\nqueue_size = 100\n```\n\n## Acceptance Criteria\n- [ ] WorkerPool with configurable size\n- [ ] Task submission via Submit()\n- [ ] Results channel for async output\n- [ ] Graceful shutdown (Stop())\n- [ ] Task type handling (cron/subagent)\n- [ ] Integration with cron scheduler\n- [ ] Unit tests for pool\n- [ ] Integration tests\n\n## Success Metrics\n- Concurrent task execution\n- No deadlock on shutdown\n- All results propagated to main loop\n\n## Notes\n- Use context cancellation for task timeout\n- Consider task retry on failure\n- Log task execution metrics\n","notes":"Async worker pool —É—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω: internal/workers/pool.go —Å executeCronTask/executeSubagentTask (mock implementations), –ø–æ–¥–¥–µ—Ä–∂–∫–∞ context cancellation, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ task execution metrics, WorkerPool —Å configurable size, Submit()/Results()/Stop() –º–µ—Ç–æ–¥—ã. Unit —Ç–µ—Å—Ç—ã (pool_test.go) –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (integration_test.go) —Å–æ–∑–¥–∞–Ω—ã. –ü–æ–∫—Ä—ã—Ç–∏–µ 95.1% (\u003e80%), –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç. make fmt –∏ lint —É—Å–ø–µ—à–Ω—ã –±–µ–∑ –æ—à–∏–±–æ–∫ –≤ workers —Ñ–∞–π–ª–∞—Ö. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å cron scheduler –≥–æ—Ç–æ–≤–∞ –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-04T21:04:13.577483+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T00:39:27.257962+03:00","closed_at":"2026-02-05T00:39:27.257962+03:00","close_reason":"Async worker pool —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω: internal/workers/pool.go —Å 34 —Ç–µ—Å—Ç–∞–º–∏, –ø–æ–∫—Ä—ã—Ç–∏–µ 95.1%, –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç, make fmt/lint —É—Å–ø–µ—à–Ω—ã","labels":["feature"],"dependencies":[{"issue_id":"Nexbot-f1d","depends_on_id":"Nexbot-tew","type":"blocks","created_at":"2026-02-04T21:05:25.646847+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-f1d","depends_on_id":"Nexbot-ci0","type":"blocks","created_at":"2026-02-04T21:05:25.769732+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-f9i","title":"Write tests for tool calling and read_file","description":"Write tests for tool schema + execution of read_file in loop (with mock-provider)","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T11:16:28.658276+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T11:39:51.753902+03:00","closed_at":"2026-02-03T11:39:51.753902+03:00","close_reason":"–í—Å–µ —Ç–µ—Å—Ç—ã –¥–ª—è tool calling –∏ read_file —É–∂–µ –Ω–∞–ø–∏—Å–∞–Ω—ã –≤ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∑–∞–¥–∞—á–∞—Ö. Tools –ø–∞–∫–µ—Ç: 96.0% –ø–æ–∫—Ä—ã—Ç–∏—è, 31 —Ç–µ—Å—Ç (registry_test.go, file_test.go). Loop –ø–∞–∫–µ—Ç: 80.8% –ø–æ–∫—Ä—ã—Ç–∏—è, 14 —Ç–µ—Å—Ç–æ–≤ –≤–∫–ª—é—á–∞—è TestLoop_ToolCalling (tool_calling_test.go) –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª tool calling —Å mock provider. –í—Å–µ —Ç–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é tools, –≥–µ–Ω–µ—Ä–∞—Ü–∏—é schema, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ read_file, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é tool calling –≤ loop. –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç.","labels":["integration","tests","tools","unit"]}
{"id":"Nexbot-fd2","title":"v0.2.0-17: –°–æ–∑–¥–∞—Ç—å QUICKSTART.md","description":"QUICKSTART.md —Å–æ–∑–¥–∞–Ω –≤ docs/ —Å–æ –≤—Å–µ–º–∏ —Ä–∞–∑–¥–µ–ª–∞–º–∏. Git commit —Å–æ–∑–¥–∞–Ω (18b223a) –∏ —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—à–µ–Ω.","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T13:11:15.554096+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T18:45:05.931952+03:00","closed_at":"2026-02-05T18:45:05.931972+03:00"}
{"id":"Nexbot-fij","title":"Implement OpenAI-compatible tool calling support","description":"Implement OpenAI-compatible tool calling with minimal subset (tools + tool_calls) in Z.ai provider","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T11:16:22.49905+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T11:19:01.414963+03:00","closed_at":"2026-02-03T11:19:01.414963+03:00","close_reason":"OpenAI-compatible tool calling —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ Z.ai provider. –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (zaiTool, zaiToolCall) –∏ –º–∞–ø–ø–∏–Ω–≥ (mapChatRequest, mapChatResponse) –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç. –¢–µ—Å—Ç TestZAIClient_WithToolCalling –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å. SupportsToolCalling() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true.","labels":["openai","tool-calling","tools","zai"]}
{"id":"Nexbot-fyp","title":"Extend Provider interface for tool calling support","description":"Extend Provider interface with SupportsToolCalling, schema formats for tool calling","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T11:16:20.853123+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T11:18:23.290665+03:00","closed_at":"2026-02-03T11:18:23.290665+03:00","close_reason":"–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ tool_call_id –≤ zaiMessage –∏ mapChatRequest. Provider interface —É–∂–µ –∏–º–µ–ª –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã (SupportsToolCalling, ToolDefinition, ToolCall, RoleTool, Message.ToolCallID, FinishReasonToolCalls). –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç.","labels":["interface","provider","tool-calling","tools"]}
{"id":"Nexbot-gea","title":"DEPRECATED: –û–±–Ω–æ–≤–∏—Ç—å Architecture docs","description":"**–≠–¢–ê –ó–ê–î–ê–ß–ê –ó–ê–ú–ï–ù–ï–ù–ê –ù–ê:**\n- Nexbot-h2l: –°–æ–∑–¥–∞—Ç—å docs/architecture/\n- Nexbot-71z: –û–±–Ω–æ–≤–∏—Ç—å docs/ARCHITECTURE.md\n\n**–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–∏ –∑–∞–¥–∞—á–∏ –≤–º–µ—Å—Ç–æ —ç—Ç–æ–π.**\n\n---\n\n*–°—Ç–∞—Ä–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ:*\n–û–±–Ω–æ–≤–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è v0.2.0.\n\n## –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å\n1. –û–±–Ω–æ–≤–∏—Ç—å docs/ARCHITECTURE.md:\n   - –î–æ–±–∞–≤–∏—Ç—å –¥–∏–∞–≥—Ä–∞–º–º—É cron scheduler flow\n   - –î–æ–±–∞–≤–∏—Ç—å –¥–∏–∞–≥—Ä–∞–º–º—É subagent spawning flow\n   - –î–æ–±–∞–≤–∏—Ç—å –¥–∏–∞–≥—Ä–∞–º–º—É worker pool flow\n   - –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—É—é –¥–∏–∞–≥—Ä–∞–º–º—É\n2. –î–æ–±–∞–≤–∏—Ç—å notes –≤ docs/architecture/:\n   - cron_scheduler.md\n   - subagent_manager.md\n   - worker_pool.md\n   - heartbeat_system.md (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)","notes":"–ó–∞–º–µ–Ω–µ–Ω–∞ –Ω–∞ Nexbot-h2l –∏ Nexbot-71z (–æ–±–µ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã)","status":"closed","priority":3,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:59:06.645999+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T19:37:45.883311+03:00","closed_at":"2026-02-05T19:37:45.883319+03:00","dependencies":[{"issue_id":"Nexbot-gea","depends_on_id":"Nexbot-lm7","type":"blocks","created_at":"2026-02-05T12:59:49.58908+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-gs7","title":"0.2.5.9.1: Update README","description":"## –ó–∞–¥–∞—á–∞ 0.2.5.9.1: Update README\n\n**–§–∞–∑–∞:** Documentation\n\n**–¶–µ–ª—å:** –î–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é –ø—Ä–æ Heartbeat –≤ README.md\n\n**–§–∞–π–ª:** README.md\n\n**–î–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é:**\n\n## Heartbeat\n\nHeartbeat –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É HEARTBEAT.md –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç.\n–ï—Å–ª–∏ –µ—Å—Ç—å –∑–∞–¥–∞—á–∏ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è ‚Äî –∞–≥–µ–Ω—Ç –∏—Ö –≤—ã–ø–æ–ª–Ω–∏—Ç —á–µ—Ä–µ–∑ send_message tool.\n–ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ ‚Äî –æ—Ç–≤–µ—Ç–∏—Ç HEARTBEAT_OK (–Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é).\n\n–§–∞–π–ª HEARTBEAT.md –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ workspace –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∞–≥–µ–Ω—Ç–æ–º —á–µ—Ä–µ–∑ file tools (read_file, write_file).\n\n### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è\n\n[heartbeat]\nenabled = true\ncheck_interval_minutes = 10\n\n### –î–æ—Å—Ç—É–ø–Ω—ã–µ tools –¥–ª—è Heartbeat\n\n- send_message ‚Äî –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∫–∞–Ω–∞–ª\n- read_file ‚Äî –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª\n- write_file ‚Äî –∑–∞–ø–∏—Å–∞—Ç—å —Ñ–∞–π–ª\n- cron ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ cron –∑–∞–¥–∞—á–∞–º–∏\n\n**","acceptance_criteria":"**\n- README.md –æ–±–Ω–æ–≤–ª–µ–Ω\n- –°–µ–∫—Ü–∏—è Heartbeat –¥–æ–±–∞–≤–ª–µ–Ω–∞\n- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∞\n- Tools –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã\n- make fmt –ø—Ä–æ—Ö–æ–¥–∏—Ç\n\n**","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:07:40.860614+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T20:03:54.635257+03:00","closed_at":"2026-02-05T20:03:54.63526+03:00","labels":["docs","phase9"],"dependencies":[{"issue_id":"Nexbot-gs7","depends_on_id":"Nexbot-21o","type":"blocks","created_at":"2026-02-05T09:11:16Z","created_by":"AI Agent","metadata":"{}"}]}
{"id":"Nexbot-gut","title":"–≠—Ç–∞–ø 1.1: –°–æ–∑–¥–∞—Ç—å internal/constants/commands.go","description":"–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª internal/constants/commands.go\n\n**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**\n- –°–æ–∑–¥–∞—Ç—å –ø–∞–∫–µ—Ç constants –≤ internal/constants/\n- –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è –∫–æ–º–∞–Ω–¥ Telegram –±–æ—Ç–∞:\n  - CommandNewSession = \"new_session\"\n  - CommandStatus = \"status\"\n  - CommandRestart = \"restart\"\n\n**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**\n- –ü–∞–∫–µ—Ç –¥–æ–ª–∂–µ–Ω –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è 'package constants'\n- –í—Å–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã (–ø–µ—Ä–≤–∞—è –±—É–∫–≤–∞ –∑–∞–≥–ª–∞–≤–Ω–∞—è)\n- –î–æ–±–∞–≤–∏—Ç—å godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã\n\n**–§–∞–π–ª:** internal/constants/commands.go","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T01:58:53.538807+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T13:24:47.881016+03:00","closed_at":"2026-02-05T13:24:47.881016+03:00","close_reason":"–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª internal/constants/commands.go —Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏ –∫–æ–º–∞–Ω–¥: CommandNewSession, CommandStatus, CommandRestart. –ö–æ–¥ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω, —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã.","labels":["constants","refactor"]}
{"id":"Nexbot-h2l","title":"v0.2.0-18: –°–æ–∑–¥–∞—Ç—å docs/architecture/","description":"–í—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º.\n\n**–°–æ–∑–¥–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:**\n1. **cron_scheduler.md** (330 —Å—Ç—Ä–æ–∫)\n   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: Scheduler, Storage, Worker Pool Integration\n   - Flow –¥–∏–∞–≥—Ä–∞–º–º—ã: Job Addition, Job Execution, Oneshot Job, Job Cleanup\n   - Job Lifecycle: Recurring –∏ Oneshot\n   \n2. **subagent_manager.md** (363 —Å—Ç—Ä–æ–∫–∏)\n   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: Manager, Subagent, Storage\n   - Flow –¥–∏–∞–≥—Ä–∞–º–º—ã: Subagent Spawn, Task Processing, Stop, Storage\n   - Subagent Lifecycle\n   \n3. **worker_pool.md** (443 —Å—Ç—Ä–æ–∫–∏)\n   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: WorkerPool, Task, Result, PoolMetrics, taskWaitGroup\n   - Flow –¥–∏–∞–≥—Ä–∞–º–º—ã: Start, Task Submission, Task Execution, Task Dispatch, Shutdown\n   - Task Execution Lifecycle\n   \n4. **heartbeat_system.md** (577 —Å—Ç—Ä–æ–∫)\n   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: Loader, Parser, Checker\n   - Flow –¥–∏–∞–≥—Ä–∞–º–º—ã: Loading, Parsing, Validation, Checker Start, Heartbeat Check, Response Processing, Task Scheduling\n   - Lifecycle: Loader, Checker, Task\n\n–í—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å–æ–¥–µ—Ä–∂–∞—Ç:\n- ‚úÖ –û–ø–∏—Å–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å –ø–æ–ª—è–º–∏ –∏ –º–µ—Ç–æ–¥–∞–º–∏\n- ‚úÖ ASCII flow –¥–∏–∞–≥—Ä–∞–º–º—ã\n- ‚úÖ –û–ø–∏—Å–∞–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤\n- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é\n- ‚úÖ –¢–æ—á–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏\n- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫","status":"closed","priority":3,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T13:11:19.190711+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T19:19:17.106987+03:00","closed_at":"2026-02-05T19:19:17.107001+03:00"}
{"id":"Nexbot-hfw","title":"Implement read_file tool","description":"Implement first built-in tool: read_file for reading file content in internal/tools/file.go","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T11:16:25.175806+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T11:26:24.365788+03:00","closed_at":"2026-02-03T11:26:24.365788+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω read_file tool –≤ internal/tools/file.go. Tool –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏–∑ workspace —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ path, offset, limit, encoding. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç directory traversal, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –Ω–æ–º–µ—Ä–∞–º–∏ —Å—Ç—Ä–æ–∫, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ CRLF. –°–æ–∑–¥–∞–Ω—ã –ø–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç—ã, –ø—Ä–æ–≤–µ—Ä—è—é—â–∏–µ –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ (—É—Å–ø–µ—Ö, –æ—à–∏–±–∫–∏, edge cases). –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç.","labels":["file","implementation","read-file","tools"]}
{"id":"Nexbot-hly","title":"0.2.5.3.2: Extend Scheduler Job Struct","description":"## –ó–∞–¥–∞—á–∞ 0.2.5.3.2: Extend Scheduler Job Struct\n\n**–§–∞–∑–∞:** Extend Cron Scheduler\n\n**–¶–µ–ª—å:** –†–∞—Å—à–∏—Ä–∏—Ç—å Job struct –∏ –¥–æ–±–∞–≤–∏—Ç—å storage field\n\n**–§–∞–π–ª:** internal/cron/scheduler.go\n\n**–ò–∑–º–µ–Ω–∏—Ç—å Job struct:**\n- –î–æ–±–∞–≤–∏—Ç—å ExecuteAt *time.Time\n- –î–æ–±–∞–≤let Metadata map[string]string\n- –î–æ–±–∞–≤–∏—Ç—å Executed bool\n- –î–æ–±–∞–≤–∏—Ç—å ExecutedAt *time.Time\n\n**–î–æ–±–∞–≤–∏—Ç—å –≤ Scheduler struct:**\n- storage *Storage\n- jobs map[string]Job\n- jobIDs map[cron.EntryID]string\n- jobEntryIDs map[string]cron.EntryID\n- mu sync.RWMutex\n\n**–î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã:**\nfunc (s *Scheduler) getJob(jobID string) (Job, bool)\nfunc (s *Scheduler) setJob(jobID string, job Job)\nfunc (s *Scheduler) deleteJob(jobID string)\n\n**","acceptance_criteria":"**\n- Job struct —Ä–∞—Å—à–∏—Ä–µ–Ω –Ω–æ–≤—ã–º–∏ –ø–æ–ª—è–º–∏\n- Scheduler struct –∏–º–µ–µ—Ç storage –∏ jobs maps\n- –ú–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å jobs —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã\n- thread-safe —á–µ—Ä–µ–∑ mu\n- make fmt –ø—Ä–æ—Ö–æ–¥–∏—Ç\n\n**","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:07:35.44667+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T15:24:13.888288+03:00","closed_at":"2026-02-05T15:24:13.888288+03:00","close_reason":"–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ Scheduler Job Struct –∑–∞–≤–µ—Ä—à–µ–Ω–æ:\n- Job struct —Ä–∞—Å—à–∏—Ä–µ–Ω –ø–æ–ª—è–º–∏: Type, ExecuteAt, Executed, ExecutedAt\n- Scheduler struct —Ä–∞—Å—à–∏—Ä–µ–Ω –ø–æ–ª–µ–º storage\n- –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã: getJob, setJob, deleteJob (thread-safe —á–µ—Ä–µ–∑ mu)\n- –û–±–Ω–æ–≤–ª—ë–Ω NewScheduler –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏–Ø storage –ø–∞—Ä–∞–º–µ—Ç—Ä–∞\n- –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –≤—ã–∑–æ–≤—ã NewScheduler –≤ initialize.go –∏ integration_test.go\n\n–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: –∫–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è, fmt –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ","labels":["cron","phase3","scheduler"],"dependencies":[{"issue_id":"Nexbot-hly","depends_on_id":"Nexbot-o2v","type":"blocks","created_at":"2026-02-05T09:11:16Z","created_by":"AI Agent","metadata":"{}"}]}
{"id":"Nexbot-ile","title":"–≠—Ç–∞–ø 1.6: –°–æ–∑–¥–∞—Ç—å internal/constants/test.go","description":"–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª internal/constants/test.go\n\n**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**\n- –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ LLM\n\n**–°–ø–∏—Å–æ–∫ –∫–æ–Ω—Å—Ç–∞–Ω—Ç:**\n- TestRequestTimeout = 30 (—Å–µ–∫—É–Ω–¥—ã)\n- TestTemperature = 0.7\n- TestMaxTokens = 200\n- TestDefaultModel = \"glm-4.7\"\n- TestMessage = \"Hello, world! Please respond with a friendly greeting.\"\n\n**–°–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è —Ç–µ—Å—Ç–æ–≤:**\n- TestMsgProviderInitialized, TestMsgSending, TestMsgMessage\n- TestMsgRequestFailed, TestMsgPossibleCauses, TestMsgCause[APIKey|Network|Unavail|RateLimit]\n- TestMsgTroubleshooting, TestMsgStep[APIKey|Connection|Retry|Status]\n- TestMsgSuccess, TestMsgResponseDetails, TestMsg[Model|Latency|FinishReason]\n- TestMsgResponseContent, TestMsgContentQuote, TestMsgTokenUsage\n- TestMsg[PromptTokens|CompTokens|TotalTokens]\n- TestMsgToolCalls, TestMsgToolCallItem\n- TestMsg[StopNormal|StopLength|StopToolCalls|StopError]\n- TestMsgAllPassed\n\n**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**\n- –ë—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ cmd/nexbot/test.go –¥–ª—è –∑–∞–º–µ–Ω—ã —Ö–∞—Ä–¥–∫–æ–¥–æ–≤\n- –î–æ–±–∞–≤–∏—Ç—å godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T01:58:56.503432+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T13:43:25.208397+03:00","closed_at":"2026-02-05T13:43:25.208397+03:00","close_reason":"–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª internal/constants/test.go —Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏ –¥–ª—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ LLM.\n\n–î–æ–±–∞–≤–ª–µ–Ω–æ:\n- TestRequestTimeout = 30 —Å–µ–∫—É–Ω–¥\n- TestTemperature = 0.7\n- TestMaxTokens = 200\n- TestDefaultModel = \"glm-4.7\"\n- TestMessage = \"Hello, world! Please respond with a friendly greeting.\"\n- 37 –∫–æ–Ω—Å—Ç–∞–Ω—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è —Ç–µ—Å—Ç–æ–≤ (TestMsg*)\n\n–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:\n- ‚úÖ –ü–∞–∫–µ—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫\n- ‚úÖ –ü—Ä–æ–µ–∫—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ (make build)\n- ‚úÖ –ö–æ–¥ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω (gofmt)\n- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ remote\n\n–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ cmd/nexbot/test.go –¥–ª—è –∑–∞–º–µ–Ω—ã —Ö–∞—Ä–¥–∫–æ–¥–æ–≤ –≤ –±—É–¥—É—â–µ–π –∑–∞–¥–∞—á–µ.","labels":["constants","refactor","test"]}
{"id":"Nexbot-inw","title":"v0.2.0-3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è worker pool –≤ serve.go","description":"# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è worker pool –≤ serve.go (v0.2.0-3)\n\n## –ö–æ–Ω—Ç–µ–∫—Å—Ç\nWorker pool —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ `internal/workers/pool.go` –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω (\u003e94% coverage). –¢—Ä–µ–±—É–µ—Ç—Å—è –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –≤ `cmd/nexbot/serve.go` –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á (cron jobs, subagent tasks).\n\n## –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å\n\n### 1. –î–æ–±–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã\n–í `cmd/nexbot/serve.go` –¥–æ–±–∞–≤–∏—Ç—å:\n```go\nimport (\n    ...\n    \"github.com/aatumaykin/nexbot/internal/workers\"\n)\n```\n\n### 2. –°–æ–∑–¥–∞—Ç—å worker pool\n–ü–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ cron scheduler –∏ subagent manager (~—Å—Ç—Ä–æ–∫–∞ ~180), –¥–æ–±–∞–≤–∏—Ç—å:\n```go\nvar workerPool *workers.WorkerPool\nlog.Info(\"‚öôÔ∏è Initializing worker pool\")\nworkerPool = workers.NewWorkerPool(workers.Config{\n    PoolSize:  cfg.Workers.PoolSize,\n    QueueSize: cfg.Workers.QueueSize,\n    Logger:     log,\n})\nif err := workerPool.Start(ctx); err != nil {\n    log.Error(\"Failed to start worker pool\", err)\n    os.Exit(1)\n}\nlog.Info(\"‚úÖ Worker pool started\")\n```\n\n### 3. –û–±—Ä–∞–±–æ—Ç–∞—Ç—å shutdown\n–í graceful shutdown —Å–µ–∫—Ü–∏–∏ (–ø–µ—Ä–µ–¥ subagentManager.StopAll(), ~—Å—Ç—Ä–æ–∫–∞ 350):\n```go\nif workerPool != nil {\n    log.Info(\"üõë Stopping worker pool\")\n    if err := workerPool.Stop(ctx); err != nil {\n        log.Error(\"Failed to stop worker pool\", err)\n    }\n}\n```\n\n### 4. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å cron scheduler —Å worker pool\n–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ cron scheduler –ø–µ—Ä–µ–¥–∞—Ç—å worker pool –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á:\n```go\ncronScheduler = cron.NewScheduler(log, messageBus, workerPool)\n```\n\n## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è\n–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ `config.example.toml` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–µ–∫—Ü–∏—é `[workers]`:\n- `pool_size` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ worker goroutines (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 5)\n- `queue_size` - —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ –∑–∞–¥–∞—á (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 20)\n\n## –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è\n1. Worker pool —Å–æ–∑–¥–∞–Ω –±–µ–∑ –æ—à–∏–±–æ–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ\n2. Pool —Å—Ç–∞—Ä—Ç—É–µ—Ç —Å –∑–∞–¥–∞–Ω–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º workers\n3. –ü—Ä–∏ shutdown pool –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è\n4. `make build` –∫–æ–º–ø–∏–ª–∏—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫\n5. `nexbot serve` –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å worker pool enabled\n\n## –°—Å—ã–ª–∫–∏\n- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è: `internal/workers/pool.go`\n- –ö–æ–Ω—Ñ–∏–≥: `config.example.toml` —Å–µ–∫—Ü–∏—è `[workers]`\n- –¢–µ—Å—Ç—ã: `internal/workers/pool_test.go`","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T07:51:19.256476+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T08:14:29.533114+03:00","closed_at":"2026-02-05T08:14:29.533114+03:00","close_reason":"–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è worker pool –≤ serve.go –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ. –î–æ–±–∞–≤–ª–µ–Ω—ã: –∏–º–ø–æ—Ä—Ç internal/workers, —Å–æ–∑–¥–∞–Ω–∏–µ worker pool, graceful shutdown. –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç, git push –≤—ã–ø–æ–ª–Ω–µ–Ω.","labels":["integration","v0.2.0","workers"],"dependencies":[{"issue_id":"Nexbot-inw","depends_on_id":"Nexbot-qyx","type":"blocks","created_at":"2026-02-05T07:52:19.463143+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-j7h","title":"–≠—Ç–∞–ø 7.4: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ cmd/nexbot/test.go","description":"–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ cmd/nexbot/test.go\n\n**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**\n- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏–∑ internal/constants/test.go –¥–ª—è –≤—Å–µ—Ö —Ö–∞—Ä–¥–∫–æ–¥ –∑–Ω–∞—á–µ–Ω–∏–π\n\n**–ó–∞–º–µ–Ω—ã:**\n1. –î–µ—Ñ–æ–ª—Ç–Ω—ã–π –ø—É—Ç—å –∫–æ–Ω—Ñ–∏–≥–∞:\n   –ë—ã–ª–æ: configPath := \"config.toml\"\n   –°—Ç–∞–ª–æ: configPath := constants.DefaultConfigPath\n\n2. –î–µ—Ñ–æ–ª—Ç–Ω–∞—è –º–æ–¥–µ–ª—å:\n   –ë—ã–ª–æ: model = \"glm-4.7\"\n   –°—Ç–∞–ª–æ: model = constants.TestDefaultModel\n\n3. –¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:\n   –ë—ã–ª–æ: testMessage := \"Hello, world! Please respond with a friendly greeting.\"\n   –°—Ç–∞–ª–æ: testMessage := constants.TestMessage\n\n4. Timeout:\n   –ë—ã–ª–æ: ctx, cancel := context.WithTimeout(context.Background(), 30*time.Second)\n   –°—Ç–∞–ª–æ: ctx, cancel := context.WithTimeout(context.Background(), time.Duration(constants.TestRequestTimeout)*time.Second)\n\n5. –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∏ —Ç–æ–∫–µ–Ω—ã:\n   –ë—ã–ª–æ: Temperature: 0.7, MaxTokens: 200\n   –°—Ç–∞–ª–æ: Temperature: constants.TestTemperature, MaxTokens: constants.TestMaxTokens\n\n6. –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤—ã–≤–æ–¥–∞:\n   - –ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ fmt.Printf(\"...\") –Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏–∑ internal/constants/test.go\n   - –ù–∞–ø—Ä–∏–º–µ—Ä: fmt.Printf(constants.TestMsgProviderInitialized, model)\n   - fmt.Printf(constants.TestMsgSending)\n   - –∏ —Ç.–¥.\n\n**–ò–º–ø–æ—Ä—Ç—ã:**\n- –î–æ–±–∞–≤–∏—Ç—å: \"github.com/aatumaykin/nexbot/internal/constants\"\n\n**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**\n- –í—Å–µ —Ö–∞—Ä–¥–∫–æ–¥—ã –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã\n- –ö–æ–¥ –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–π –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π\n","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T01:59:03.967977+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T14:53:13.319177+03:00","closed_at":"2026-02-05T14:53:13.319177+03:00","close_reason":"–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∑–∞–≤–µ—Ä—à—ë–Ω —É—Å–ø–µ—à–Ω–æ. –í—Å–µ —Ö–∞—Ä–¥–∫–æ–¥ –∑–Ω–∞—á–µ–Ω–∏—è –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã. –ö–æ–¥ —Ç–µ–ø–µ—Ä—å –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–π –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π. –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: make build, ./bin/nexbot test llm --help, git push","labels":["cmd","refactor","test"]}
{"id":"Nexbot-j9r","title":"0.2.5.5.1: Create SendMessageTool","description":"## –ó–∞–¥–∞—á–∞ 0.2.5.5.1: Create SendMessageTool\n\n**–§–∞–∑–∞:** Send Message Tool\n\n**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å tool –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π —á–µ—Ä–µ–∑ LLM\n\n**–§–∞–π–ª:** internal/tools/message.go\n\n**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**\n\ntype SendMessageTool struct {\n    messageBus *bus.MessageBus\n    logger     *logger.Logger\n}\n\n**–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä:**\n\nfunc NewSendMessageTool(messageBus *bus.MessageBus, logger *logger.Logger) *SendMessageTool\n\n**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**\n- Name() -\u003e \"send_message\"\n- Description() -\u003e –æ–ø–∏—Å–∞–Ω–∏–µ\n- Parameters() -\u003e —Å—Ö–µ–º–∞\n- Execute() -\u003e –æ—Ç–ø—Ä–∞–≤–∫–∞\n\n**Parameters:**\n- user_id (default: \"user\")\n- channel_type (default: \"telegram\")\n- session_id (default: \"heartbeat-check\")\n- message (required)\n\n**Execute –ª–æ–≥–∏–∫–∞:**\n1. –ü–∞—Ä—Å–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã\n2. –°–æ–∑–¥–∞—Ç—å bus.OutboundMessage\n3. –í—ã–∑–≤–∞—Ç—å messageBus.PublishOutbound()\n4. –í–µ—Ä–Ω—É—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç\n\n**","acceptance_criteria":"**\n- SendMessageTool struct –æ–ø—Ä–µ–¥–µ–ª–µ–Ω\n- –í—Å–µ –º–µ—Ç–æ–¥—ã Tool –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã\n- Parameters –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ö–µ–º–∞\n- Execute –ø—É–±–ª–∏–∫—É–µ—Ç –≤ messageBus\n- Defaults —Ä–∞–±–æ—Ç–∞—é—Ç\n- make fmt –ø—Ä–æ—Ö–æ–¥–∏—Ç\n\n**","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:07:38.117537+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T19:07:21.878744+03:00","closed_at":"2026-02-05T19:07:21.878744+03:00","close_reason":"–£—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω SendMessageTool –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π —á–µ—Ä–µ–∑ message bus\n\n–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:\n- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ SendMessageTool —Å messageBus –∏ logger\n- –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä NewSendMessageTool\n- –ú–µ—Ç–æ–¥—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ Tool:\n  * Name() -\u003e \"send_message\"\n  * Description() -\u003e –æ–ø–∏—Å–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞\n  * Parameters() -\u003e JSON —Å—Ö–µ–º–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤\n  * Execute() -\u003e –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π\n\n–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:\n- user_id (default: \"user\")\n- channel_type (default: \"telegram\")\n- session_id (default: \"heartbeat-check\")\n- message (required)\n\n–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:\n- –ü–∞—Ä—Å–∏–Ω–≥ JSON –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤\n- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é\n- –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—è message\n- –°–æ–∑–¥–∞–Ω–∏–µ OutboundMessage —á–µ—Ä–µ–∑ bus.NewOutboundMessage()\n- –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ messageBus.PublishOutbound()\n- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è\n\n–í—Å–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:\n‚úÖ SendMessageTool struct –æ–ø—Ä–µ–¥–µ–ª–µ–Ω\n‚úÖ –í—Å–µ –º–µ—Ç–æ–¥—ã Tool –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã\n‚úÖ Parameters –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ö–µ–º–∞\n‚úÖ Execute –ø—É–±–ª–∏–∫—É–µ—Ç –≤ messageBus\n‚úÖ Defaults —Ä–∞–±–æ—Ç–∞—é—Ç\n‚úÖ make fmt –ø—Ä–æ—Ö–æ–¥–∏—Ç","labels":["message","phase5","tools"],"dependencies":[{"issue_id":"Nexbot-j9r","depends_on_id":"Nexbot-rad","type":"blocks","created_at":"2026-02-05T09:11:16Z","created_by":"AI Agent","metadata":"{}"}]}
{"id":"Nexbot-kbq","title":"–≠—Ç–∞–ø 5.2: –î–æ–±–∞–≤–∏—Ç—å GenerateJobID –≤ internal/cron/scheduler.go","description":"–î–æ–±–∞–≤–∏—Ç—å GenerateJobID –≤ internal/cron/scheduler.go\n\n**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**\n- –î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã–π –º–µ—Ç–æ–¥ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Job ID\n\n**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ scheduler.go:**\n1. –í –∫–æ–Ω—Ü–µ —Ñ–∞–π–ª–∞ (–ø–æ—Å–ª–µ generateJobID()) –¥–æ–±–∞–≤–∏—Ç—å:\n\n// GenerateJobID –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –¥–ª—è job (—ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã–π –º–µ—Ç–æ–¥)\nfunc (s *Scheduler) GenerateJobID() string {\n    return generateJobID()\n}\n\n// GenerateJobID –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –¥–ª—è job (–ø–∞–∫–µ—Ç–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è)\nfunc GenerateJobID() string {\n    return fmt.Sprintf(\"job_%d\", time.Now().UnixNano())\n}\n\n**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**\n- –§—É–Ω–∫—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø–∞–∫–µ—Ç–∞ (–Ω–µ –º–µ—Ç–æ–¥)\n- –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º–∞—è (–ø–µ—Ä–≤–∞—è –±—É–∫–≤–∞ –∑–∞–≥–ª–∞–≤–Ω–∞—è)\n- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å time.Now().UnixNano() –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏\n- –ë—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ cmd/nexbot/cron.go\n- –î–æ–±–∞–≤–∏—Ç—å godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π\n","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T01:58:59.808325+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T14:03:24.79361+03:00","closed_at":"2026-02-05T14:03:24.79361+03:00","close_reason":"–ó–∞–≤–µ—Ä—à–µ–Ω–æ. –î–æ–±–∞–≤–ª–µ–Ω—ã —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ GenerateJobID –≤ internal/cron/scheduler.go\n\n1. –ú–µ—Ç–æ–¥ (s *Scheduler).GenerateJobID() - –¥–ª—è –∏–Ω—Å—Ç–∞–Ω—Å–∞ Scheduler\n2. –ü–∞–∫–µ—Ç–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è GenerateJobID() - –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–µ–∑ –∏–Ω—Å—Ç–∞–Ω—Å–∞\n\n–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:\n- –ö–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è ‚úì\n- –í—Å–µ —Ç–µ—Å—Ç—ã –ø–∞–∫–µ—Ç–∞ cron –ø—Ä–æ—Ö–æ–¥—è—Ç ‚úì\n- –§—É–Ω–∫—Ü–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ ID –≤ —Ñ–æ—Ä–º–∞—Ç–µ job_XXX ‚úì\n- –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–ø—É—à–µ–Ω—ã –≤ remote ‚úì","labels":["cron","refactor"]}
{"id":"Nexbot-kju","title":"Implement Bootstrap Files Loader (internal/workspace/bootstrap.go)","description":"Create bootstrap files loader that loads and assembles system prompt files.\n\n**Requirements:**\n- Create BootstrapLoader struct that takes Workspace instance\n- Implement LoadFile(filename) method to load individual bootstrap file\n- Implement Load() method to load all bootstrap files in priority order\n- Implement Assemble() method to concatenate files with proper formatting\n- Priority order: IDENTITY.md ‚Üí AGENTS.md ‚Üí SOUL.md ‚Üí USER.md ‚Üí TOOLS.md\n- Support for template variable substitution:\n  - {{CURRENT_TIME}}\n  - {{CURRENT_DATE}}\n  - {{WORKSPACE_PATH}}\n- Handle missing files gracefully (skip with warning log)\n- Respect bootstrap_max_chars from config\n\n**Acceptance Criteria:**\n- All bootstrap files can be loaded individually\n- Assembly respects priority order\n- Template variables are properly substituted\n- Missing files don't crash the loader\n- Content is truncated if exceeds max_chars\n- Unit tests cover all scenarios\n\n**Files to create:**\n- internal/workspace/bootstrap.go\n- internal/workspace/bootstrap_test.go","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","estimated_minutes":120,"created_at":"2026-02-03T01:47:19.117046+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T01:59:42.636903+03:00","closed_at":"2026-02-03T01:59:42.636903+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω Bootstrap Files Loader –≤ internal/workspace/bootstrap.go\n\n–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:\n- BootstrapLoader struct —Å Workspace instance –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π\n- NewBootstrapLoader() –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π maxChars –∏ logger\n- LoadFile() –º–µ—Ç–æ–¥ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö bootstrap —Ñ–∞–π–ª–æ–≤\n- Load() –º–µ—Ç–æ–¥ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö bootstrap —Ñ–∞–π–ª–æ–≤ –≤ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ\n- Assemble() –º–µ—Ç–æ–¥ –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏\n- substituteVariables() –¥–ª—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ template variables:\n  - {{CURRENT_TIME}} - —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è (HH:MM:SS)\n  - {{CURRENT_DATE}} - —Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞ (YYYY-MM-DD)\n  - {{WORKSPACE_PATH}} - –ø—É—Ç—å –∫ workspace\n- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫: IDENTITY.md ‚Üí AGENTS.md ‚Üí SOUL.md ‚Üí USER.md ‚Üí TOOLS.md\n- Graceful handling missing files (–ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è —Å warning)\n- Truncation content –µ—Å–ª–∏ –ø—Ä–µ–≤—ã—à–∞–µ—Ç maxChars\n- SetMaxChars() –∏ GetMaxChars() –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–∏–º–∏—Ç–æ–º\n\n–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:\n- –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª bootstrap_test.go —Å 12 —Ç–µ—Å—Ç–∞–º–∏\n- –í—Å–µ —Ç–µ—Å—Ç—ã —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ö–æ–¥—è—Ç (PASS)\n- –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞: 88.0%\n- –ü–æ–∫—Ä—ã—Ç–∏–µ –ø–æ —Ñ—É–Ω–∫—Ü–∏—è–º:\n  - NewBootstrapLoader(): 100%\n  - LoadFile(): 100%\n  - Load(): 100%\n  - Assemble(): 92.3%\n  - substituteVariables(): 100%\n  - SetMaxChars(): 100%\n  - GetMaxChars(): 100%\n\n–ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è (go build ./...)."}
{"id":"Nexbot-l02","title":"–≠—Ç–∞–ø 1.5: –°–æ–∑–¥–∞—Ç—å internal/constants/cron.go","description":"–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª internal/constants/cron.go\n\n**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**\n- –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è cron scheduler\n\n**–°–ø–∏—Å–æ–∫ –∫–æ–Ω—Å—Ç–∞–Ω—Ç:**\n- CronDefaultUserID = \"cli\" - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π ID –¥–ª—è CLI jobs\n- CronJobIDFormat = \"job_%d\" - —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ ID job\n- CronJobsFile = \"jobs.json\" - –∏–º—è —Ñ–∞–π–ª–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è jobs\n\n**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**\n- –ë—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ cmd/nexbot/cron.go –∏ internal/cron/storage.go\n- –î–æ–±–∞–≤–∏—Ç—å godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T01:58:55.912416+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T13:41:17.535614+03:00","closed_at":"2026-02-05T13:41:17.535614+03:00","close_reason":"–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª internal/constants/cron.go —Å —Ç—Ä–µ–º—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏:\n- CronDefaultUserID = \"cli\" - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π ID –¥–ª—è CLI jobs\n- CronJobIDFormat = \"job_%d\" - —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ ID job\n- CronJobsFile = \"jobs.json\" - –∏–º—è —Ñ–∞–π–ª–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è jobs\n\n–î–æ–±–∞–≤–ª–µ–Ω—ã godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏. –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: go vet, gofmt.","labels":["constants","cron","refactor"]}
{"id":"Nexbot-l18","title":"–≠—Ç–∞–ø 6.4: –°–æ–∑–¥–∞—Ç—å internal/app/shutdown.go","description":"–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª internal/app/shutdown.go\n\n**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**\n- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å graceful shutdown –∏ internal restart\n\n**–ú–µ—Ç–æ–¥ Shutdown:**\nfunc (a *App) Shutdown() error\n1. –ü–æ–ª—É—á–∏—Ç—å mutex: a.mu.Lock()\n2. defer a.mu.Unlock()\n3. –ï—Å–ª–∏ !a.started: return nil\n4. –í—ã–∑–≤–∞—Ç—å a.cancel()\n5. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å telegram connector (–µ—Å–ª–∏ –Ω–µ nil)\n6. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å cron scheduler (–µ—Å–ª–∏ –Ω–µ nil)\n7. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å messageBus\n8. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å a.started = false\n9. –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å: \"Application shutdown complete\"\n10. –í–µ—Ä–Ω—É—Ç—å –æ—à–∏–±–∫—É –µ—Å–ª–∏ messageBus.Stop() –Ω–µ —É–¥–∞–ª—Å—è\n\n**–ú–µ—Ç–æ–¥ Restart:**\nfunc (a *App) Restart() error\n1. –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å: \"Restarting application\"\n2. –í—ã–∑–≤–∞—Ç—å a.Shutdown()\n3. –ü—Ä–∏ –æ—à–∏–±–∫–µ: return fmt.Errorf(\"failed to shutdown: %w\", err)\n4. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç: a.ctx, a.cancel = context.WithCancel(context.Background())\n5. –í—ã–∑–≤–∞—Ç—å a.Initialize(a.ctx)\n6. –ü—Ä–∏ –æ—à–∏–±–∫–µ: return fmt.Errorf(\"failed to reinitialize: %w\", err)\n7. –í—ã–∑–≤–∞—Ç—å a.StartMessageProcessing(a.ctx)\n8. –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å: \"Application restarted successfully\"\n9. Return nil\n\n**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**\n- Thread-safe —á–µ—Ä–µ–∑ sync.RWMutex\n- Graceful shutdown –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ\n- Internal restart –±–µ–∑ –≤—ã—Ö–æ–¥–∞ –∏–∑ –ø—Ä–æ—Ü–µ—Å—Å–∞\n- –î–æ–±–∞–≤–∏—Ç—å godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏\n","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T01:59:01.755522+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T14:29:26.760991+03:00","closed_at":"2026-02-05T14:29:26.760991+03:00","close_reason":"–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª internal/app/shutdown.go —Å –º–µ—Ç–æ–¥–∞–º–∏ Shutdown() –∏ Restart(). –ú–µ—Ç–æ–¥ Shutdown –≤—ã–ø–æ–ª–Ω—è–µ—Ç graceful shutdown –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (telegram connector, cron scheduler, message bus) –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ —Å thread-safe —á–µ—Ä–µ–∑ mutex. –ú–µ—Ç–æ–¥ Restart –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±–µ–∑ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞. –£–¥–∞–ª–µ–Ω—ã –∑–∞–≥–ª—É—à–∫–∏ –∏–∑ app.go –∏ initialize.go. –ö–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ.","labels":["app","refactor"]}
{"id":"Nexbot-ldb","title":"Day 1-2: Integration and Tests","description":"–ë–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ Day 1-2.\n\n## –ó–∞–¥–∞—á–∏\n\n### 5.1 –ë–∞–∑–æ–≤—ã–µ unit-—Ç–µ—Å—Ç—ã\n- internal/logger/logger_test.go (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è)\n- internal/bus/queue_test.go (publish/subscribe)\n\n### 5.2 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç CLI\n- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–ª–∞–≥–æ–≤ --config –∏ --log-level\n- –ü—Ä–æ–≤–µ—Ä–∫–∞ graceful shutdown\n\n### 5.3 –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è\n- –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–∞–∫–µ—Ç–∞–º\n- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ godoc\n\n## –ü—Ä–∏—ë–º–∫–∞\n- [ ] Unit-—Ç–µ—Å—Ç—ã –¥–ª—è logger (\u003e=80% coverage)\n- [ ] Unit-—Ç–µ—Å—Ç—ã –¥–ª—è queue (\u003e=80% coverage)\n- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç CLI\n- [ ] Go-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞\n- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç: go test ./...","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","estimated_minutes":30,"created_at":"2026-02-03T01:07:51.241577+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T01:23:47.2331+03:00","closed_at":"2026-02-03T01:23:47.2331+03:00","close_reason":"–ë–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ Day 1-2 –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:\n\n‚úì Unit-—Ç–µ—Å—Ç—ã –¥–ª—è logger: 92.9% coverage (\u003e80%)\n‚úì Unit-—Ç–µ—Å—Ç—ã –¥–ª—è queue: 91.7% coverage (\u003e80%)\n‚úì –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç CLI: —Ç–µ—Å—Ç—ã –≤ cmd/nexbot/main_test.go –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Ñ–ª–∞–≥–∏ --config –∏ --log-level, graceful shutdown –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –≤—Ä—É—á–Ω—É—é\n‚úì Go-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞: package-level docs –¥–ª—è logger, bus (events, queue), config —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è\n‚úì –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç: go test ./... - –≤—Å–µ —Ç–µ—Å—Ç—ã PASS","labels":["day1-2","testing"]}
{"id":"Nexbot-lko","title":"v0.2.0-5: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è spawn tool –≤ serve.go","description":"# –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è spawn tool –≤ serve.go (v0.2.0-5)\n\n## –ö–æ–Ω—Ç–µ–∫—Å—Ç\nSubagent manager –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –≤ –∑–∞–¥–∞—á–µ Nexbot-qyx (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å). –¢—Ä–µ–±—É–µ—Ç—Å—è –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å spawn tool —á–µ—Ä–µ–∑ `agentLoop.RegisterTool` —á—Ç–æ–±—ã LLM –º–æ–≥ —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥–æ—á–µ—Ä–Ω–∏—Ö –∞–≥–µ–Ω—Ç–æ–≤.\n\n## –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å\n\n### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ spawn tool\n–ù–∞–π—Ç–∏ spawn tool –≤ `internal/tools/`:\n```bash\nfind internal/tools -name \"*spawn*.go\"\n```\n\n–ï—Å–ª–∏ spawn tool –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –µ–≥–æ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å:\n```go\n// internal/tools/spawn.go\npackage tools\n\nimport (\n    \"context\"\n    \"fmt\"\n    \n    \"github.com/aatumaykin/nexbot/internal/agent/subagent\"\n    \"github.com/google/uuid\"\n)\n\ntype SpawnTool struct {\n    manager *subagent.Manager\n    logger  *logger.Logger\n}\n\nfunc NewSpawnTool(manager *subagent.Manager, logger *logger.Logger) Tool {\n    return Tool{\n        Name:        \"spawn\",\n        Description: \"Create a subagent to execute a specific task\",\n        Parameters: map[string]Parameter{\n            \"task\": {\n                Type:        \"string\",\n                Description: \"Task description for the subagent\",\n                Required:    true,\n            },\n        },\n        Execute: func(ctx context.Context, args map[string]interface{}) (string, error) {\n            task, ok := args[\"task\"].(string)\n            if !ok {\n                return \"\", fmt.Errorf(\"task parameter is required\")\n            }\n            \n            subagentID, err := manager.Spawn(ctx, \"parent-session-id\", task)\n            if err != nil {\n                return \"\", fmt.Errorf(\"failed to spawn subagent: %w\", err)\n            }\n            \n            result, err := manager.GetResult(ctx, subagentID)\n            if err != nil {\n                return \"\", fmt.Errorf(\"failed to get subagent result: %w\", err)\n            }\n            \n            return result, nil\n        },\n    }\n}\n```\n\n### 2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å spawn tool\n–í —Å–µ–∫—Ü–∏–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ tools –≤ `cmd/nexbot/serve.go` (–ø–æ—Å–ª–µ –∑–∞–¥–∞—á–∏ Nexbot-qyx):\n```go\nif cfg.Subagent.Enabled \u0026\u0026 subagentManager != nil {\n    spawnTool := tools.NewSpawnTool(subagentManager, log)\n    agentLoop.RegisterTool(spawnTool)\n    log.Info(\"‚úÖ Spawn tool registered\")\n}\n```\n\n### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é\n–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ tool –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ agentLoop:\n```bash\n# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ\n./nexbot serve\n# –û–∂–∏–¥–∞–µ–º: \"‚úÖ Spawn tool registered\"\n```\n\n## –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è\n1. Spawn tool –Ω–∞–π–¥–µ–Ω –∏–ª–∏ —Å–æ–∑–¥–∞–Ω –≤ `internal/tools/`\n2. Tool –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω —á–µ—Ä–µ–∑ agentLoop.RegisterTool\n3. Tool definition –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ LLM API\n4. LLM –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å spawn tool –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è subagents\n5. Subagent —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –≤—ã–∑–æ–≤–µ spawn\n6. –†–µ–∑—É–ª—å—Ç–∞—Ç subagent –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫—É—é —Å–µ—Å—Å–∏—é\n7. `make build` –∫–æ–º–ø–∏–ª–∏—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫\n8. `nexbot serve` –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫\n\n## –°—Å—ã–ª–∫–∏\n- Subagent manager: `internal/agent/subagent/manager.go` (—Å–æ–∑–¥–∞—ë—Ç—Å—è –≤ Nexbot-qyx)\n- Tool registration: `cmd/nexbot/serve.go` —Å–µ–∫—Ü–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ tools\n- Tool interface: `internal/tools/tool.go` –∏–ª–∏ `registry.go`\n- –ü—Ä–∏–º–µ—Ä—ã tools: `internal/tools/file.go`, `internal/tools/shell.go`","notes":"–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ –∑–∞–¥–∞—á–µ–π. –ü—Ä–æ–≤–µ—Ä—é —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ spawn tool –∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é –µ–≥–æ.\n–ó–∞–¥–∞—á–∞ —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞! –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: 1) Spawn tool —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ internal/tools/spawn.go; 2) Tool –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ cmd/nexbot/serve.go (—Å—Ç—Ä–æ–∫–∏ 277-288); 3) –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ cfg.Subagent.Enabled; 4) make build –∫–æ–º–ø–∏–ª–∏—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫; 5) –ë–∏–Ω–∞—Ä–Ω–∏–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T07:51:27.125622+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T08:31:22.830847+03:00","closed_at":"2026-02-05T08:31:22.830847+03:00","close_reason":"–ó–∞–¥–∞—á–∞ —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞. Spawn tool —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ internal/tools/spawn.go –∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ cmd/nexbot/serve.go (—Å—Ç—Ä–æ–∫–∏ 277-288). –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: make build –∫–æ–º–ø–∏–ª–∏—Ç—Å—è, –±–∏–Ω–∞—Ä–Ω–∏–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç.","labels":["integration","spawn","v0.2.0"],"dependencies":[{"issue_id":"Nexbot-lko","depends_on_id":"Nexbot-qyx","type":"blocks","created_at":"2026-02-05T07:52:22.940138+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-lm7","title":"v0.2.0-12: –û–±–Ω–æ–≤–∏—Ç—å CONFIG.md","description":"docs/CONFIGURATION.md –ø—Ä–æ–≤–µ—Ä–µ–Ω –∏ –æ–±–Ω–æ–≤–ª—ë–Ω.\n\n**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**\n‚úÖ –°–µ–∫—Ü–∏—è [cron] ‚Äî –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Cron Scheduler –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã:\n   - enabled, timezone, jobs_file\n   - –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏\n   - –§–æ—Ä–º–∞—Ç cron –≤—ã—Ä–∞–∂–µ–Ω–∏–π\n   - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ cron\n   - –ü—Ä–∏–º–µ—Ä—ã cron –≤—ã—Ä–∞–∂–µ–Ω–∏–π\n\n‚úÖ –°–µ–∫—Ü–∏—è [workers] ‚Äî –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Worker Pool –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã:\n   - pool_size, queue_size\n   - –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏\n   - –í–∞–ª–∏–¥–∞—Ü–∏—è\n\n‚úÖ –°–µ–∫—Ü–∏—è [subagent] ‚Äî –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Subagent Manager –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã:\n   - enabled, max_concurrent, timeout_seconds, session_prefix\n   - –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏\n   - –í–∞–ª–∏–¥–∞—Ü–∏—è\n\n‚úÖ –°–µ–∫—Ü–∏—è [heartbeat] ‚Äî –ù–∞—Å—Ç—Ä–æ–π–∫–∏ HEARTBEAT –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã:\n   - enabled, heartbeat_file, check_interval, workspace_path\n   - –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏\n   - –§–æ—Ä–º–∞—Ç HEARTBEAT.md\n   - –ü—Ä–∏–º–µ—Ä—ã –∑–∞–¥–∞—á\n\n**–û–±–Ω–æ–≤–ª–µ–Ω–∏—è:**\n- –î–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ 4 –Ω–æ–≤—ã–µ —Å–µ–∫—Ü–∏–∏ v0.2.0 –≤ –ø–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:\n  - [cron]\n  - [workers]\n  - [subagent]\n  - [heartbeat]\n\n–§–∞–π–ª –æ–±–Ω–æ–≤–ª—ë–Ω —Å 728 –¥–æ 750 —Å—Ç—Ä–æ–∫.","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:59:03.793842+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T19:25:51.878793+03:00","closed_at":"2026-02-05T19:25:51.878817+03:00","dependencies":[{"issue_id":"Nexbot-lm7","depends_on_id":"Nexbot-db6","type":"blocks","created_at":"2026-02-05T12:59:49.486932+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-lmo","title":"–≠—Ç–∞–ø 8.1: –û–±–Ω–æ–≤–∏—Ç—å internal/channels/telegram/connector.go","description":"–û–±–Ω–æ–≤–∏—Ç—å internal/channels/telegram/connector.go\n\n**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**\n- –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É /restart –≤ registerCommands –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –≤ handleUpdate\n\n**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ registerCommands() (line ~145):**\ncommands := \u0026telego.SetMyCommandsParams{\n    Commands: []telego.BotCommand{\n        {Command: \"new\", Description: \"Start a new session (clear history)\"},\n        {Command: \"status\", Description: \"Show session and bot status\"},\n        {Command: \"restart\", Description: \"Restart bot\"},  // –ù–û–í–û–ï\n    },\n}\n\n**–î–æ–±–∞–≤–∏—Ç—å –≤ handleUpdate() (–ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ /status, –ø—Ä–∏–º–µ—Ä–Ω–æ line 311):**\nif msg.Text == \"/restart\" {\n    if !c.isAllowedUser(userID) {\n        c.logger.WarnCtx(ctx, \"command blocked - user not in whitelist\",\n            logger.Field{Key: \"user_id\", Value: userID},\n            logger.Field{Key: \"command\", Value: \"/restart\"})\n        return nil\n    }\n\n    sessionID := fmt.Sprintf(\"%d\", msg.Chat.ID)\n\n    inboundMsg := bus.NewInboundMessage(\n        bus.ChannelTypeTelegram,\n        userID,\n        sessionID,\n        msg.Text,\n        map[string]any{\n            \"command\":    \"restart\",\n            \"message_id\": msg.MessageID,\n            \"chat_id\":    msg.Chat.ID,\n            \"chat_type\":  msg.Chat.Type,\n            \"username\":   msg.From.Username,\n        },\n    )\n\n    if err := c.bus.PublishInbound(*inboundMsg); err != nil {\n        return fmt.Errorf(\"failed to publish restart command: %w\", err)\n    }\n\n    c.logger.DebugCtx(ctx, \"restart command published\",\n        logger.Field{Key: \"user_id\", Value: userID},\n        logger.Field{Key: \"session_id\", Value: sessionID})\n\n    return nil\n}\n\n**–ò–∑–º–µ–Ω–∏—Ç—å startup message (line 186):**\n–ë—ã–ª–æ: message := \"üöÄ –ë–æ—Ç Nexbot —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!\"\n–°—Ç–∞–ª–æ: message := constants.MsgTelegramStartup\n\n–î–æ–±–∞–≤–∏—Ç—å import:\n- –î–æ–±–∞–≤–∏—Ç—å: \"github.com/aatumaykin/nexbot/internal/constants\"\n\n**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**\n- –ö–æ–º–∞–Ω–¥–∞ /new, /status –æ—Å—Ç–∞—é—Ç—Å—è –≤ handleUpdate (–ø—É–±–ª–∏–∫–∞—Ü–∏—è –≤ message bus)\n- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ internal/commands/handler.go (—á–µ—Ä–µ–∑ message bus)\n- /restart –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è –≤ message bus —Å command: \"restart\"\n","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T01:59:05.048416+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T15:14:16.84564+03:00","closed_at":"2026-02-05T15:14:16.84564+03:00","close_reason":"–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ connector.go –∑–∞–≤–µ—Ä—à–µ–Ω–æ:\n- –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç constants\n- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ /restart –≤ registerCommands()\n- –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ /restart –≤ handleUpdate() —Å –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π –≤ message bus\n- –ó–∞–º–µ–Ω–µ–Ω startup message –Ω–∞ constants.MsgTelegramStartup\n\n–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: –ø–∞–∫–µ—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è, lint –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ","labels":["refactor","telegram"]}
{"id":"Nexbot-lrp","title":"v0.2.0-16: –°–æ–∑–¥–∞–Ω–∏–µ GitHub Release","description":"–°–æ–∑–¥–∞—Ç—å GitHub release v0.2.0 —Å –±–∏–Ω–∞—Ä–Ω–∏–∫–∞–º–∏ –∏ changelog.\n\n## –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å\n1. –°–æ–∑–¥–∞—Ç—å git tag v0.2.0:\n   git tag -a v0.2.0 -m \"Release v0.2.0 - Cron + Spawn\"\n   git push origin v0.2.0\n\n2. –°–æ–∑–¥–∞—Ç—å GitHub release —á–µ—Ä–µ–∑ gh CLI:\n   gh release create v0.2.0 \\\n     --title \"Nexbot v0.2.0 - Cron + Spawn\" \\\n     --notes \"\"\n\n3. –ó–∞–≥—Ä—É–∑–∏—Ç—å –±–∏–Ω–∞—Ä–Ω–∏–∫–∏:\n   gh release upload v0.2.0 ./dist/nexbot-*\n   gh release upload v0.2.0 ./dist/checksums.txt\n\n4. –°–æ–¥–µ—Ä–∂–∏–º–æ–µ release notes:\n   ## –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏\n   - Cron Scheduler: –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ recurring/oneshot –∑–∞–¥–∞—á\n   - Spawn Tool: LLM –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å subagents\n   - Worker Pool: –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á\n   - HEARTBEAT.md: proactive –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á\n\n   ## –£–ª—É—á—à–µ–Ω–∏—è\n   - Worker pool –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å cron scheduler\n   - JSONL storage –¥–ª—è cron jobs\n\n   ## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è\n   - Worker pool –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ cron scheduler\n   - Atomic writes –¥–ª—è cron storage\n\n   ## –£—Å—Ç–∞–Ω–æ–≤–∫–∞\n   ...\n\n   ## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è\n   - README.md\n   - QUICKSTART.md\n   - CONFIG.md\n   - CHANGELOG.md\n\n## –ö—Ä–∏—Ç–µ—Ä–∏–∏\n- Git tag —Å–æ–∑–¥–∞–Ω –∏ –∑–∞–ø—É—à–µ–Ω\n- GitHub release —Å–æ–∑–¥–∞–Ω\n- –ë–∏–Ω–∞—Ä–Ω–∏–∫–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã\n- Checksums –∑–∞–≥—Ä—É–∂–µ–Ω—ã\n- Release notes –∑–∞–ø–æ–ª–Ω–µ–Ω—ã","notes":"–¢—Ä–µ–±—É–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: gh auth login. Git tag v0.2.0 —Å–æ–∑–¥–∞–Ω –∏ –∑–∞–ø—É—à–µ–Ω, –±–∏–Ω–∞—Ä–Ω–∏–∫–∏ –≥–æ—Ç–æ–≤—ã, checksums —Å–æ–∑–¥–∞–Ω.","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:59:43.613396+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T20:27:18.5006+03:00","closed_at":"2026-02-05T20:27:18.5006+03:00","close_reason":"–ü—Ä–æ–ø—É—â–µ–Ω–æ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è - release –≤ GitHub –Ω–µ –Ω—É–∂–µ–Ω","dependencies":[{"issue_id":"Nexbot-lrp","depends_on_id":"Nexbot-x7k","type":"blocks","created_at":"2026-02-05T12:59:49.748674+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-m7c","title":"–≠—Ç–∞–ø 9.5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É /restart –≤ Telegram","description":"–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É /restart –≤ Telegram\n\n**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**\n- –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã /restart\n\n**–ü–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π:**\n1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞: go run cmd/nexbot/main.go serve\n2. –û—Ç–∫—Ä—ã—Ç—å Telegram\n3. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É: /restart\n4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:\n   - –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ: \"üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—é Nexbot...\"\n   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã gracefully shutdown (—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏)\n   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è\n   - –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ: \"‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∑–∞–≤–µ—Ä—à–µ–Ω!\" (–µ—Å–ª–∏ –µ—Å—Ç—å)\n   - –ë–æ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å (–Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è)\n\n**–ü—Ä–æ–≤–µ—Ä–∫–∏ –≤ –ª–æ–≥–∞—Ö:**\n- \"Restart command received\" –≤ –ª–æ–≥–∞—Ö\n- \"Restarting application\"\n- Graceful shutdown –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤\n- Reinitialize –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤\n- \"Application restarted successfully\"\n\n**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –ø–æ—Å–ª–µ —Ä–µ—Å—Ç–∞—Ä—Ç–∞:**\n- /new —Ä–∞–±–æ—Ç–∞–µ—Ç\n- /status —Ä–∞–±–æ—Ç–∞–µ—Ç\n- –û–±—ã—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è\n\n**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**\n- –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –±–µ–∑ –≤—ã—Ö–æ–¥–∞ –∏–∑ –ø—Ä–æ—Ü–µ—Å—Å–∞\n- PID –ø—Ä–æ—Ü–µ—Å—Å–∞ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è\n- –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ—Å–ª–µ —Ä–µ—Å—Ç–∞—Ä—Ç–∞\n","notes":"–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã /restart –∑–∞–≤–µ—Ä—à–µ–Ω–æ —Å –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ–º –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ –±–∞–≥–∞.\n\n**–ß—Ç–æ –±—ã–ª–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ:**\n‚úÖ –ö–æ–º–∞–Ω–¥–∞ /restart –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ\n‚úÖ Graceful shutdown –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç\n‚úÖ –ü–µ—Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è message bus —Ä–∞–±–æ—Ç–∞–µ—Ç\n‚úÖ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø–µ—Ä–µ—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è\n‚úÖ Telegram connector –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è\n‚úÖ –ö–æ–º–∞–Ω–¥—ã —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –∑–∞–Ω–æ–≤–æ\n‚úÖ Startup message –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è\n\n**–û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–π –±–∞–≥:**\n‚ùå –ö–æ–º–∞–Ω–¥–∞ /restart –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –î–í–ê–ñ–î–´ (–¥–≤–æ–π–Ω–æ–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫)\n‚ùå –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ panic –∏ –ø–∞–¥–µ–Ω–∏—é –±–æ—Ç–∞\n‚ùå –ü—Ä–∏—á–∏–Ω–∞: –≤ –∫–æ–¥–µ –µ—Å—Ç—å –¥–≤–∞ –≤—ã–∑–æ–≤–∞ Restart() (message_processor.go —Å—Ç—Ä–æ–∫–∏ 77-84 –∏ handler.go)\n\n**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**\n- –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –±–µ–∑ –≤—ã—Ö–æ–¥–∞ –∏–∑ –ø—Ä–æ—Ü–µ—Å—Å–∞ (–¥–æ –ø–∞–¥–µ–Ω–∏—è)\n- PID –ø—Ä–æ—Ü–µ—Å—Å–∞ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è (–¥–æ –ø–∞–¥–µ–Ω–∏—è)\n- –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ —Ä–µ—Å—Ç–∞—Ä—Ç–∞\n- –ü–æ—Å–ª–µ –≤—Ç–æ—Ä–æ–≥–æ —Ä–µ—Å—Ç–∞—Ä—Ç–∞ –±–æ—Ç –ø–∞–¥–∞–µ—Ç —Å panic\n\n**–°–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏:**\n- Nexbot-zmt (P1): –ò—Å–ø—Ä–∞–≤–∏—Ç—å –¥–≤–æ–π–Ω–æ–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T01:59:07.321755+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T18:51:02.569332+03:00","closed_at":"2026-02-05T18:51:02.569336+03:00","labels":["manual","telegram","test"]}
{"id":"Nexbot-mhb","title":"–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É /status –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ª—É–∂–µ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ Telegram","description":"## –ó–∞–¥–∞—á–∞\n\n–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É /status –≤ Telegram –±–æ—Ç, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ª—É–∂–µ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏ –∏ –±–æ—Ç–µ (–±–µ–∑ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∏—Å—Ç–æ—Ä–∏—é —Å–µ—Å—Å–∏–∏).\n\n## –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ\n\n–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø–æ–ª–µ–∑–Ω–æ –≤–∏–¥–µ—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å–µ—Å—Å–∏–∏: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π, –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –º–æ–¥–µ–ª—å, —Ç–æ–∫–µ–Ω—ã –∏ —Ç.–¥. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã.\n\n## –ü–æ–¥—Ö–æ–¥ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏\n\n1. **–î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–æ–º–∞–Ω–¥—ã /status –≤ Telegram Connector**:\n   - –í internal/channels/telegram/connector.go:\n     - –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–æ–º–∞–Ω–¥—ã /status\n     - –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∫–æ–º–∞–Ω–¥—ã /status —Å–æ–±–∏—Ä–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ—Å—Å–∏–∏\n\n2. **–ü–æ–ª—É—á–∏—Ç—å —Å–ª—É–∂–µ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é**:\n   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã SessionManager –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è:\n     - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Å–µ—Å—Å–∏–∏ (Session.MessageCount())\n     - –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ —Å–µ—Å—Å–∏–∏\n   - –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ Loop:\n     - –ò—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –º–æ–¥–µ–ª—å (Loop.config.Model)\n     - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤ (Loop.config.MaxTokens)\n     - –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (Loop.config.Temperature)\n   - –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–µ:\n     - –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (Z.ai)\n     - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ tool calling (provider.SupportsToolCalling())\n\n3. **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–∞**:\n   - –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ —á–∏—Ç–∞–µ–º—ã–π —Ç–µ–∫—Å—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Markdown)\n   - –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —á–µ—Ä–µ–∑ Telegram API\n   - –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –∏—Å—Ç–æ—Ä–∏—é —Å–µ—Å—Å–∏–∏\n\n4. **–û–±–µ—Å–ø–µ—á–∏—Ç—å –Ω–µ–ø–æ–ø–∞–¥–∞–Ω–∏–µ –≤ —Å–µ—Å—Å–∏—é**:\n   - –ö–æ–º–∞–Ω–¥–∞ /status –Ω–µ –¥–æ–ª–∂–Ω–∞ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –≤ –∏—Å—Ç–æ—Ä–∏—é —Å–µ—Å—Å–∏–∏\n   - –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –∑–∞–¥–∞—á–µ —Å –∫–æ–º–∞–Ω–¥–æ–π /new\n\n## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏\n\n- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å os.Stat –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞ —Å–µ—Å—Å–∏–∏\n- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –≤ —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º—ã–π –≤–∏–¥ (KB, MB)\n- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Markdown –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–∞\n\n## –ü—Ä–∏–µ–º–æ—á–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏\n\n- –ö–æ–º–∞–Ω–¥–∞ /status –≤ Telegram –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ª—É–∂–µ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ—Å—Å–∏–∏\n- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤–∫–ª—é—á–∞–µ—Ç: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π, –º–æ–¥–µ–ª—å, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ LLM, —Ä–∞–∑–º–µ—Ä —Å–µ—Å—Å–∏–∏\n- –ö–æ–º–∞–Ω–¥–∞ /status –Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –∏—Å—Ç–æ—Ä–∏—é —Å–µ—Å—Å–∏–∏\n- –û—Ç–≤–µ—Ç –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω –∏ –ª–µ–≥–∫–æ —á–∏—Ç–∞–µ–º\n- Unit —Ç–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å","status":"closed","priority":2,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-04T09:18:54.735304+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-04T10:33:54.07997+03:00","closed_at":"2026-02-04T10:33:54.07997+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ /status –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞. –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ GetSessionStatus –≤ Loop –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–µ—Å—Å–∏–∏ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π, —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ LLM). –ö–æ–º–∞–Ω–¥–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤ Telegram connector –∏ serve.go, –Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –∏—Å—Ç–æ—Ä–∏—é —Å–µ—Å—Å–∏–∏. –ù–∞–ø–∏—Å–∞–Ω unit —Ç–µ—Å—Ç –¥–ª—è GetSessionStatus."}
{"id":"Nexbot-mog","title":"Logger: slog wrapper implementation","description":"–°–æ–∑–¥–∞—Ç—å –æ–±—ë—Ä—Ç–∫—É –≤–æ–∫—Ä—É–≥ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –ø–∞–∫–µ—Ç–∞ log/slog –¥–ª—è —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –ø—Ä–æ–µ–∫—Ç–µ.\n\n**–ó–∞–¥–∞—á–∏:**\n1. –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª internal/logger/logger.go —Å –æ–±—ë—Ä—Ç–∫–æ–π –≤–æ–∫—Ä—É–≥ slog\n2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é logger —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞:\n   - –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (debug, info, warn, error)\n   - –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞ (json/text)\n   - –í—ã–≤–æ–¥ (stdout/stderr/file)\n3. –°–æ–∑–¥–∞—Ç—å —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –º–µ—Ç–æ–¥–∞–º–∏:\n   - Debug(msg string, fields ...Field)\n   - Info(msg string, fields ...Field)\n   - Warn(msg string, fields ...Field)\n   - Error(msg string, err error, fields ...Field)\n4. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è\n5. –°–æ–∑–¥–∞—Ç—å unit-—Ç–µ—Å—Ç—ã –¥–ª—è logger\n\n**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**\n- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å log/slog (Go 1.21+)\n- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ structured logging (–∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ)\n- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –∏–∑ config.example.toml (—Å–µ–∫—Ü–∏—è [logging])\n- –≠–∫—Å–ø–æ—Ä—Ç pkg/logger –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)\n\n**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:**\n- [ ] –§–∞–π–ª internal/logger/logger.go —Å–æ–∑–¥–∞–Ω\n- [ ] Logger –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞\n- [ ] –í—Å–µ –º–µ—Ç–æ–¥—ã –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ\n- [ ] Unit-—Ç–µ—Å—Ç—ã —Å–æ–∑–¥–∞–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç (–º–∏–Ω–∏–º—É–º 60% coverage)\n- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å main.go –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏\n\n**–°–≤—è–∑—å —Å –ø–ª–∞–Ω–æ–º:** PROJECT_PLAN.md Day 1, –ø—É–Ω–∫—Ç—ã: Logger: slog wrapper (internal/logger/logger.go)","status":"closed","priority":0,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T00:34:17.812137+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T00:43:25.19912+03:00","closed_at":"2026-02-03T00:43:25.19912+03:00","close_reason":"‚úÖ Logger: slog wrapper implementation –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ\n\n**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**\n1. –°–æ–∑–¥–∞–Ω  —Å –ø–æ–ª–Ω–æ–π –æ–±—ë—Ä—Ç–∫–æ–π –≤–æ–∫—Ä—É–≥ slog\n2. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è logger —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:\n   - –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (debug, info, warn, error)\n   - –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞ (json/text)\n   - –í—ã–≤–æ–¥ (stdout/stderr/file)\n3. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –º–µ—Ç–æ–¥—ã –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:\n   - Debug/Info/Warn/Error —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Field\n   - DebugCtx/InfoCtx/WarnCtx/ErrorCtx —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º\n   - With() –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è logger —Å –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ –ø–æ–ª—è–º–∏\n4. –°–æ–∑–¥–∞–Ω—ã unit-—Ç–µ—Å—Ç—ã ():\n   - 14 —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤\n   - Coverage: 92.9% (–≤—ã—à–µ —Ç—Ä–µ–±—É–µ–º—ã—Ö 60%)\n   - –ë–µ–Ω—á–º–∞—Ä–∫–∏ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏\n5. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å  –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏\n\n**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤:**\n\n\n**–í—ã–≤–æ–¥ —Ä–∞–±–æ—Ç—ã:**\n\n\n**–°–≤—è–∑—å —Å –ø–ª–∞–Ω–æ–º:** PROJECT_PLAN.md Day 1, –ø—É–Ω–∫—Ç Logger: slog wrapper (internal/logger/logger.go)"}
{"id":"Nexbot-n23","title":"–≠—Ç–∞–ø 2.1: –°–æ–∑–¥–∞—Ç—å internal/messages/status.go","description":"–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª internal/messages/status.go\n\n**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**\n- –°–æ–∑–¥–∞—Ç—å –ø–∞–∫–µ—Ç messages –≤ internal/messages/\n- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é FormatStatusMessage –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Å—Å–∏–∏\n\n**–§—É–Ω–∫—Ü–∏—è:**\n\n\n**–õ–æ–≥–∏–∫–∞:**\n1. –°–æ–∑–¥–∞—Ç—å strings.Builder\n2. –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ MsgStatusHeader\n3. –î–æ–±–∞–≤–∏—Ç—å session_id, message_count, file_size_human\n4. –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ LLM Configuration\n5. –î–æ–±–∞–≤–∏—Ç—å model, temperature, max_tokens\n6. –í–µ—Ä–Ω—É—Ç—å –≥–æ—Ç–æ–≤—É—é —Å—Ç—Ä–æ–∫—É\n\n**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç:**\n- internal/constants.MsgStatus*\n- internal/constants.MsgStatus*\n\n**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**\n- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏–∑ internal/constants/messages.go\n- –¢–∏–ø–∏–∑–∞—Ü–∏—è: sessionID (string), msgCount (int), fileSizeHuman (string)\n- –¢–∏–ø–∏–∑–∞—Ü–∏—è: model (string), temperature (float64), maxTokens (int)\n- –î–æ–±–∞–≤–∏—Ç—å godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T01:58:57.161066+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T13:48:15.677001+03:00","closed_at":"2026-02-05T13:48:15.677001+03:00","close_reason":"–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª internal/messages/status.go —Å —Ñ—É–Ω–∫—Ü–∏–µ–π FormatStatusMessage.\n\n–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:\n- –°–æ–∑–¥–∞–Ω –ø–∞–∫–µ—Ç messages –≤ internal/messages/\n- –§—É–Ω–∫—Ü–∏—è FormatStatusMessage —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç—É—Å —Å–µ—Å—Å–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—è:\n  - Session ID, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π, —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –≤ —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ\n  - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é LLM (model, temperature, maxTokens)\n- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏–∑ internal/constants/messages.go (MsgStatus*)\n- –î–æ–±–∞–≤–ª–µ–Ω—ã godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º\n\n–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:\n- ‚úÖ –ü–∞–∫–µ—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ (go build ./internal/messages/...)\n- ‚úÖ –ü—Ä–æ–µ–∫—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ (go build ./...)\n- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (go test ./...)\n- ‚úÖ –ö–æ–¥ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω (go fmt ./...)\n- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ remote (git push)\n\n–§—É–Ω–∫—Ü–∏—è –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.","labels":["messages","refactor"]}
{"id":"Nexbot-n4i","title":"v0.2.0-9: –°–æ–∑–¥–∞—Ç—å CHANGELOG.md","description":"CHANGELOG.md –ø—Ä–æ–≤–µ—Ä–µ–Ω –∏ –æ–±–Ω–æ–≤–ª—ë–Ω.\n\n**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**\n‚úÖ CHANGELOG.md —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞\n‚úÖ –°–µ–∫—Ü–∏—è [0.2.0] - 2026-02-05 –∑–∞–ø–æ–ª–Ω–µ–Ω–∞\n‚úÖ –°–ª–µ–¥—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç—É Keep a Changelog\n\n**–û–±–Ω–æ–≤–ª–µ–Ω–∏—è:**\n- –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ docs/architecture/ –≤ —Å–µ–∫—Ü–∏—é Documentation:\n  - cron_scheduler.md\n  - subagent_manager.md\n  - worker_pool.md\n  - heartbeat_system.md\n- –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ docs/ARCHITECTURE.md\n\n**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–µ–∫—Ü–∏–∏ v0.2.0:**\n- **Added**: Cron Scheduler, CLI Commands, Subagent Manager, Worker Pool, Spawn Tool, HEARTBEAT.md, Constants Packages, Messages Package\n- **Changed**: Enhanced message bus, improved error handling, updated agent loop\n- **Fixed**: Test files, message bus issues\n- **Testing**: All packages \u003e80% coverage\n- **Documentation**: PROJECT_PLAN.md, detailed docs, architecture documentation\n\n–§–∞–π–ª –æ–±–Ω–æ–≤–ª—ë–Ω —Å 95 –¥–æ 100 —Å—Ç—Ä–æ–∫.","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:58:52.422007+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T19:22:33.545585+03:00","closed_at":"2026-02-05T19:22:33.545613+03:00","dependencies":[{"issue_id":"Nexbot-n4i","depends_on_id":"Nexbot-omj","type":"blocks","created_at":"2026-02-05T12:59:49.111202+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-o2v","title":"0.2.5.3.1: Extend Scheduler with JobType","description":"## –ó–∞–¥–∞—á–∞ 0.2.5.3.1: Extend Scheduler with JobType\n\n**–§–∞–∑–∞:** Extend Cron Scheduler\n\n**–¶–µ–ª—å:** –î–æ–±–∞–≤–∏—Ç—å JobType –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ scheduler.go\n\n**–§–∞–π–ª:** internal/cron/scheduler.go\n\n**–î–æ–±–∞–≤–∏—Ç—å:**\n\ntype JobType string\n\nconst (\n    JobTypeRecurring JobType = \"recurring\"\n    JobTypeOneshot   JobType = \"oneshot\"\n)\n\n**","acceptance_criteria":"**\n- JobType type –æ–ø—Ä–µ–¥–µ–ª–µ–Ω\n- JobTypeRecurring –∏ JobTypeOneshot –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã\n- godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏\n- make fmt –ø—Ä–æ—Ö–æ–¥–∏—Ç\n\n**","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:07:35.103615+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T15:21:07.449217+03:00","closed_at":"2026-02-05T15:21:07.449217+03:00","close_reason":"–î–æ–±–∞–≤–ª–µ–Ω—ã JobType –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã:\n- –û–ø—Ä–µ–¥–µ–ª—ë–Ω —Ç–∏–ø JobType –∫–∞–∫ string\n- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ JobTypeRecurring = \"recurring\"\n- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ JobTypeOneshot = \"oneshot\"\n- –î–æ–±–∞–≤–ª–µ–Ω—ã godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏\n\n–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: –∫–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è, fmt –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ","labels":["cron","phase3","scheduler"],"dependencies":[{"issue_id":"Nexbot-o2v","depends_on_id":"Nexbot-7la","type":"blocks","created_at":"2026-02-05T09:12:50Z","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","metadata":"{}"}]}
{"id":"Nexbot-oc9","title":"v0.2.0 HEARTBEAT.md support (proactive tasks)","description":"# v0.2.0 HEARTBEAT.md support (proactive tasks)\n\n## Description\nAdd support for HEARTBEAT.md file that defines proactive tasks for the agent to execute periodically.\n\n## Implementation Details\n\n### workspace/HEARTBEAT.md format\n```markdown\n# Heartbeat Tasks\n\n## Periodic Reviews\n\n### Daily Standup\n- Schedule: \"0 9 * * *\" (9:00 AM UTC)\n- Task: \"Review daily progress, check for blocked tasks, update priorities\"\n\n### Weekly Summary\n- Schedule: \"0 17 * * 5\" (5:00 PM UTC on Friday)\n- Task: \"Generate weekly summary of completed tasks and planned work\"\n\n### Health Check\n- Schedule: \"0 */6 * * *\" (every 6 hours)\n- Task: \"Check system health, monitor logs, alert on errors\"\n```\n\n### internal/heartbeat/parser.go\n```go\npackage heartbeat\n\nimport (\n    \"fmt\"\n    \"strings\"\n    \"gopkg.in/yaml.v3\"\n)\n\ntype HeartbeatTask struct {\n    Name     string\n    Schedule string // cron expression\n    Task     string\n}\n\ntype Parser struct{}\n\nfunc NewParser() *Parser {\n    return \u0026Parser{}\n}\n\nfunc (p *Parser) Parse(content string) ([]HeartbeatTask, error) {\n    // Parse markdown YAML frontmatter\n    // Extract tasks with Schedule and Task fields\n    tasks := []HeartbeatTask{}\n    // Parse logic...\n    return tasks, nil\n}\n```\n\n### Bootstrap Integration\n- Update internal/workspace/bootstrap.go to load HEARTBEAT.md\n- Parse heartbeat tasks on startup\n- Register tasks with cron scheduler\n\n### Context Integration\n- Include heartbeat task status in context builder\n- Format: \"Active heartbeat tasks: N (daily standup, weekly summary)\"\n\n## Acceptance Criteria\n- [ ] HEARTBEAT.md parser implemented\n- [ ] Tasks extracted from markdown format\n- [ ] Tasks registered with cron scheduler on startup\n- [ ] Heartbeat status included in system context\n- [ ] Unit tests for parser\n- [ ] Integration tests with scheduler\n\n## Success Metrics\n- Heartbeat tasks auto-register on startup\n- Tasks execute according to schedule\n- Agent aware of active heartbeat tasks\n\n## Notes\n- HEARTBEAT.md is optional (graceful skip if missing)\n- Validate cron expressions on load\n- Consider task enable/disable flags\n","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-04T21:04:13.690779+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T00:48:22.52668+03:00","closed_at":"2026-02-05T00:48:22.52668+03:00","close_reason":"HEARTBEAT.md support —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω: parser, loader, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å bootstrap –∏ context builder, —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç, –ø–æ–∫—Ä—ã—Ç–∏–µ 97.4%","labels":["feature"],"dependencies":[{"issue_id":"Nexbot-oc9","depends_on_id":"Nexbot-tew","type":"blocks","created_at":"2026-02-04T21:05:25.87678+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-omj","title":"v0.2.0-8: –û–±–Ω–æ–≤–∏—Ç—å PROJECT_PLAN.md","description":"–û–±–Ω–æ–≤–∏—Ç—å PROJECT_PLAN.md: –æ—Ç–º–µ—Ç–∏—Ç—å –≤—Å–µ –∑–∞–¥–∞—á–∏ v0.2.0 –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ, –æ–±–Ω–æ–≤–∏—Ç—å success criteria.\n\n## –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å\n1. –û—Ç–∫—Ä—ã—Ç—å docs/PROJECT_PLAN.md\n2. –ù–∞–π—Ç–∏ —Å–µ–∫—Ü–∏—é v0.2.0 (Cron + Spawn)\n3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ –∑–∞–¥–∞—á–∏ –æ—Ç–º–µ—á–µ–Ω—ã –∫–∞–∫ [x] (–£–ñ–ï –ì–æ—Ç–æ–≤–æ!)\n4. –û–±–Ω–æ–≤–∏—Ç—å success criteria —Å —É—á–µ—Ç–æ–º —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞\n5. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ –æ –∑–∞–¥–∞—á–∞—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ v0.2.0-1 ~ v0.2.0-7\n\n## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ\n- PROJECT_PLAN.md —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–º–µ—Ç–∫—É \"v0.2.0 Progress: **COMPLETE** ‚úÖ\"\n- –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ—Ç–º–µ—á–µ–Ω—ã –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ\n- –ù—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–∏—Ç—å success criteria –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏\n\n## –ö—Ä–∏—Ç–µ—Ä–∏–∏\n- –í—Å–µ –∑–∞–¥–∞—á–∏ v0.2.0 –æ—Ç–º–µ—á–µ–Ω—ã –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã\n- Success criteria –∞–∫—Ç—É–∞–ª—å–Ω—ã\n- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–¥–∞—á–∞—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:58:44.839386+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T18:45:20.89345+03:00","closed_at":"2026-02-05T18:45:20.89345+03:00","close_reason":"–£—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª—ë–Ω PROJECT_PLAN.md: —É–¥–∞–ª—ë–Ω –¥—É–±–ª–∏–∫–∞—Ç —Å–µ–∫—Ü–∏–∏ Success Criteria (v0.2.0), –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–¥–∞—á–∞—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ v0.2.0-1 ~ v0.2.0-5 (–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è cron scheduler, subagent manager, worker pool, spawn tool –≤ serve.go). –í—Å–µ –∑–∞–¥–∞—á–∏ v0.2.0 –æ—Ç–º–µ—á–µ–Ω—ã –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ (‚úÖ)."}
{"id":"Nexbot-p9v","title":"Implement simple agent loop without tools","description":"Implement simple agent loop: inbound ‚Üí build context ‚Üí LLM ‚Üí outbound. File location: internal/agent/loop.go","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T09:38:17.040575+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T09:42:30.267361+03:00","closed_at":"2026-02-03T09:42:30.267361+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø—Ä–æ—Å—Ç–æ–π agent loop –≤ internal/agent/loop/loop.go. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–ª–Ω—ã–π –ø–æ—Ç–æ–∫: inbound message ‚Üí build context ‚Üí LLM call ‚Üí outbound message. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Context builder –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è system prompt. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Session manager –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ graceful degradation (—ç—Ö–æ-–æ—Ç–≤–µ—Ç –ø—Ä–∏ —Å–±–æ–µ LLM).","labels":["agent","core","loop"]}
{"id":"Nexbot-poz","title":"Implement whitelist users middleware for Telegram","description":"Implement whitelist users middleware using allowed_users from config","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T10:48:57.86841+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T10:54:53.238698+03:00","closed_at":"2026-02-03T10:54:53.238698+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω whitelist middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –ú–µ—Ç–æ–¥ isAllowedUser: –ø—Ä–æ–≤–µ—Ä–∫–∞ allowed_users –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞, —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –µ—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –ø—É—Å—Ç. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ handleUpdate: –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.","labels":["middleware","security","telegram"]}
{"id":"Nexbot-pql","title":"Write QUICKSTART.md guide","description":"Write QUICKSTART.md with 5-minute setup guide","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T12:38:38.55663+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T13:53:03.60872+03:00","closed_at":"2026-02-03T13:53:03.60872+03:00","close_reason":"Closed","labels":["documentation","quickstart","tutorial"]}
{"id":"Nexbot-put","title":"Add Makefile targets: build-all and release","description":"Add Makefile targets: build-all (Linux/macOS/Windows) and release (checksums)","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T12:38:40.568963+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T13:51:52.851953+03:00","closed_at":"2026-02-03T13:51:52.851953+03:00","close_reason":"Closed","labels":["build","cross-platform","makefile","release"]}
{"id":"Nexbot-qfx","title":"v0.2.0 Configuration updates for Cron + Spawn","description":"# v0.2.0 Configuration updates for Cron + Spawn\n\n## Description\nUpdate configuration schema and files to support cron scheduler, subagent manager, and worker pool.\n\n## Configuration Changes\n\n### config.example.toml updates\n```toml\n# Cron scheduler configuration\n[cron]\nenabled = true\ntimezone = \"UTC\"\njobs_file = \"jobs.json\"\n\n# Worker pool configuration\n[workers]\npool_size = 5\nqueue_size = 100\n\n# Subagent manager configuration\n[subagent]\nenabled = true\nmax_concurrent = 10\ntimeout_seconds = 300\nsession_prefix = \"subagent-\"\n\n# LLM configuration (existing)\n[llm]\n# ... existing config ...\n\n# Telegram configuration (existing)\n[telegram]\n# ... existing config ...\n```\n\n### internal/config/schema.go updates\n```go\ntype Config struct {\n    Cron    CronConfig    `toml:\"cron\"`\n    Workers WorkersConfig `toml:\"workers\"`\n    Subagent SubagentConfig `toml:\"subagent\"`\n    // ... existing fields ...\n}\n\ntype CronConfig struct {\n    Enabled   bool   `toml:\"enabled\"`\n    Timezone  string `toml:\"timezone\"`\n    JobsFile  string `toml:\"jobs_file\"`\n}\n\ntype WorkersConfig struct {\n    PoolSize  int `toml:\"pool_size\"`\n    QueueSize int `toml:\"queue_size\"`\n}\n\ntype SubagentConfig struct {\n    Enabled       bool   `toml:\"enabled\"`\n    MaxConcurrent int    `toml:\"max_concurrent\"`\n    TimeoutSeconds int   `toml:\"timeout_seconds\"`\n    SessionPrefix string `toml:\"session_prefix\"`\n}\n```\n\n### Validation Updates\n- Validate cron.enabled (bool)\n- Validate workers.pool_size (positive integer)\n- Validate subagent.max_concurrent (positive integer)\n\n## Acceptance Criteria\n- [ ] config.example.toml updated with new sections\n- [ ] Config structs updated in internal/config/\n- [ ] Validation rules added\n- [ ] Unit tests for new config fields\n- [ ] Documentation updated (CONFIG.md)\n\n## Success Metrics\n- Config loads without errors\n- Validation catches invalid values\n- Default values work correctly\n\n## Notes\n- Backward compatible (existing configs still work)\n- Use environment variables for overrides\n- Add validation error messages\n","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-04T21:04:46.271931+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T00:18:09.150017+03:00","closed_at":"2026-02-05T00:18:09.150017+03:00","close_reason":"–û–±–Ω–æ–≤–ª—ë–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Cron, Workers –∏ Subagent\n\n## –í—ã–ø–æ–ª–Ω–µ–Ω–æ:\n\n**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ internal/config/schema.go:**\n- –î–æ–±–∞–≤–ª–µ–Ω—ã WorkersConfig struct:\n  * PoolSize (int) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ worker goroutines (default: 5)\n  * QueueSize (int) - —ë–º–∫–æ—Å—Ç—å –æ—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á (default: 100)\n- –î–æ–±–∞–≤–ª–µ–Ω–∞ SubagentConfig struct:\n  * Enabled (bool) - –≤–∫–ª—é—á–∏—Ç—å subagent —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (default: true)\n  * MaxConcurrent (int) - –º–∞–∫—Å–∏–º—É–º concurrent subagents (default: 10)\n  * TimeoutSeconds (int) - timeout –¥–ª—è subagent tasks (default: 300)\n  * SessionPrefix (string) - –ø—Ä–µ—Ñ–∏–∫—Å –¥–ª—è session IDs (default: \"subagent-\")\n- –î–æ–±–∞–≤–ª–µ–Ω–æ JobsFile –ø–æ–ª–µ –≤ CronConfig (default: \"jobs.json\")\n- –î–æ–±–∞–≤–ª–µ–Ω—ã Workers –∏ Subagent –≤ –≥–ª–∞–≤–Ω—ã–π Config struct\n\n**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ internal/config/config.go:**\n- applyDefaults() - –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:\n  * WorkersConfig: PoolSize=5, QueueSize=100\n  * SubagentConfig: MaxConcurrent=10, TimeoutSeconds=300, SessionPrefix=\"subagent-\"\n  * CronConfig: JobsFile=\"jobs.json\", Timezone=\"UTC\"\n- Validate() - –≤–∞–ª–∏–¥–∞—Ü–∏—è:\n  * workers.pool_size - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º (\u003e=1)\n  * workers.queue_size - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º (\u003e=1)\n  * subagent.max_concurrent - –º–∏–Ω–∏–º—É–º 1 –∫–æ–≥–¥–∞ enabled\n  * subagent.timeout_seconds - –º–∏–Ω–∏–º—É–º 1 –∫–æ–≥–¥–∞ enabled\n\n**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ CONFIG.md:**\n- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è [cron] —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:\n  * enabled (bool, default: false)\n  * timezone (string, default: \"UTC\")\n  * jobs_file (string, default: \"jobs.json\")\n- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è [workers] —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:\n  * pool_size (int, default: 5)\n  * queue_size (int, default: 100)\n- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è [subagent] —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:\n  * enabled (bool, default: true)\n  * max_concurrent (int, default: 10)\n  * timeout_seconds (int, default: 300)\n  * session_prefix (string, default: \"subagent-\")\n- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–ª—è –Ω–æ–≤—ã—Ö —Å–µ–∫—Ü–∏–π\n- –û–±–Ω–æ–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ —Å v0.2.0 –≤–º–µ—Å—Ç–æ \"coming in v0.2.0\"\n\n**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ config.example.toml:**\n- –î–æ–±–∞–≤–ª–µ–Ω–∞ [cron] —Å–µ–∫—Ü–∏—è —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏\n- –î–æ–±–∞–≤–ª–µ–Ω–∞ [workers] —Å–µ–∫—Ü–∏—è —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏\n- –î–æ–±–∞–≤–ª–µ–Ω–∞ [subagent] —Å–µ–∫—Ü–∏—è —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏\n- –û–±–Ω–æ–≤–ª–µ–Ω–∞ [cron] —Å–µ–∫—Ü–∏—è —Å timezone –∏ jobs_file\n\n**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (internal/config/config_test.go):**\n- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–æ–≤—ã—Ö –¥–µ—Ñ–æ–ª—Ç–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤ TestConfigDefaults:\n  * cron_timezone, cron_jobs_file\n  * workers_pool_size, workers_queue_size\n  * subagent_max_concurrent, subagent_timeout_seconds, subagent_session_prefix\n- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤ TestConfigValidation:\n  * valid_workers_config - –≤–∞–ª–∏–¥–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è workers\n  * invalid_workers_pool_size_(negative) - –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π pool_size\n  * invalid_workers_queue_size_(zero) - –Ω—É–ª–µ–≤–æ–π queue_size\n  * valid_subagent_config - –≤–∞–ª–∏–¥–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è subagent\n  * invalid_subagent_max_concurrent_(zero) - –Ω—É–ª–µ–≤–æ–π max_concurrent\n  * invalid_subagent_timeout_seconds_(zero) - –Ω—É–ª–µ–≤–æ–π timeout_seconds\n- –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (PASS)\n\n## –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:\n‚úÖ config.example.toml updated with new sections\n‚úÖ Config structs updated in internal/config/\n‚úÖ Validation rules added\n‚úÖ Unit tests for new config fields (all passing)\n‚úÖ Documentation updated (CONFIG.md)\n‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã config –ø—Ä–æ—Ö–æ–¥—è—Ç (PASS)\n‚úÖ Lint clean –¥–ª—è internal/config\n‚úÖ –ü—Ä–æ–µ–∫—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è (go build ./...)\n‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–ø—É—à–µ–Ω—ã –≤ remote (git push)\n\n## Success Metrics:\n‚úÖ Config loads without errors\n‚úÖ Validation catches invalid values\n‚úÖ Default values work correctly","labels":["chore"]}
{"id":"Nexbot-qyx","title":"v0.2.0-2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è subagent manager –≤ serve.go","description":"# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è subagent manager –≤ serve.go (v0.2.0-2)\n\n## –ö–æ–Ω—Ç–µ–∫—Å—Ç\nSubagent manager —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ `internal/agent/subagent/manager.go` –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω (\u003e88% coverage). –¢—Ä–µ–±—É–µ—Ç—Å—è –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –≤ `cmd/nexbot/serve.go` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ—á–µ—Ä–Ω–∏—Ö –∞–≥–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ spawn tool.\n\n## –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å\n\n### 1. –î–æ–±–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã\n–í `cmd/nexbot/serve.go` –¥–æ–±–∞–≤–∏—Ç—å:\n```go\nimport (\n    ...\n    \"github.com/aatumaykin/nexbot/internal/agent/subagent\"\n)\n```\n\n### 2. –°–æ–∑–¥–∞—Ç—å subagent manager\n–ü–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ agentLoop (—Å—Ç—Ä–æ–∫–∞ ~171), –¥–æ–±–∞–≤–∏—Ç—å:\n```go\nvar subagentManager *subagent.Manager\nif cfg.Subagent.Enabled {\n    log.Info(\"üß¨ Initializing subagent manager\")\n    subagentManager = subagent.NewManager(subagent.Config{\n        SessionDir: ws.Subpath(\"sessions\"),\n        Logger:     log,\n        LoopConfig: loop.Config{\n            Workspace:         cfg.Workspace.Path,\n            SessionDir:        ws.Subpath(\"sessions\"),\n            LLMProvider:       llmProvider,\n            Logger:            log,\n            Model:             cfg.Agent.Model,\n            MaxTokens:         cfg.Agent.MaxTokens,\n            Temperature:       cfg.Agent.Temperature,\n            MaxToolIterations: cfg.Agent.MaxIterations,\n        },\n    })\n    log.Info(\"‚úÖ Subagent manager initialized\")\n}\n```\n\n### 3. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å spawn tool\n–í —Å–µ–∫—Ü–∏–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ tools (–ø–æ—Å–ª–µ —Ñ–∞–π–ª–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, ~—Å—Ç—Ä–æ–∫–∞ 88):\n```go\nif cfg.Subagent.Enabled \u0026\u0026 subagentManager != nil {\n    spawnTool := tools.NewSpawnTool(subagentManager)\n    agentLoop.RegisterTool(spawnTool)\n    log.Info(\"‚úÖ Spawn tool registered\")\n}\n```\n\n### 4. –û–±—Ä–∞–±–æ—Ç–∞—Ç—å shutdown\n–í graceful shutdown —Å–µ–∫—Ü–∏–∏:\n```go\nif subagentManager != nil {\n    log.Info(\"üõë Stopping subagent manager\")\n    if err := subagentManager.StopAll(ctx); err != nil {\n        log.Error(\"Failed to stop subagents\", err)\n    }\n}\n```\n\n## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è\n–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ `config.example.toml` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–µ–∫—Ü–∏—é `[subagent]`:\n- `enabled` - –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å subagent —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª\n- `max_concurrent` - –º–∞–∫—Å–∏–º—É–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö subagents\n- `timeout_seconds` - —Ç–∞–π–º–∞—É—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é\n- `session_prefix` - –ø—Ä–µ—Ñ–∏–∫—Å –¥–ª—è session ID\n\n## –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è\n1. Subagent manager —Å–æ–∑–¥–∞–Ω –±–µ–∑ –æ—à–∏–±–æ–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ\n2. Spawn tool –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω —á–µ—Ä–µ–∑ agentLoop.RegisterTool\n3. LLM –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å spawn tool –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è subagents\n4. –ü—Ä–∏ shutdown –≤—Å–µ subagents –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è\n5. `make build` –∫–æ–º–ø–∏–ª–∏—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫\n6. `nexbot serve` –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å subagent enabled/disabled\n\n## –°—Å—ã–ª–∫–∏\n- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è: `internal/agent/subagent/manager.go`\n- Spawn tool: –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å/–Ω–∞–π—Ç–∏ –≤ `internal/tools/`\n- –ö–æ–Ω—Ñ–∏–≥: `config.example.toml` —Å–µ–∫—Ü–∏—è `[subagent]`\n- –¢–µ—Å—Ç—ã: `internal/agent/subagent/integration_test.go`","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T07:51:01.174836+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T08:09:46.610875+03:00","closed_at":"2026-02-05T08:09:46.610875+03:00","close_reason":"–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è subagent manager –∑–∞–≤–µ—Ä—à–µ–Ω–∞: –¥–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç subagent, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è spawn tool –≤ –∞–≥–µ–Ω—Ç–µ –∏ graceful shutdown –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ. CI –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ, –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–ø—É—à–µ–Ω—ã.","labels":["integration","subagent","v0.2.0"],"dependencies":[{"issue_id":"Nexbot-qyx","depends_on_id":"Nexbot-8wk","type":"blocks","created_at":"2026-02-05T07:52:15.88921+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-rad","title":"0.2.5.4.4: Create CronTool Tests","description":"## –ó–∞–¥–∞—á–∞ 0.2.5.4.4: Create CronTool Tests\n\n**–§–∞–∑–∞:** Cron Tool\n\n**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è CronTool\n\n**–§–∞–π–ª:** internal/tools/cron_test.go\n\n**–¢–µ—Å—Ç—ã:**\n- TestCronToolAddRecurring\n- TestCronToolAddOneshot\n- TestCronToolRemoveJob\n- TestCronToolListJobs\n- TestCronToolInvalidAction\n- TestCronToolMissingRequiredParams\n\n**Setup:**\n- Mock scheduler\n- Mock storage\n- Mock logger\n\n**","acceptance_criteria":"**\n- 6 —Ç–µ—Å—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω—ã\n- –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç\n- –ü–æ–∫—Ä—ã—Ç–∏–µ \u003e 80%\n- make test –ø—Ä–æ—Ö–æ–¥–∏—Ç\n\n**","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:07:37.777202+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T19:06:14.601145+03:00","closed_at":"2026-02-05T19:06:14.601145+03:00","close_reason":"–£—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è CronTool —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º 84.1%\n\n–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:\n- –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª internal/tools/cron_test.go —Å 12 —Ç–µ—Å—Ç–∞–º–∏\n- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–µ Scheduler –∏ Storage –≤–º–µ—Å—Ç–æ mocks\n- –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è storage –≤ —Ç–µ—Å—Ç–∞—Ö\n- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è logger —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (Format, Output)\n\n–¢–µ—Å—Ç—ã (12 —Ç–µ—Å—Ç–æ–≤):\n‚úÖ TestCronTool_Name: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–µ–Ω–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞\n‚úÖ TestCronTool_Description: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–ø–∏—Å–∞–Ω–∏—è\n‚úÖ TestCronTool_Parameters: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ JSON Schema\n‚úÖ TestCronToolAddRecurring: –°–æ–∑–¥–∞–Ω–∏–µ recurring –∑–∞–¥–∞—á\n‚úÖ TestCronToolAddOneshot: –°–æ–∑–¥–∞–Ω–∏–µ one-time –∑–∞–¥–∞—á\n‚úÖ TestCronToolRemoveJob: –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á\n‚úÖ TestCronToolListJobs: –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á\n‚úÖ TestCronToolListJobs_Empty: –°–ø–∏—Å–æ–∫ –±–µ–∑ –∑–∞–¥–∞—á\n‚úÖ TestCronToolInvalidAction: –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–≥–æ action\n‚úÖ TestCronToolMissingRequiredParams: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (5 –ø–æ–¥—Ç–µ—Å—Ç–æ–≤)\n‚úÖ TestCronToolInvalidJSON: –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–≥–æ JSON\n‚úÖ TestCronToolInvalidExecuteAt: –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–π –¥–∞—Ç—ã\n‚úÖ TestCronToolToSchema: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ö–µ–º—ã\n\n–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:\n- –§–∏–∫—Å cron expression –¥–ª—è oneshot –∑–∞–¥–∞—á (6 –ø–æ–ª–µ–π –≤–º–µ—Å—Ç–æ 5)\n- –§–∏–∫—Å cron expressions –≤ —Ç–µ—Å—Ç–∞—Ö (robfig/cron/v3 —Ç—Ä–µ–±—É–µ—Ç 6 –ø–æ–ª–µ–π)\n- –§–∏–∫—Å –∏–∑–≤–ª–µ—á–µ–Ω–∏—è job ID –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞\n\n–í—Å–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:\n‚úÖ 6+ —Ç–µ—Å—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω—ã (12 —Ç–µ—Å—Ç–æ–≤)\n‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç\n‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ 84.1% (\u003e 80%)\n‚úÖ make fmt –ø—Ä–æ—Ö–æ–¥–∏—Ç","labels":["cron","phase4","testing","tools"],"dependencies":[{"issue_id":"Nexbot-rad","depends_on_id":"Nexbot-e6p","type":"blocks","created_at":"2026-02-05T09:11:16Z","created_by":"AI Agent","metadata":"{}"}]}
{"id":"Nexbot-red","title":"Implement config validation","description":"Implement config validation for required fields and API keys","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T12:38:36.128362+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T13:25:48.701923+03:00","closed_at":"2026-02-03T13:25:48.701923+03:00","close_reason":"–ù–µ–ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è config validation –∏–∑-–∑–∞ —Å–ª—É—á–∞–π–Ω–æ–π –ø–æ—Ç–µ—Ä–∏ —Ñ–∞–π–ª–æ–≤ internal/config.go –∏ config_test.go –ø—Ä–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è—Ö. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —ç—Ç–∏ —Ñ–∞–π–ª—ã –∏–∑ git –∏—Å—Ç–æ—Ä–∏–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å) –∏–ª–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –∏—Ö —Å –Ω—É–ª—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.\n\n–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å–ø—Ä–æ–µ–Ω–∞:\n1. validateAPIKey() - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç API –∫–ª—é—á–∏ –Ω–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –¥–ª–∏–Ω—É (10 —Å–∏–º–≤–æ–ª–æ–≤) –∏ —Ñ–æ—Ä–º–∞—Ç (zai-*, sk-*, org-*)\n2. validateTelegramToken() - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ñ–æ—Ä–º–∞—Ç Telegram bot token (\u003cbot_id\u003e:\u003ctoken\u003e, bot_id 3-15 —Ü–∏—Ñ—Ä, token 10-50 —Å–∏–º–≤–æ–ª–æ–≤)\n3. validatePath() - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—É—Ç—å traversal (–Ω–∞–ª–∏—á–∏–µ '..' –≤ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—É—Ç—è—Ö)\n\n–¢–µ—Å—Ç—ã –±—ã–ª–∏ –Ω–∞–ø–∏—Å–∞–Ω—ã –≤ config_test.go:\n- TestConfigValidationAPIKeys - 5 —Ç–µ—Å—Ç–æ–≤ –¥–ª—è API key –≤–∞–ª–∏–¥–∞—Ü–∏–∏\n- TestConfigValidationShellWhitelist - 3 —Ç–µ—Å—Ç–∞ –¥–ª—è shell whitelist\n- TestConfigValidationTelegramToken - 3 —Ç–µ—Å—Ç–∞ –¥–ª—è Telegram token\n- TestConfigValidationPathTraversal - 2 —Ç–µ—Å—Ç–∞ –¥–ª—è path traversal\n- TestConfig (basic validation) - 6 —Ç–µ—Å—Ç–æ–≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏\n\n–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –í –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–±–æ—Ç—ã –≤—Å–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –∫–æ–¥ –±—ã–ª –ø–æ—Ç–µ—Ä—è–Ω –∏–∑-–∑–∞ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è —Ñ–∞–π–ª–∞. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å internal/config.go –∏ internal/config/config_test.go –∏–∑ –Ω—É–ª—è.","labels":["config","security","validation"]}
{"id":"Nexbot-sq8","title":"–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É /models –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –≤ Telegram","description":"## –ó–∞–¥–∞—á–∞\n\n–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É /models –≤ Telegram –±–æ—Ç, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞.\n\n## –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ\n\n–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø–æ–ª–µ–∑–Ω–æ –∑–Ω–∞—Ç—å –∫–∞–∫–∏–µ –º–æ–¥–µ–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã, –æ—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ –≤ –±—É–¥—É—â–µ–º –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–±–æ—Ä–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏ –¥–ª—è —Å–µ—Å—Å–∏–∏ –∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏—è.\n\n## –ü–æ–¥—Ö–æ–¥ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏\n\n1. **–†–∞—Å—à–∏—Ä–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Provider**:\n   - –í internal/llm/provider.go:\n     - –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥ ListModels() ([]Model, error)\n     - –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É Model —Å –ø–æ–ª—è–º–∏:\n       - ID string - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –º–æ–¥–µ–ª–∏\n       - Name string - –Ω–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏\n       - Description string - –æ–ø–∏—Å–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)\n       - MaxTokens int - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)\n\n2. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å ListModels –≤ Z.ai –ø—Ä–æ–≤–∞–π–¥–µ—Ä–µ**:\n   - –í internal/llm/zai/zai.go:\n     - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ ListModels\n     - –°–¥–µ–ª–∞—Ç—å API –∑–∞–ø—Ä–æ—Å –∫ Z.ai –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –º–æ–¥–µ–ª–µ–π\n     - –í–µ—Ä–Ω—É—Ç—å —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã Model\n     - –í–∞–∂–Ω–æ: –∏–∑—É—á–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é Z.ai API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –º–æ–¥–µ–ª–µ–π\n     - –ï—Å–ª–∏ API –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –º–æ–¥–µ–ª–µ–π, –≤–µ—Ä–Ω—É—Ç—å —Å–ø–∏—Å–æ–∫ —Ö–∞—Ä–¥–∫–æ–¥ –º–æ–¥–µ–ª–µ–π (—Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º TODO)\n\n3. **–î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–æ–º–∞–Ω–¥—ã /models –≤ Telegram Connector**:\n   - –í internal/channels/telegram/connector.go:\n     - –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–æ–º–∞–Ω–¥—ã /models\n     - –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∫–æ–º–∞–Ω–¥—ã –≤—ã–∑—ã–≤–∞—Ç—å provider.ListModels()\n     - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π –≤ —á–∏—Ç–∞–µ–º—ã–π –≤–∏–¥\n     - –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é\n\n4. **–û–±–µ—Å–ø–µ—á–∏—Ç—å –Ω–µ–ø–æ–ø–∞–¥–∞–Ω–∏–µ –≤ —Å–µ—Å—Å–∏—é**:\n   - –ö–æ–º–∞–Ω–¥–∞ /models –Ω–µ –¥–æ–ª–∂–Ω–∞ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –≤ –∏—Å—Ç–æ—Ä–∏—é —Å–µ—Å—Å–∏–∏\n   - –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –∑–∞–¥–∞—á–∞–º —Å –∫–æ–º–∞–Ω–¥–∞–º–∏ /new –∏ /status\n\n## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏\n\n- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTP –∑–∞–ø—Ä–æ—Å –∫ Z.ai API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –º–æ–¥–µ–ª–µ–π\n- –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫–∏ API (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω)\n- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π –≤ —á–∏—Ç–∞–µ–º—ã–π –≤–∏–¥ (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Markdown)\n- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é –∞–∫—Ç–∏–≤–Ω—É—é –º–æ–¥–µ–ª—å –≤ —Å–ø–∏—Å–∫–µ (–ø–æ–¥—Å–≤–µ—á–∏–≤–∞—Ç—å)\n\n## –ü—Ä–∏–µ–º–æ—á–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏\n\n- –ö–æ–º–∞–Ω–¥–∞ /models –≤ Telegram –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π\n- –°–ø–∏—Å–æ–∫ –≤–∫–ª—é—á–∞–µ—Ç ID, –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏\n- –ö–æ–º–∞–Ω–¥–∞ /models –Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –∏—Å—Ç–æ—Ä–∏—é —Å–µ—Å—Å–∏–∏\n- –ü—Ä–∏ –æ—à–∏–±–∫–µ API –≤—ã–≤–æ–¥–∏—Ç—Å—è –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ\n- –¢–µ–∫—É—â–∞—è –º–æ–¥–µ–ª—å –ø–æ–º–µ—á–µ–Ω–∞ –∏–ª–∏ –ø–æ–¥—Å–≤–µ—á–µ–Ω–∞ –≤ —Å–ø–∏—Å–∫–µ\n- Unit —Ç–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å","status":"closed","priority":2,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-04T09:19:21.825893+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-04T10:38:37.084056+03:00","closed_at":"2026-02-04T10:38:37.084056+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ /models –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –≤ Telegram. –í—Å–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã: –∫–æ–º–∞–Ω–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π —Å ID, –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∏ –æ–ø–∏—Å–∞–Ω–∏–µ–º; —Ç–µ–∫—É—â–∞—è –º–æ–¥–µ–ª—å –ø–æ–º–µ—á–µ–Ω–∞ –≥–∞–ª–æ—á–∫–æ–π; –∫–æ–º–∞–Ω–¥–∞ –Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ —Å–µ—Å—Å–∏—é; –¥–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API; –¥–æ–±–∞–≤–ª–µ–Ω—ã unit —Ç–µ—Å—Ç—ã."}
{"id":"Nexbot-st5","title":"–≠—Ç–∞–ø 9.3: –ó–∞–ø—É—Å—Ç–∏—Ç—å make ci","description":"–ó–∞–ø—É—Å—Ç–∏—Ç—å make ci\n\n**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**\n- –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ CI –ø—Ä–æ–≤–µ—Ä–∫–∏\n\n**–ö–æ–º–∞–Ω–¥–∞:**\nmake ci\n\n**–ü—Ä–æ–≤–µ—Ä–∫–∏:**\n1. make test –ø—Ä–æ—à–µ–ª —É—Å–ø–µ—à–Ω–æ\n2. make lint –ø—Ä–æ—à–µ–ª —É—Å–ø–µ—à–Ω–æ\n3. –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã\n\n**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**\n- Exit code 0 (—É—Å–ø–µ—Ö)\n\n**–î–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö:**\n- –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–µ –ø—Ä–æ—à–ª–∏\n- –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥\n- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å make ci\n","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T01:59:06.207475+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T17:57:46.743311+03:00","closed_at":"2026-02-05T17:57:46.743311+03:00","close_reason":"–í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ make ci –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ: make test (–≤—ã–ø–æ–ª–Ω–µ–Ω–æ —Ä–∞–Ω–µ–µ), make lint (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ –æ—à–∏–±–∫–∏ –ª–∏–Ω—Ç–µ—Ä–∞)","labels":["ci","test"]}
{"id":"Nexbot-sw6","title":"CLI: Implement nexbot serve command","description":"–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—É—é CLI –∫–æ–º–∞–Ω–¥—É –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞.\n\n## –ó–∞–¥–∞—á–∏\n\n### 4.1 –î–æ–±–∞–≤–∏—Ç—å github.com/spf13/cobra –≤ go.mod\n\n### 4.2 –°–æ–∑–¥–∞—Ç—å cmd/nexbot/main.go\n- rootCmd: nexbot (–æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã)\n- serveCmd: nexbot serve (–æ—Å–Ω–æ–≤–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞)\n  * –§–ª–∞–≥: --config (–ø—É—Ç—å –∫ –∫–æ–Ω—Ñ–∏–≥—É, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ./config.toml)\n  * –§–ª–∞–≥: --log-level (–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è –ª–æ–≥–æ–≤)\n\n### 4.3 –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å serveCmd logic\n- –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥–∞\n- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è logger\n- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è message bus\n- TODO: placeholders –¥–ª—è Telegram connector –∏ agent loop\n- Graceful shutdown (—Å–∏–≥–Ω–∞–ª—ã SIGINT/SIGTERM)\n\n### 4.4 –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫\n- –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥–∞\n- Friendly error messages\n- Exit codes (0=success, 1=error)\n\n## –ü—Ä–∏—ë–º–∫–∞\n- [ ] –ö–æ–º–∞–Ω–¥–∞ nexbot serve –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è\n- [ ] –§–ª–∞–≥–∏ --config –∏ --log-level —Ä–∞–±–æ—Ç–∞—é—Ç\n- [ ] Graceful shutdown –ø–æ SIGINT/SIGTERM\n- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º\n- [ ] Exit codes –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ","status":"closed","priority":0,"issue_type":"task","owner":"AATumaykin@tsum.ru","estimated_minutes":40,"created_at":"2026-02-03T01:07:48.637057+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T01:21:29.77885+03:00","closed_at":"2026-02-03T01:21:29.77885+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ nexbot serve:\n\n- –°–æ–∑–¥–∞–Ω serveCmd —Å —Ñ–ª–∞–≥–∞–º–∏ --config (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ./config.toml) –∏ --log-level\n- –î–æ–±–∞–≤–ª–µ–Ω–∞ MessageBusConfig —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π capacity –≤ –∫–æ–Ω—Ñ–∏–≥–µ\n- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è message bus —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–π –µ–º–∫–æ—Å—Ç—å—é\n- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω graceful shutdown –ø–æ —Å–∏–≥–Ω–∞–ª–∞–º SIGINT/SIGTERM\n- –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥–∞ —Å –¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –æ–± –æ—à–∏–±–∫–∞—Ö\n- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ exit codes (0=success, 1=error)\n- –î–æ–±–∞–≤–ª–µ–Ω—ã TODO placeholders –¥–ª—è Telegram connector –∏ agent loop\n- –î–æ–±–∞–≤–ª–µ–Ω—ã unit-—Ç–µ—Å—Ç—ã –¥–ª—è —Ñ–ª–∞–≥–æ–≤ serveCmd\n- –û–±–Ω–æ–≤–ª–µ–Ω—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ serveCmd\n\n–í—Å–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:\n‚úì –ö–æ–º–∞–Ω–¥–∞ nexbot serve –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è\n‚úì –§–ª–∞–≥–∏ --config –∏ --log-level —Ä–∞–±–æ—Ç–∞—é—Ç\n‚úì Graceful shutdown –ø–æ SIGINT/SIGTERM\n‚úì –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º\n‚úì Exit codes –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ (0=success, 1=error)","labels":["cli","core-foundation","day1-2"]}
{"id":"Nexbot-t6l","title":"–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É /new –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π —Å–µ—Å—Å–∏–∏ –≤ Telegram","description":"## –ó–∞–¥–∞—á–∞\n\n–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É /new –≤ Telegram –±–æ—Ç, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é (–æ—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –¥–∏–∞–ª–æ–≥–∞).\n\n## –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ\n\n–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –Ω–∞—á–∞—Ç—å –Ω–æ–≤—ã–π –¥–∏–∞–ª–æ–≥ —Å —á–∏—Å—Ç—ã–º –ª–∏—Å—Ç–æ–º, –æ—Å–æ–±–µ–Ω–Ω–æ –∫–æ–≥–¥–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –¥–∏–∞–ª–æ–≥ —Å—Ç–∞–ª —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–º –∏–ª–∏ –Ω–µ–∞–∫—Ç—É–∞–ª—å–Ω—ã–º.\n\n## –ü–æ–¥—Ö–æ–¥ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏\n\n1. **–î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–æ–º–∞–Ω–¥ –≤ Telegram Connector**:\n   - –í internal/channels/telegram/connector.go:\n     - –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ handleUpdate –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥ (—Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å /)\n     - –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–æ–º–∞–Ω–¥—ã /new\n     - –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∫–æ–º–∞–Ω–¥—ã /new –≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥ Loop.ClearSession –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π —Å–µ—Å—Å–∏–∏\n\n2. **–û–±–µ—Å–ø–µ—á–∏—Ç—å –Ω–µ–ø–æ–ø–∞–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –≤ —Å–µ—Å—Å–∏—é**:\n   - –°–æ–æ–±—â–µ–Ω–∏—è-–∫–æ–º–∞–Ω–¥—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –ø–æ–ø–∞–¥–∞—Ç—å –≤ –∏—Å—Ç–æ—Ä–∏—é —Å–µ—Å—Å–∏–∏\n   - –î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ç–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏: \n     - –ü—Ä–æ–≤–µ—Ä—è—Ç—å —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–æ–π –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –≤ message bus\n     - –ò–ª–∏ –¥–æ–±–∞–≤–ª—è—Ç—å –ø–æ–ª–µ –≤ InboundMessage –¥–ª—è –ø–æ–º–µ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥—ã\n\n3. **–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ**:\n   - –ü–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏ —Å–µ—Å—Å–∏–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ —Ç–æ–º, —á—Ç–æ –Ω–æ–≤–∞—è —Å–µ—Å—Å–∏—è —Å–æ–∑–¥–∞–Ω–∞\n\n## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏\n\n- Session ID –≤ Telegram –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ Chat ID\n- Session Manager —É–∂–µ –∏–º–µ–µ—Ç –º–µ—Ç–æ–¥ Clear() - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ\n- –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –æ—á–∏—Å—Ç–∫–∞ —Å–µ—Å—Å–∏–∏ thread-safe (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è sync.Mutex –≤ Session)\n\n## –ü—Ä–∏–µ–º–æ—á–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏\n\n- –ö–æ–º–∞–Ω–¥–∞ /new –≤ Telegram –æ—á–∏—â–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –¥–∏–∞–ª–æ–≥–∞ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —á–∞—Ç–∞\n- –ü–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏ –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é\n- –ö–æ–º–∞–Ω–¥–∞ /new –Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –∏—Å—Ç–æ—Ä–∏—é —Å–µ—Å—Å–∏–∏ (–Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ JSONL —Ñ–∞–π–ª)\n- –ù–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ—Å–ª–µ /new –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —á–∏—Å—Ç–æ–π —Å–µ—Å—Å–∏–∏\n- –ù–µ—Ç —É—Ç–µ—á–µ–∫ —Ä–µ—Å—É—Ä—Å–æ–≤ –ø—Ä–∏ –æ—á–∏—Å—Ç–∫–µ —Å–µ—Å—Å–∏–∏\n- Unit —Ç–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å","status":"closed","priority":2,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-04T09:18:33.833915+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-04T10:35:08.496287+03:00","closed_at":"2026-02-04T10:35:08.496287+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ /new –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Å–µ—Å—Å–∏–∏\n\n## –í—ã–ø–æ–ª–Ω–µ–Ω–æ:\n- –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã /new –≤ Telegram connector (connector.go)\n- –ö–æ–º–∞–Ω–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø–µ—Ä–µ–¥ whitelist –∏ –Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –∏—Å—Ç–æ—Ä–∏—é —Å–µ—Å—Å–∏–∏\n- –î–æ–±–∞–≤–ª–µ–Ω metadata 'command': 'new_session' –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–æ–º–∞–Ω–¥—ã\n- –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã –≤ serve.go —Å –≤—ã–∑–æ–≤–æ–º ClearSession()\n- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ '‚úÖ Session cleared. Starting a fresh conversation!'\n- –î–æ–±–∞–≤–ª–µ–Ω—ã comprehensive unit —Ç–µ—Å—Ç—ã –≤ connector_test.go:\n  * TestConnector_handleUpdate_NewCommand - –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥—ã\n  * TestConnector_handleUpdate_NewCommand_Unauthorized - –ø—Ä–æ–≤–µ—Ä–∫–∞ whitelist\n  * TestConnector_handleUpdate_NewCommand_ThenRegularMessage - –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—ã—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥—ã\n\n## –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:\n- ‚úÖ –ö–æ–º–∞–Ω–¥–∞ /new –æ—á–∏—â–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –¥–∏–∞–ª–æ–≥–∞\n- ‚úÖ –ü–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ\n- ‚úÖ –ö–æ–º–∞–Ω–¥–∞ /new –Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –∏—Å—Ç–æ—Ä–∏—é —Å–µ—Å—Å–∏–∏\n- ‚úÖ –ù–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ—Å–ª–µ /new –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ —á–∏—Å—Ç–æ–π —Å–µ—Å—Å–∏–∏\n- ‚úÖ –ù–µ—Ç —É—Ç–µ—á–µ–∫ —Ä–µ—Å—É—Ä—Å–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π ClearSession)\n- ‚úÖ –í—Å–µ unit —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (PASS)\n- ‚úÖ –ü—Ä–æ–µ–∫—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è (go build ./...)\n- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–ø—É—à–µ–Ω—ã –≤ remote (git push)\n\n## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–≤ —Ç–æ–º –∂–µ –∫–æ–º–º–∏—Ç–µ):\n- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ /status –¥–ª—è –ø–æ–∫–∞–∑–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Å—Å–∏–∏\n- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ /models –¥–ª—è —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π\n- –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ GetSessionStatus –≤ Loop\n- –û–±–Ω–æ–≤–ª–µ–Ω –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä Connector –¥–ª—è –ø—Ä–∏–µ–º–∞ llm.Provider"}
{"id":"Nexbot-ten","title":"Create internal/agent directory structure","description":"Create directory structure for internal/agent/ with packages for memory, context, session, tools, and loop","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T09:00:34.592676+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T09:14:59.550376+03:00","closed_at":"2026-02-03T09:14:59.550376+03:00","close_reason":"–°–æ–∑–¥–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π internal/agent/ —Å –ø–∞–∫–µ—Ç–∞–º–∏: memory, context, session, tools, loop. –ö–∞–∂–¥—ã–π –ø–∞–∫–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –±–∞–∑–æ–≤—ã–π —Ñ–∞–π–ª —Å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ–º –ø–∞–∫–µ—Ç–∞.","labels":["context","memory","session","structure"]}
{"id":"Nexbot-tew","title":"v0.2.0 Cron scheduler implementation with robfig/cron/v3","description":"# v0.2.0 Cron scheduler implementation with robfig/cron/v3\n\n## Description\nImplement cron scheduler using robfig/cron/v3 library to enable scheduled task execution.\n\n## Implementation Details\n\n### Dependencies\n- Add github.com/robfig/cron/v3 to go.mod\n- Ensure version compatibility with Go 1.25.5+\n\n### Components\n\n#### internal/cron/scheduler.go\n```go\npackage cron\n\nimport (\n    \"context\"\n    \"github.com/robfig/cron/v3\"\n)\n\ntype Scheduler struct {\n    cron *cron.Cron\n}\n\ntype Job struct {\n    ID       string\n    Schedule string // cron expression\n    Command  string // message to send to agent\n}\n\nfunc NewScheduler() *Scheduler {\n    return \u0026Scheduler{\n        cron: cron.New(cron.WithSeconds()),\n    }\n}\n\nfunc (s *Scheduler) Start(ctx context.Context) error {\n    s.cron.Start()\n    \u003c-ctx.Done()\n    s.cron.Stop()\n    return nil\n}\n\nfunc (s *Scheduler) AddJob(job Job) (cron.EntryID, error) {\n    return s.cron.AddFunc(job.Schedule, func() {\n        // Execute job (send to message bus)\n    })\n}\n\nfunc (s *Scheduler) RemoveJob(id cron.EntryID) {\n    s.cron.Remove(id)\n}\n\nfunc (s *Scheduler) ListJobs() []Job {\n    entries := s.cron.Entries()\n    // Convert to Job struct\n}\n```\n\n### Configuration\nAdd to config schema:\n```\n[cron]\nenabled = true\ntimezone = \"UTC\"\n# Jobs stored in separate storage (JSON/SQLite later)\n```\n\n## Acceptance Criteria\n- [ ] robfig/cron/v3 added to dependencies\n- [ ] Scheduler struct implemented in internal/cron/\n- [ ] AddJob/RemoveJob/ListJobs methods working\n- [ ] Scheduler integrates with context for graceful shutdown\n- [ ] Unit tests for scheduler (scheduling, job execution)\n- [ ] Integration with message bus (jobs send messages to inbound queue)\n\n## Success Metrics\n- Jobs execute according to cron expressions\n- Graceful shutdown completes all pending jobs\n- Zero panic on job execution errors\n\n## References\n- robfig/cron/v3: https://github.com/robfig/cron\n- Cron expressions: CRON_TZ=America/New_York 0 30 * * * *\n\n## Notes\n- Jobs should send messages to message bus inbound queue\n- Each job should be wrapped with error handling and logging\n- Consider job ID generation for tracking\n","status":"closed","priority":0,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-04T21:03:21.167988+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-04T23:57:34.099401+03:00","closed_at":"2026-02-04T23:57:34.099401+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω cron scheduler —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º robfig/cron/v3\n\n## –í—ã–ø–æ–ª–Ω–µ–Ω–æ:\n\n**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è scheduler (internal/cron/scheduler.go):**\n- Scheduler struct —Å cron.WithSeconds() –¥–ª—è —Å–µ–∫—É–Ω–¥–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏\n- Job struct —Å ID, Schedule, Command, UserID, Metadata\n- AddJob() - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ job —Å –∞–≤—Ç–æ-–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π ID –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω\n- RemoveJob() - —É–¥–∞–ª–µ–Ω–∏–µ job –ø–æ ID\n- ListJobs() - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö jobs\n- GetJob() - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ job –ø–æ ID\n- Start() - –∑–∞–ø—É—Å–∫ scheduler —Å context –¥–ª—è graceful shutdown\n- Stop() - graceful –æ—Å—Ç–∞–Ω–æ–≤–∫–∞\n- executeJob() - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ job —Å –æ—Ç–ø—Ä–∞–≤–∫–æ–π –≤ message bus inbound queue\n- Panic recovery –¥–ª—è job execution\n- Error handling —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º\n\n**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å message bus:**\n- Jobs –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç InboundMessage –≤ message bus –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏\n- ChannelTypeCron = 'cron' –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ cron-—Å–æ–æ–±—â–µ–Ω–∏–π\n- Session ID —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ 'cron_{job_id}'\n- Metadata –≤–∫–ª—é—á–∞–µ—Ç cron_job_id, cron_schedule –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ metadata –∏–∑ job\n\n**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**\n- –û–±–Ω–æ–≤–ª–µ–Ω CronConfig —Å –ø–æ–ª–µ–º Timezone\n- –î–æ–±–∞–≤–ª–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 'UTC' –¥–ª—è timezone\n- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: [cron] enabled = true, timezone = 'UTC'\n\n**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (internal/cron/scheduler_test.go):**\n- 11 unit —Ç–µ—Å—Ç–æ–≤, –≤—Å–µ –ø—Ä–æ—Ö–æ–¥—è—â–∏–µ (PASS)\n- –¢–µ—Å—Ç—ã –¥–ª—è –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ (Start/Stop/IsStarted)\n- –¢–µ—Å—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è jobs (AddJob/RemoveJob/ListJobs/GetJob)\n- –¢–µ—Å—Ç—ã –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ cron expressions\n- –¢–µ—Å—Ç—ã –¥–ª—è execution —Å message bus integration\n- –¢–µ—Å—Ç—ã –¥–ª—è metadata handling\n- –¢–µ—Å—Ç—ã –¥–ª—è graceful shutdown\n- Lint clean –¥–ª—è internal/cron –ø–∞–∫–µ—Ç–∞\n\n**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**\n- –î–æ–±–∞–≤–ª–µ–Ω github.com/robfig/cron/v3 v3.0.1 –≤ go.mod\n\n## –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:\n‚úÖ robfig/cron/v3 added to dependencies\n‚úÖ Scheduler struct implemented in internal/cron/\n‚úÖ AddJob/RemoveJob/ListJobs methods working\n‚úÖ Scheduler integrates with context for graceful shutdown\n‚úÖ Unit tests for scheduler (scheduling, job execution)\n‚úÖ Integration with message bus (jobs send messages to inbound queue)\n‚úÖ Configuration updated with [cron] section (enabled, timezone)\n‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (PASS)\n‚úÖ Lint clean –¥–ª—è cron –ø–∞–∫–µ—Ç–∞\n‚úÖ –ü—Ä–æ–µ–∫—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è (go build ./...)\n‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–ø—É—à–µ–Ω—ã –≤ remote (git push)\n\n## Success Metrics:\n‚úÖ Jobs execute according to cron expressions\n‚úÖ Graceful shutdown completes all pending jobs\n‚úÖ Zero panic on job execution errors (panic recovery implemented)","labels":["feature"]}
{"id":"Nexbot-tuv","title":"Implement Mock Provider for graceful degradation","description":"Implement Mock Provider for graceful degradation: echo-response, fixed response, or fixtures","status":"closed","priority":3,"issue_type":"feature","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T09:38:20.323137+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T10:46:30.925905+03:00","closed_at":"2026-02-03T10:46:30.925905+03:00","close_reason":"Closed","labels":["agent","graceful","mock","provider"]}
{"id":"Nexbot-ubh","title":"Implement Workspace Manager (internal/workspace/workspace.go)","description":"Create workspace manager with path management and directory creation functionality.\n\n**Requirements:**\n- Create Workspace struct with configuration integration\n- Implement New() constructor that accepts config.WorkspaceConfig\n- Implement EnsureDir() method to create workspace directory if not exists\n- Implement Path() method to get workspace path (with ~ expansion)\n- Implement ResolvePath() to resolve relative paths within workspace\n- Add proper error handling for invalid paths and permission issues\n- Support for standard workspace subdirectories (memory/, skills/)\n\n**Acceptance Criteria:**\n- Workspace can be initialized from config\n- Directory is created automatically if missing\n- Paths are properly resolved (including ~ expansion)\n- Error handling for invalid/permission-denied paths\n- Unit tests cover all main scenarios\n\n**Files to create:**\n- internal/workspace/workspace.go\n- internal/workspace/workspace_test.go","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","estimated_minutes":90,"created_at":"2026-02-03T01:47:17.42869+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T01:52:39.569606+03:00","closed_at":"2026-02-03T01:52:39.569606+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω Workspace Manager –≤ internal/workspace/workspace.go\n\n–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:\n- Workspace struct —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏\n- New() –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π config.WorkspaceConfig\n- EnsureDir() –º–µ—Ç–æ–¥ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è workspace –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏\n- Path() –∏ BasePath() –º–µ—Ç–æ–¥—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—É—Ç–µ–π (—Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º ~)\n- ResolvePath() –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—É—Ç–µ–π –≤–Ω—É—Ç—Ä–∏ workspace\n- Subpath() –∏ EnsureSubpath() –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º–∏ (memory/, skills/)\n- expandHome() —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ç–∏–ª—å–¥—ã –≤ –ø—É—Ç—è—Ö\n- –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –¥–ª—è –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –ø—É—Ç–µ–π –∏ –ø—Ä–æ–±–ª–µ–º —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞\n- –ó–∞—â–∏—Ç–∞ –æ—Ç directory traversal (path escaping) –≤ ResolvePath()\n\n–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:\n- –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª workspace_test.go —Å 10 —Ç–µ—Å—Ç–∞–º–∏\n- –í—Å–µ —Ç–µ—Å—Ç—ã —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ö–æ–¥—è—Ç (PASS)\n- –ü–æ–∫—Ä—ã—Ç—ã –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏ —Å–ª—É—á–∞–∏ –æ—à–∏–±–æ–∫\n- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã —Å workspace\n\n–ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è (go build ./...)."}
{"id":"Nexbot-v7o","title":"–≠—Ç–∞–ø 7.3: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ cmd/nexbot/config.go","description":"–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ cmd/nexbot/config.go\n\n**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**\n- –£–ø—Ä–æ—Å—Ç–∏—Ç—å config.go, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ messages.FormatError\n\n**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**\n1. –ó–∞–º–µ–Ω–∏—Ç—å —Ö–∞—Ä–¥–∫–æ–¥ –ø—É—Ç–µ–π:\n   –ë—ã–ª–æ: configPath := \"config.toml\"\n   –°—Ç–∞–ª–æ: configPath := constants.DefaultConfigPath\n\n2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ messages:\n   –ë—ã–ª–æ: fmt.Printf(\"Validating configuration: %s\\n\", configPath)\n   –°—Ç–∞–ª–æ: fmt.Printf(constants.MsgConfigValidatePrefix, configPath)\n\n   –ë—ã–ª–æ: fmt.Printf(\"‚ùå Configuration validation failed with %d error(s):\\n\", len(errors))\n   –°—Ç–∞–ª–æ: fmt.Println(messages.ConfigValidationError(errors))\n\n**–ò–º–ø–æ—Ä—Ç—ã:**\n- –î–æ–±–∞–≤–∏—Ç—å: \"github.com/aatumaykin/nexbot/internal/constants\"\n- –î–æ–±–∞–≤–∏—Ç—å: \"github.com/aatumaykin/nexbot/internal/messages\"\n\n**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**\n- config.go –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å ~40 —Å—Ç—Ä–æ–∫\n- –í—Å–µ —Ö–∞—Ä–¥–∫–æ–¥—ã –∑–∞–º–µ–Ω–µ–Ω—ã\n","notes":"–ù–∞—á–∏–Ω–∞—é —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ config.go","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T01:59:03.395282+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T14:43:57.685121+03:00","closed_at":"2026-02-05T14:43:57.685121+03:00","close_reason":"–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ cmd/nexbot/config.go –≤—ã–ø–æ–ª–Ω–µ–Ω:\n1. –ó–∞–º–µ–Ω—ë–Ω —Ö–∞—Ä–¥–∫–æ–¥ 'config.toml' –Ω–∞ constants.DefaultConfigPath\n2. –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç internal/constants\n3. –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç internal/messages\n4. fmt.Printf('Validating configuration: %s\\n') –∑–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ constants.MsgConfigValidating\n5. fmt.Printf('‚ùå Error loading configuration: %v\\n') –∑–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ messages.FormatConfigLoadError(err)\n6. –¶–∏–∫–ª –≤—ã–≤–æ–¥–∞ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∑–∞–º–µ–Ω—ë–Ω –Ω–∞ messages.FormatValidationErrors(errors)\n7. fmt.Println('‚úÖ Configuration is valid') –∑–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ constants.MsgConfigValid\n8. –î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ MsgConfigValidating –≤ internal/constants/messages.go\n9. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ MsgConfigValid –Ω–∞ '‚úÖ Configuration is valid'\n\n–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:\n- make build —É—Å–ø–µ—à–µ–Ω\n- make test —É—Å–ø–µ—à–µ–Ω\n- –ö–æ–º–∞–Ω–¥–∞ './bin/nexbot config validate' —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ\n\n–§–∞–π–ª —É–º–µ–Ω—å—à–µ–Ω —Å 56 –¥–æ 55 —Å—Ç—Ä–æ–∫, –≤—Å–µ —Ö–∞—Ä–¥–∫–æ–¥—ã –∑–∞–º–µ–Ω–µ–Ω—ã.","labels":["cmd","refactor"]}
{"id":"Nexbot-vkz","title":"–≠—Ç–∞–ø 4.1: –°–æ–∑–¥–∞—Ç—å internal/commands/handler.go","description":"–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª internal/commands/handler.go\n\n**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**\n- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Handler –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ Telegram –∫–æ–º–∞–Ω–¥\n\n**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**\ntype Handler struct {\n    agentLoop  *loop.Loop\n    messageBus *bus.MessageBus\n    logger     *logger.Logger\n    onRestart  func() error  // callback –¥–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞\n}\n\n**–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä:**\nfunc NewHandler(\n    agentLoop *loop.Loop, \n    messageBus *bus.MessageBus, \n    log *logger.Logger, \n    onRestart func() error,\n) *Handler\n\n**–ú–µ—Ç–æ–¥ HandleCommand:**\nfunc (h *Handler) HandleCommand(ctx context.Context, cmd string, msg bus.InboundMessage) error\n- Switch –ø–æ —Ç–∏–ø—É –∫–æ–º–∞–Ω–¥—ã\n- –í—ã–∑—ã–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π handler\n\n**–ú–µ—Ç–æ–¥ handleNewSession:**\n- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å: \"Clearing session\"\n- –í—ã–∑–≤–∞—Ç—å agentLoop.ClearSession(ctx, msg.SessionID)\n- –ü—Ä–∏ –æ—à–∏–±–∫–µ - –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å\n- –ü—Ä–∏ —É—Å–ø–µ—Ö–µ - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å confirmationMsg —á–µ—Ä–µ–∑ messageBus.PublishOutbound\n- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å constants.MsgSessionCleared\n\n**–ú–µ—Ç–æ–¥ handleStatus:**\n- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å: \"Getting status for session\"\n- –í—ã–∑–≤–∞—Ç—å agentLoop.GetSessionStatus(ctx, msg.SessionID)\n- –ü—Ä–∏ –æ—à–∏–±–∫–µ - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å errorMsg —á–µ—Ä–µ–∑ messageBus.PublishOutbound\n  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å constants.MsgStatusError\n- –ü—Ä–∏ —É—Å–ø–µ—Ö–µ - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ messages.FormatStatusMessage\n- –û—Ç–ø—Ä–∞–≤–∏—Ç—å statusMsg —á–µ—Ä–µ–∑ messageBus.PublishOutbound\n\n**–ú–µ—Ç–æ–¥ handleRestart:**\n- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å: \"Restart command received\"\n- –û—Ç–ø—Ä–∞–≤–∏—Ç—å notificationMsg —á–µ—Ä–µ–∑ messageBus.PublishOutbound\n  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å constants.MsgRestarting\n- –í—ã–∑–≤–∞—Ç—å callback: h.onRestart()\n- –í–æ–∑–≤—Ä–∞—Ç–∏—Ç—å –æ—à–∏–±–∫—É –æ—Ç callback (–µ—Å–ª–∏ –µ—Å—Ç—å)\n\n**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**\n- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏–∑ internal/constants/commands.go\n- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ internal/messages/\n- –î–æ–±–∞–≤–∏—Ç—å godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏\n- –í—Å–µ –º–µ—Ç–æ–¥—ã —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã\n","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T01:58:58.83713+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T14:00:57.007016+03:00","closed_at":"2026-02-05T14:00:57.007016+03:00","close_reason":"–°–æ–∑–¥–∞–Ω internal/commands/handler.go —Å –ø–æ–ª–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π Handler –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ Telegram –∫–æ–º–∞–Ω–¥.\n\n–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:\n- Handler struct —Å –ø–æ–ª—è–º–∏: agentLoop, messageBus, logger, onRestart\n- NewHandler –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏\n- HandleCommand –º–µ—Ç–æ–¥ —Å router –ø–æ —Ç–∏–ø—É –∫–æ–º–∞–Ω–¥—ã (new_session, status, restart)\n- handleNewSession: –æ—á–∏—Å—Ç–∫–∞ —Å–µ—Å—Å–∏–∏ + –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è (MsgSessionCleared)\n- handleStatus: –ø–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ + —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ FormatStatusMessage\n- handleRestart: —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (MsgRestarting) + –≤—ã–∑–æ–≤ onRestart callback\n- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ MsgRestarting –≤ internal/constants/messages.go\n\n–ü—Ä–æ–≤–µ—Ä–∫–∞:\n- –ö–æ–º–ø–∏–ª—è—Ü–∏—è —É—Å–ø–µ—à–Ω–∞ (go build ./internal/commands/...)\n- –í—Å–µ CI –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã (make ci)\n- –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ remote (commit 60fe816)\n\n–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:\n- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏–∑ internal/constants/commands.go\n- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ internal/messages/\n- –í—Å–µ –º–µ—Ç–æ–¥—ã —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã\n- –î–æ–±–∞–≤–ª–µ–Ω—ã godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏","labels":["commands","refactor"]}
{"id":"Nexbot-vus","title":"v0.2.0-10: –û–±–Ω–æ–≤–∏—Ç—å README.md","description":"README.md –ø—Ä–æ–≤–µ—Ä–µ–Ω –∏ –æ–±–Ω–æ–≤–ª—ë–Ω.\n\n**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**\n‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ v0.2.0 –∞–∫—Ç—É–∞–ª—å–Ω–∞\n‚úÖ –°–µ–∫—Ü–∏—è '–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏' —Å–æ–¥–µ—Ä–∂–∏—Ç:\n  - ‚è∞ Cron scheduling\n  - üß¨ Subagent spawning\n  - üîÑ Background tasks\n  - üíì HEARTBEAT\n‚úÖ –°–µ–∫—Ü–∏—è 'Subagents' —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º\n‚úÖ –°–µ–∫—Ü–∏—è 'HEARTBEAT' —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏\n‚úÖ –°–µ–∫—Ü–∏—è 'Cron –∫–æ–º–∞–Ω–¥—ã' —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏\n‚úÖ –í—Å–µ –ø—Ä–∏–º–µ—Ä—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã (cron –≤—ã—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã)\n\n**–û–±–Ω–æ–≤–ª–µ–Ω–∏—è:**\n- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Å—ã–ª–∫–∞ –Ω–∞ CHANGELOG.md –≤ —Å–µ–∫—Ü–∏—é '–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è'\n\n–§–∞–π–ª –æ–±–Ω–æ–≤–ª—ë–Ω —Å 168 –¥–æ 169 —Å—Ç—Ä–æ–∫.","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:58:57.095701+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T19:22:56.302103+03:00","closed_at":"2026-02-05T19:22:56.302109+03:00","dependencies":[{"issue_id":"Nexbot-vus","depends_on_id":"Nexbot-n4i","type":"blocks","created_at":"2026-02-05T12:59:49.250375+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-w80","title":"CLI: Add nexbot chat test command","description":"–î–æ–±–∞–≤–∏—Ç—å CLI –∫–æ–º–∞–Ω–¥—É –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –≤ cmd/nexbot/test.go.\n\n–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:\n- –°–æ–∑–¥–∞—Ç—å testCmd –ø–æ–¥–∫–æ–º–∞–Ω–¥—É nexbot test llm\n- –§–ª–∞–≥ --model –¥–ª—è –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–æ–¥–µ–ª–∏\n- –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥–∞ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è logger\n- –°–æ–∑–¥–∞–Ω–∏–µ ZAIProvider –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞\n- –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ (Hello, world!)\n- –í—ã–≤–æ–¥ –æ—Ç–≤–µ—Ç–∞, latency, token usage\n- Friendly error messages\n\n–ü—Ä–∏—ë–º–∫–∞: –∫–æ–º–∞–Ω–¥–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞, —Ñ–ª–∞–≥ --model —Ä–∞–±–æ—Ç–∞–µ—Ç, –∑–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ, –æ—Ç–≤–µ—Ç –≤—ã–≤–æ–¥–∏—Ç—Å—è –∫—Ä–∞—Å–∏–≤–æ, –æ—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T01:35:14.51522+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T01:43:23.930969+03:00","closed_at":"2026-02-03T01:43:23.930969+03:00","close_reason":"–î–æ–±–∞–≤–ª–µ–Ω–∞ CLI –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞:\n- testCmd —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤\n- testLLMCmd –ø–æ–¥–∫–æ–º–∞–Ω–¥–∞ (nexbot test llm) –¥–ª—è Z.ai\n- –§–ª–∞–≥ --model –¥–ª—è –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–æ–¥–µ–ª–∏\n- –§–ª–∞–≥ --config –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥–∞\n\n–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:\n- –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥–∞ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è logger\n- –°–æ–∑–¥–∞–Ω–∏–µ ZAIProvider –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞\n- –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ (Hello, world!)\n- –í—ã–≤–æ–¥ –æ—Ç–≤–µ—Ç–∞, latency, token usage\n- Friendly error messages —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏ –ø–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é –ø—Ä–æ–±–ª–µ–º\n\n–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: –∫–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è (go build ./...).","labels":["cli","day3","llm"]}
{"id":"Nexbot-whs","title":"Update config integration for workspace path expansion","description":"Ensure workspace path from config is properly expanded and resolved.\n\n**Requirements:**\n- Verify WorkspaceConfig.Path supports ~ expansion\n- Verify WorkspaceConfig.Path supports environment variables\n- Test path resolution from config file\n- Handle edge cases: empty path, relative path, invalid path\n- Integration test: config ‚Üí workspace manager\n\n**Acceptance Criteria:**\n- Paths with ~ are correctly expanded\n- Paths with env vars are resolved\n- Invalid paths are caught early with clear errors\n- Tests verify config-to-workspace flow\n\n**Files to modify:**\n- internal/config/config.go (add path expansion if needed)\n- internal/workspace/workspace.go (ensure proper path handling)\n\n**Tests to add:**\n- Add to config_test.go\n- Add to workspace_test.go\n\n**Related tasks:** Integrates with workspace manager implementation","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","estimated_minutes":60,"created_at":"2026-02-03T01:47:26.993973+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T02:10:09.737465+03:00","closed_at":"2026-02-03T02:10:09.737465+03:00","close_reason":"–û–±–Ω–æ–≤–ª–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è config ‚Üí workspace –¥–ª—è path expansion\n\n–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ internal/config/config.go:\n- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è Workspace.Path\n- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è Tools.Shell.WorkingDir\n- –ü–æ—Ä—è–¥–æ–∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è: —Å–Ω–∞—á–∞–ª–∞ env vars, –∑–∞—Ç–µ–º ~ expansion\n\n–ù–æ–≤—ã–µ —Ç–µ—Å—Ç—ã –≤ internal/config/config_test.go:\n- TestWorkspacePathExpansion: –ø—Ä–æ–≤–µ—Ä–∫–∞ ~ expansion –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø—É—Ç–µ–π\n- TestWorkspacePathEnvExpansion: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ –ø—É—Ç—è—Ö\n- TestWorkspacePathEdgeCases: –ø—Ä–æ–≤–µ—Ä–∫–∞ edge cases (empty, env var + ~, just ~)\n- TestConfigToWorkspaceIntegration: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç config ‚Üí workspace\n- TestConfigToWorkspaceIntegrationWithTilde: –ø—Ä–æ–≤–µ—Ä–∫–∞ ~ expansion –∏–∑ config —Ñ–∞–π–ª–∞\n- TestConfigToWorkspaceIntegrationWithEnvVar: –ø—Ä–æ–≤–µ—Ä–∫–∞ env var expansion –∏–∑ config —Ñ–∞–π–ª–∞\n\n–ù–æ–≤—ã–µ —Ç–µ—Å—Ç—ã –≤ internal/workspace/workspace_test.go:\n- TestConfigToWorkspaceIntegration: –ø–æ–ª–Ω—ã–π flow –æ—Ç config –¥–æ workspace\n- TestConfigToWorkspaceWithTilde: –ø—Ä–æ–≤–µ—Ä–∫–∞ ~ expansion –≤ workspace\n- TestConfigToWorkspaceWithAbsolutePath: –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–±—Å–æ–ª—é—Ç–Ω—ã—Ö –ø—É—Ç–µ–π\n- TestConfigToWorkspaceWithRelativePath: –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—É—Ç–µ–π\n\n–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏:\n- ‚úì Paths with ~ are correctly expanded\n- ‚úì Paths with env vars are resolved\n- ‚úì Invalid paths are caught early with clear errors (–ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –≤ Validate())\n- ‚úì Tests verify config-to-workspace flow\n\n–í—Å–µ —Ç–µ—Å—Ç—ã —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ö–æ–¥—è—Ç (PASS):\n- 11 —Ç–µ—Å—Ç–æ–≤ –≤ config_test.go\n- 37 —Ç–µ—Å—Ç–æ–≤ –≤ workspace_test.go\n\n–ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è (go build ./...).","dependencies":[{"issue_id":"Nexbot-whs","depends_on_id":"Nexbot-ubh","type":"blocks","created_at":"2026-02-03T01:47:59.432223+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-wxb","title":"0.2.5.9.2: Update CONFIGURATION.md","description":"## –ó–∞–¥–∞—á–∞ 0.2.5.9.2: Update CONFIGURATION.md\n\n**–§–∞–∑–∞:** Documentation\n\n**–¶–µ–ª—å:** –î–æ–±–∞–≤–∏—Ç—å Heartbeat –∏ Cron –≤ docs/CONFIGURATION.md\n\n**–§–∞–π–ª:** docs/CONFIGURATION.md\n\n**–î–æ–±–∞–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ã:**\n\n### Heartbeat Configuration\n\n| –ü–∞—Ä–∞–º–µ—Ç—Ä               | –¢–∏–ø  | Default | –û–ø–∏—Å–∞–Ω–∏–µ                    |\n| ---------------------- | ---- | ------- | --------------------------- |\n| enabled                | bool | true    | –í–∫–ª—é—á–∏—Ç—å heartbeat –ø—Ä–æ–≤–µ—Ä–∫–∏ |\n| check_interval_minutes | int  | 10      | –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ –º–∏–Ω—É—Ç–∞—Ö |\n\n### Cron Configuration\n\n| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø    | Default | –û–ø–∏—Å–∞–Ω–∏–µ                |\n| --------- | ------ | ------- | ----------------------- |\n| enabled  | bool   | true    | –í–∫–ª—é—á–∏—Ç—å cron scheduler |\n| timezone | string | UTC     | –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å            |\n\n**","acceptance_criteria":"**\n- docs/CONFIGURATION.md –æ–±–Ω–æ–≤–ª–µ–Ω\n- –¢–∞–±–ª–∏—Ü—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã\n- –§–æ—Ä–º–∞—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ—Å—Ç–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏\n- make fmt –ø—Ä–æ—Ö–æ–¥–∏—Ç\n\n**","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:07:41.23829+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T20:05:18.12256+03:00","closed_at":"2026-02-05T20:05:18.12256+03:00","close_reason":"–î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–∞–±–ª–∏—Ü—ã Heartbeat –∏ Cron –≤ docs/CONFIGURATION.md. –û–±–µ —Ç–∞–±–ª–∏—Ü—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –∫–∞–∫ –∫—Ä–∞—Ç–∫–∏–µ —Å–ø—Ä–∞–≤–∫–∏ –ø–æ—Å–ª–µ –ø–æ–ª–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π. –§–æ—Ä–º–∞—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ—Å—Ç–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏. make fmt –ø—Ä–æ—à–µ–ª —É—Å–ø–µ—à–Ω–æ.","labels":["docs","phase9"],"dependencies":[{"issue_id":"Nexbot-wxb","depends_on_id":"Nexbot-gs7","type":"blocks","created_at":"2026-02-05T09:11:16Z","created_by":"AI Agent","metadata":"{}"}]}
{"id":"Nexbot-x7k","title":"v0.2.0-15: Final QA Checklist","description":"–í—ã–ø–æ–ª–Ω–∏—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –∫–∞—á–µ—Å—Ç–≤–∞ –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º.\n\n## Checklist\n### Code Quality\n- [ ] make test –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫\n- [ ] make lint –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫\n- [ ] make fmt –≤—ã–ø–æ–ª–Ω–µ–Ω\n- [ ] make ci –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ\n- [ ] Race condition checks –ø—Ä–æ–π–¥–µ–Ω—ã (go test -race)\n\n### Functional Testing\n- [ ] Cron add/list/remove –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç\n- [ ] Recurring –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é\n- [ ] Oneshot –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑\n- [ ] Spawn tool —Å–æ–∑–¥–∞–µ—Ç subagents –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ\n- [ ] Subagent —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫—É—é —Å–µ—Å—Å–∏—é\n- [ ] HEARTBEAT.md –∑–∞–¥–∞—á–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è\n- [ ] Worker pool –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ\n\n### Documentation\n- [ ] README.md –æ–±–Ω–æ–≤–ª–µ–Ω\n- [ ] QUICKSTART.md –æ–±–Ω–æ–≤–ª–µ–Ω\n- [ ] CONFIG.md –æ–±–Ω–æ–≤–ª–µ–Ω\n- [ ] CHANGELOG.md —Å–æ–∑–¥–∞–Ω\n- [ ] PROJECT_PLAN.md –æ–±–Ω–æ–≤–ª–µ–Ω\n- [ ] Architecture docs –æ–±–Ω–æ–≤–ª–µ–Ω—ã\n\n### Configuration\n- [ ] config.example.toml —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ —Å–µ–∫—Ü–∏–∏\n- [ ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–∞–ª–∏–¥–Ω–∞\n- [ ] –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã\n\n### Build \u0026 Deploy\n- [ ] –í—Å–µ –±–∏–Ω–∞—Ä–Ω–∏–∫–∏ —Å–æ–±—Ä–∞–Ω—ã\n- [ ] Checksums —Å–æ–∑–¥–∞–Ω—ã\n- [ ] –ë–∏–Ω–∞—Ä–Ω–∏–∫–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫\n\n## –ö—Ä–∏—Ç–µ—Ä–∏–∏\n- –í—Å–µ checklist items –≤—ã–ø–æ–ª–Ω–µ–Ω—ã\n- –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –±–∞–≥–æ–≤\n- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–∞\n- Git commit —Å–æ–∑–¥–∞–Ω (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:59:37.700007+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T19:59:08.920288+03:00","closed_at":"2026-02-05T19:59:08.920328+03:00","dependencies":[{"issue_id":"Nexbot-x7k","depends_on_id":"Nexbot-y78","type":"blocks","created_at":"2026-02-05T12:59:49.6485+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-xrz","title":"v0.2.0-7: Worker pool not connected to cron scheduler","description":"# Worker pool not connected to cron scheduler\n\n## –ü—Ä–æ–±–ª–µ–º–∞\nWorker pool —Å–æ–∑–¥–∞–Ω –≤ `cmd/nexbot/serve.go:252-258`, –Ω–æ **–ù–ï –ø–æ–¥–∫–ª—é—á–µ–Ω** –∫ cron scheduler. Cron –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —á–µ—Ä–µ–∑ message bus, –≤–º–µ—Å—Ç–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ worker pool.\n\n## –¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞\n```\nHEARTBEAT.md ‚Üí Loader ‚Üí Cron Scheduler ‚Üí Message Bus ‚Üí Agent Loop\n                    ‚Üì\n              Worker Pool (—Å–æ–∑–¥–∞–Ω, –Ω–æ –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è!)\n```\n\n## –ß—Ç–æ –Ω–µ —Ç–∞–∫\n- Cron scheduler –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞–ø—Ä—è–º—É—é –≤ message bus (line 208 scheduler.go)\n- Worker pool —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–¥–∞—á–∏ –æ—Ç cron scheduler\n- Worker pool.Start() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –Ω–æ Submit() –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–ª—è cron –∑–∞–¥–∞—á\n\n## –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å\n\n### 1. –ò–∑–º–µ–Ω–∏—Ç—å cron scheduler –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è worker pool\n–í `internal/cron/scheduler.go`:\n- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `workerPool *workers.WorkerPool` –≤ Scheduler struct\n- –û–±–Ω–æ–≤–∏—Ç—å `NewScheduler()`: –¥–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä workerPool\n- –í `executeJob()`: –≤–º–µ—Å—Ç–æ `bus.PublishInbound()` —Å–æ–∑–¥–∞–≤–∞—Ç—å Task –∏ –≤—ã–∑—ã–≤–∞—Ç—å `workerPool.Submit()`\n\n### 2. –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –≤ serve.go\n–í `cmd/nexbot/serve.go`:\n- –ü–µ—Ä–µ–¥–∞—Ç—å workerPool –≤ cronScheduler.NewScheduler() (line 137)\n- –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ workerPool —Å–æ–∑–¥–∞–Ω –î–û cron scheduler\n\n## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏\n- –ë–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è: Nexbot-inw (v0.2.0-3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è worker pool –≤ serve.go) - **—É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞**\n\n## –°—Å—ã–ª–∫–∏\n- Scheduler: `internal/cron/scheduler.go:181-217` (executeJob)\n- Worker pool: `internal/workers/pool.go` (Submit, Task, Result)\n- Integration: `cmd/nexbot/serve.go:252-258` (worker pool creation), `:133-143` (cron scheduler creation)\n\n## Acceptance Criteria\n- [ ] Cron scheduler –ø—Ä–∏–Ω–∏–º–∞–µ—Ç workerPool –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ\n- [ ] executeJob() —Å–æ–∑–¥–∞–µ—Ç Task —Ç–∏–ø–∞ \"cron\" –∏ –≤—ã–∑—ã–≤–∞–µ—Ç workerPool.Submit()\n- [ ] Worker pool –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç cron –∑–∞–¥–∞—á–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ\n- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ\n- [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (make test)\n- [ ] –ù–µ—Ç race conditions (go test -race)\n\n## Success Metrics\n- Cron –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —á–µ—Ä–µ–∑ worker pool\n- Worker pool metrics –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç cron –∑–∞–¥–∞—á–∏\n- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ —É—Ö—É–¥—à–∏–ª–∞—Å—å","status":"closed","priority":2,"issue_type":"bug","owner":"AATumaykin@tsum.ru","estimated_minutes":60,"created_at":"2026-02-05T08:51:45.004156+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T09:03:00.277663+03:00","closed_at":"2026-02-05T09:03:00.277663+03:00","close_reason":"Worker pool –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ cron scheduler. –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ internal/cron/scheduler.go, internal/workers/pool.go, cmd/nexbot/serve.go. –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç, –Ω–µ—Ç race conditions.","labels":["cron","integration","workers"],"dependencies":[{"issue_id":"Nexbot-xrz","depends_on_id":"Nexbot-inw","type":"blocks","created_at":"2026-02-05T08:52:54.619899+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-y1t","title":"v0.2.0 Tests: Cron scheduling","description":"# v0.2.0 Tests: Cron scheduling\n\n## Description\nWrite comprehensive tests for cron scheduler and CLI commands.\n\n## Test Coverage\n\n### internal/cron/scheduler_test.go\n- TestNewScheduler() - constructor\n- TestSchedulerAddJob() - job addition\n- TestSchedulerRemoveJob() - job removal\n- TestSchedulerListJobs() - job listing\n- TestSchedulerStartStop() - graceful shutdown\n- TestCronExpressionValidation() - valid/invalid expressions\n\n### cmd/nexbot/cron_test.go (integration)\n- TestCronAddCommand() - CLI add command\n- TestCronListCommand() - CLI list command\n- TestCronRemoveCommand() - CLI remove command\n- TestCronJobPersistence() - jobs persist across restarts\n- TestCronExecution() - job executes on schedule (with mock)\n\n### Test Scenarios\n1. Valid cron expressions:\n   - \"* * * * *\" - every minute\n   - \"0 */6 * * *\" - every 6 hours\n   - \"0 9 * * 1-5\" - weekdays at 9 AM\n   - \"CRON_TZ=America/New_York 0 9 * * *\" - timezone support\n\n2. Invalid cron expressions:\n   - \"\" - empty\n   - \"invalid\" - malformed\n   - \"61 * * * *\" - invalid minute\n\n3. Edge cases:\n   - Duplicate job IDs\n   - Remove non-existent job\n   - List with no jobs\n   - Concurrent add/remove operations\n\n## Acceptance Criteria\n- [ ] Unit tests for scheduler (100% coverage)\n- [ ] Integration tests for CLI commands\n- [ ] Mock scheduler for CLI tests\n- [ ] Test concurrency (race detection)\n- [ ] Test persistence (JSON storage)\n- [ ] All tests pass with go test -race\n\n## Success Metrics\n- 80%+ code coverage for cron module\n- All tests pass consistently\n- No race conditions detected\n\n## Notes\n- Use testify for assertions\n- Use httptest for HTTP mocking\n- Consider table-driven tests for multiple cases\n","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-04T21:04:46.034728+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T01:13:16.648994+03:00","closed_at":"2026-02-05T01:13:16.648994+03:00","close_reason":"–¢–µ—Å—Ç—ã –¥–ª—è cron scheduling –Ω–∞–ø–∏—Å–∞–Ω—ã: 31 unit —Ç–µ—Å—Ç, 11 integration —Ç–µ—Å—Ç–æ–≤, –ø–æ–∫—Ä—ã—Ç–∏–µ 96.1%, –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —Å go test -race","labels":["test"],"dependencies":[{"issue_id":"Nexbot-y1t","depends_on_id":"Nexbot-tew","type":"blocks","created_at":"2026-02-04T21:05:25.986535+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-y1t","depends_on_id":"Nexbot-2t7","type":"blocks","created_at":"2026-02-04T21:05:26.094366+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-y78","title":"v0.2.0-14: –°–±–æ—Ä–∫–∞ –±–∏–Ω–∞—Ä–Ω–∏–∫–æ–≤ –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º","description":"–°–æ–±—Ä–∞—Ç—å –±–∏–Ω–∞—Ä–Ω–∏–∫–∏ –¥–ª—è –≤—Å–µ—Ö –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä.\n\n## –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å\n1. –í—ã–ø–æ–ª–Ω–∏—Ç—å make build-all\n2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ –±–∏–Ω–∞—Ä–Ω–∏–∫–∏ —Å–æ–±—Ä–∞–Ω—ã –±–µ–∑ –æ—à–∏–±–æ–∫\n3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä –±–∏–Ω–∞—Ä–Ω–∏–∫–æ–≤\n4. –°–æ–∑–¥–∞—Ç—å checksums (SHA256)\n5. –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ (darwin/amd64)\n\n## –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã\n- darwin/amd64\n- darwin/arm64\n- linux/amd64\n- linux/arm64\n\n## –ö—Ä–∏—Ç–µ—Ä–∏–∏\n- –í—Å–µ –±–∏–Ω–∞—Ä–Ω–∏–∫–∏ —Å–æ–±—Ä–∞–Ω—ã\n- –ù–µ—Ç –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏\n- Checksums —Å–æ–∑–¥–∞–Ω—ã\n- –ë–∏–Ω–∞—Ä–Ω–∏–∫–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫\n- Git commit —Å–æ–∑–¥–∞–Ω (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)","status":"closed","priority":1,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:59:31.537977+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T19:49:01.429376+03:00","closed_at":"2026-02-05T19:49:01.429381+03:00","close_reason":"‚úÖ –í—Å–µ –±–∏–Ω–∞—Ä–Ω–∏–∫–∏ —É—Å–ø–µ—à–Ω–æ —Å–æ–±—Ä–∞–Ω—ã –∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã:\n\n**–°–æ–±—Ä–∞–Ω–Ω—ã–µ –±–∏–Ω–∞—Ä–Ω–∏–∫–∏:**\n- nexbot-darwin-amd64 (8.6M)\n- nexbot-darwin-arm64 (8.1M) \n- nexbot-linux-amd64 (8.4M)\n- nexbot-linux-arm64 (7.9M)\n\n**Checksums SHA256:**\n- nexbot-darwin-amd64.sha256 (c8a8e3dfc71a54d504a40c3d54ef66137ca719f9bb424eda2aa0777bbccf8faa)\n- nexbot-darwin-arm64.sha256 (7f80fd97c59a1385905fd1faa2bb3645b24989ae18ed044a3900aaba5fe66cd9)\n- nexbot-linux-amd64.sha256 (4b25e27f097190506d27c1f1fe8a55f0998a739c869ded37b01cafd9ba8f82a2)\n- nexbot-linux-arm64.sha256 (ff95de46ae432260f1a24ccff547bbf913586c5d8b13b4815c8eb14e1f7aba54)\n\n**–ü—Ä–æ–≤–µ—Ä–∫–∏:**\n- ‚úÖ –ö–æ–º–ø–∏–ª—è—Ü–∏—è –±–µ–∑ –æ—à–∏–±–æ–∫\n- ‚úÖ –í—Å–µ –±–∏–Ω–∞—Ä–Ω–∏–∫–∏ —Å–æ–±—Ä–∞–Ω—ã –≤ bin/\n- ‚úÖ Checksums —Å–æ–∑–¥–∞–Ω—ã —á–µ—Ä–µ–∑ make release\n- ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫ –Ω–∞ darwin/amd64 —É—Å–ø–µ—à–µ–Ω (–≤–µ—Ä—Å–∏—è v0.2.0-57-g90d3ace-dirty)\n- ‚úÖ Git commit –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è (–±–∏–Ω–∞—Ä–Ω–∏–∫–∏ –Ω–µ –∫–æ–º–º–∏—Ç—è—Ç—Å—è)\n\n**–ö–æ–º–∞–Ω–¥—ã:**\n- make build-all - —Å–±–æ—Ä–∫–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º\n- make release - —Å–æ–∑–¥–∞–Ω–∏–µ checksums\n\n–í—Å–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã, –∑–∞–¥–∞—á–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–µ–ª–∏–∑—É v0.2.0.","dependencies":[{"issue_id":"Nexbot-y78","depends_on_id":"Nexbot-gea","type":"blocks","created_at":"2026-02-05T12:59:49.544415+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-y78","depends_on_id":"Nexbot-71z","type":"blocks","created_at":"2026-02-05T13:11:36.247099+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-y78","depends_on_id":"Nexbot-fd2","type":"blocks","created_at":"2026-02-05T13:11:36.39855+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-yk9","title":"Write unit tests for Context builder","description":"Write unit tests for Context builder including: system prompt assembly, file priority ordering, template variable substitution","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T09:00:47.966037+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T09:30:35.837614+03:00","closed_at":"2026-02-03T09:30:35.837614+03:00","close_reason":"–ù–∞–ø–∏—Å–∞–Ω—ã unit tests –¥–ª—è Context builder. –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª internal/agent/context/context_test.go —Å —Ç–µ—Å—Ç–∞–º–∏:\n- TestNewBuilder: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –±–∏–ª–¥–µ—Ä–∞\n- TestBuild: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏ system prompt —Å —Ä–∞–∑–Ω—ã–º–∏ –Ω–∞–±–æ—Ä–∞–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤\n- TestBuildWithMemory: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏ —Å –ø–∞–º—è—Ç—å—é –∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏\n- TestBuildForSession: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–µ—Å—Å–∏–∏\n- TestReadMemory: –ø—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ memory\n- TestProcessTemplates: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ —à–∞–±–ª–æ–Ω–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö\n- TestGetComponent: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞\n- TestGetWorkspace: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è workspace path\n- TestPriorityOrder: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—è–¥–∫–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤\n\n–ò—Å–ø—Ä–∞–≤–ª–µ–Ω –±–∞–≥ –≤ processTemplates - –∑–∞–º–µ–Ω–∞ Go template parser –Ω–∞ –ø—Ä–æ—Å—Ç–æ–π –ø–æ–∏—Å–∫ –∏ –∑–∞–º–µ–Ω—É –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö. –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ (PASS), –ø–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ Context builder.","labels":["context","tests","unit"]}
{"id":"Nexbot-z1p","title":"Write unit tests for Memory store","description":"Write unit tests for Memory store including: save/load messages, markdown/JSONL formats, message history management","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-03T09:00:47.369965+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T09:26:33.662189+03:00","closed_at":"2026-02-03T09:26:33.662189+03:00","close_reason":"–ù–∞–ø–∏—Å–∞–Ω—ã unit tests –¥–ª—è Memory store. –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª internal/agent/memory/memory_test.go —Å —Ç–µ—Å—Ç–∞–º–∏:\n- TestNewStore: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ (JSONL, Markdown)\n- TestWriteAndReadJSONL: –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø–∏—Å–∏/—á—Ç–µ–Ω–∏—è –≤ JSONL —Ñ–æ—Ä–º–∞—Ç–µ\n- TestWriteAndReadMarkdown: –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø–∏—Å–∏/—á—Ç–µ–Ω–∏—è –≤ Markdown —Ñ–æ—Ä–º–∞—Ç–µ\n- TestAppend: –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π\n- TestGetLastN: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö N —Å–æ–æ–±—â–µ–Ω–∏–π\n- TestClear: –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—á–∏—Å—Ç–∫–∏ —Å–µ—Å—Å–∏–π\n- TestExists: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Å–µ—Å—Å–∏–π\n- TestGetSessions: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ —Å–µ—Å—Å–∏–π\n- TestFormatValidation: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ —Ñ–∞–π–ª–æ–≤ (JSONL –∏ Markdown)\n- TestMultipleSessions: –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–æ–ª—è—Ü–∏–∏ —Ä–∞–∑–Ω—ã—Ö —Å–µ—Å—Å–∏–π\n- TestConcurrentOperations: –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π\n\n–ò—Å–ø—Ä–∞–≤–ª–µ–Ω –±–∞–≥ –≤ –ø–∞—Ä—Å–∏–Ω–≥–µ Markdown –¥–ª—è tool —Å–æ–æ–±—â–µ–Ω–∏–π. –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ (PASS), –ø–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ Memory store.","labels":["memory","tests","unit"]}
{"id":"Nexbot-z72","title":"v0.2.0 Release preparation","description":"# v0.2.0 Release preparation\n\n## Status\n**IN PROGRESS** - —á–∞—Å—Ç—å –∑–∞–¥–∞—á –≤—ã–ø–æ–ª–Ω–µ–Ω–∞, —á–∞—Å—Ç—å –≤ —Ä–∞–±–æ—Ç–µ\n\n## Completed (17 –∑–∞–¥–∞—á)\n### Implementation \u0026 Integration (10 –∑–∞–¥–∞—á)\n‚úì Nexbot-ci0: Subagent Manager implementation\n‚úì Nexbot-tew: Cron scheduler implementation\n‚úì Nexbot-2t7: Cron CLI commands\n‚úì Nexbot-5s5: Spawn tool implementation\n‚úì Nexbot-f1d: Background task execution (workers)\n‚úì Nexbot-oc9: HEARTBEAT.md support\n‚úì Nexbot-qfx: Configuration updates\n‚úì Nexbot-8wk: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è cron scheduler –≤ serve.go\n‚úì Nexbot-qyx: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è subagent manager\n‚úì Nexbot-inw: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è worker pool\n‚úì Nexbot-lko: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è spawn tool\n‚úì Nexbot-0bg: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è HEARTBEAT loader\n‚úì Nexbot-xrz: Worker pool connected to cron scheduler (bugfix)\n\n### Tests (2 –∑–∞–¥–∞—á–∏)\n‚úì Nexbot-165: Tests: Subagent coordination\n‚úì Nexbot-y1t: Tests: Cron scheduling\n\n### Config (1 –∑–∞–¥–∞—á–∞)\n‚úì Nexbot-269: –°–µ–∫—Ü–∏—è [heartbeat] –≤ config.example.toml\n\n### Documentation (1 –∑–∞–¥–∞—á–∞)\n‚úì Nexbot-8d8: Documentation updates\n\n### Deprecated (1 –∑–∞–¥–∞—á–∞)\n‚óã Nexbot-gea: –û–±–Ω–æ–≤–∏—Ç—å Architecture docs (DEPRECATED - –∑–∞–º–µ–Ω–µ–Ω–∞ –Ω–∞ Nexbot-h2l –∏ Nexbot-71z)\n\n## In Progress (10 –∑–∞–¥–∞—á)\n### Documentation Updates (7 –∑–∞–¥–∞—á)\n‚óã Nexbot-omj: –û–±–Ω–æ–≤–∏—Ç—å PROJECT_PLAN.md (–£–ñ–ï –æ—Ç–º–µ—á–µ–Ω –∫–∞–∫ COMPLETE)\n‚óã Nexbot-n4i: –°–æ–∑–¥–∞—Ç—å CHANGELOG.md (–£–ñ–ï –°–û–ó–î–ê–ù)\n‚óã Nexbot-vus: –û–±–Ω–æ–≤–∏—Ç—å README.md (–£–ñ–ï –°–û–î–ï–†–ñ–ò–¢ v0.2.0)\n‚óã Nexbot-db6: –û–±–Ω–æ–≤–∏—Ç—å QUICKSTART.md (–ù–ï –°–£–©–ï–°–¢–í–£–ï–¢)\n‚óã Nexbot-lm7: –û–±–Ω–æ–≤–∏—Ç—å CONFIG.md (–£–ñ–ï –°–û–î–ï–†–ñ–ò–¢ —Å–µ–∫—Ü–∏–∏ v0.2.0)\n‚óã Nexbot-fd2: –°–æ–∑–¥–∞—Ç—å QUICKSTART.md (–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞)\n‚óã Nexbot-h2l: –°–æ–∑–¥–∞—Ç—å docs/architecture/ (–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞)\n‚óã Nexbot-71z: –û–±–Ω–æ–≤–∏—Ç—å docs/ARCHITECTURE.md (–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞)\n\n### Build \u0026 QA (3 –∑–∞–¥–∞—á–∏)\n‚óã Nexbot-y78: –°–±–æ—Ä–∫–∞ –±–∏–Ω–∞—Ä–Ω–∏–∫–æ–≤ –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º\n‚óã Nexbot-x7k: Final QA Checklist\n‚óã Nexbot-lrp: –°–æ–∑–¥–∞–Ω–∏–µ GitHub Release\n\n## Release Checklist\n### Code Changes\n- [x] All features implemented and tested\n- [ ] All tests passing (make test)\n- [ ] Linter passing (make lint)\n- [ ] Code formatted (make fmt)\n- [ ] make ci –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ\n\n### Release Notes\n- [ ] Update PROJECT_PLAN.md (–£–ñ–ï –û–ë–ù–û–í–õ–ï–ù)\n- [ ] Update CHANGELOG.md (–£–ñ–ï –°–û–ó–î–ê–ù)\n\n### Documentation\n- [ ] README.md updated (–£–ñ–ï –°–û–î–ï–†–ñ–ò–¢ v0.2.0)\n- [ ] QUICKSTART.md created (–ù–£–ñ–ù–û –°–û–ó–î–ê–¢–¨ - Nexbot-fd2)\n- [ ] CONFIG.md updated (–£–ñ–ï –°–û–î–ï–†–ñ–ò–¢ v0.2.0)\n- [ ] Architecture docs updated (–ù–£–ñ–ù–û –û–ë–ù–û–í–ò–¢–¨ - Nexbot-h2l, Nexbot-71z)\n\n### Build \u0026 Test\n- [ ] Build all platforms: make build-all\n- [ ] Run full test suite: make ci\n- [ ] Manual testing:\n  - [ ] Cron add/list/remove –∫–æ–º–∞–Ω–¥—ã\n  - [ ] Spawn subagent\n  - [ ] HEARTBEAT –∑–∞–¥–∞—á–∏\n  - [ ] Background task execution\n\n### Git Release\n- [ ] Create tag: v0.2.0\n- [ ] Push tag to remote\n- [ ] Create GitHub release\n\n## Success Criteria\n- [ ] All code merged to main\n- [ ] All tests passing\n- [ ] All docs updated\n- [ ] Release created on GitHub\n- [ ] Binaries attached to release","notes":"–í—Å–µ –∑–∞–¥–∞—á–∏ v0.2.0 –≤—ã–ø–æ–ª–Ω–µ–Ω—ã: implementation, integration, tests, documentation, build \u0026 QA. Release –≥–æ—Ç–æ–≤ (GitHub release –ø—Ä–æ–ø—É—â–µ–Ω –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é).","status":"closed","priority":3,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-04T21:04:46.498571+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T20:27:50.987255+03:00","closed_at":"2026-02-05T20:27:50.98726+03:00","labels":["release"],"dependencies":[{"issue_id":"Nexbot-z72","depends_on_id":"Nexbot-tew","type":"blocks","created_at":"2026-02-04T21:05:26.853507+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-z72","depends_on_id":"Nexbot-2t7","type":"blocks","created_at":"2026-02-04T21:05:26.961407+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-z72","depends_on_id":"Nexbot-ci0","type":"blocks","created_at":"2026-02-04T21:05:27.068618+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-z72","depends_on_id":"Nexbot-5s5","type":"blocks","created_at":"2026-02-04T21:05:27.17869+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-z72","depends_on_id":"Nexbot-f1d","type":"blocks","created_at":"2026-02-04T21:05:27.283004+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-z72","depends_on_id":"Nexbot-oc9","type":"blocks","created_at":"2026-02-04T21:05:27.391954+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-z72","depends_on_id":"Nexbot-y1t","type":"blocks","created_at":"2026-02-04T21:05:27.502071+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-z72","depends_on_id":"Nexbot-165","type":"blocks","created_at":"2026-02-04T21:05:27.609871+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-z72","depends_on_id":"Nexbot-qfx","type":"blocks","created_at":"2026-02-04T21:05:27.720265+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-z72","depends_on_id":"Nexbot-8d8","type":"blocks","created_at":"2026-02-04T21:05:27.828462+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-z72","depends_on_id":"Nexbot-8wk","type":"blocks","created_at":"2026-02-05T12:58:34.485028+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-z72","depends_on_id":"Nexbot-qyx","type":"blocks","created_at":"2026-02-05T12:58:34.888708+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-z72","depends_on_id":"Nexbot-inw","type":"blocks","created_at":"2026-02-05T12:58:35.173893+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-z72","depends_on_id":"Nexbot-0bg","type":"blocks","created_at":"2026-02-05T12:58:35.50698+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-z72","depends_on_id":"Nexbot-lko","type":"blocks","created_at":"2026-02-05T12:58:35.90416+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-z72","depends_on_id":"Nexbot-269","type":"blocks","created_at":"2026-02-05T12:58:36.182991+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-z72","depends_on_id":"Nexbot-xrz","type":"blocks","created_at":"2026-02-05T12:58:36.794555+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-z72","depends_on_id":"Nexbot-omj","type":"blocks","created_at":"2026-02-05T12:59:50.560889+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-z72","depends_on_id":"Nexbot-n4i","type":"blocks","created_at":"2026-02-05T12:59:50.67525+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-z72","depends_on_id":"Nexbot-vus","type":"blocks","created_at":"2026-02-05T12:59:50.785766+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-z72","depends_on_id":"Nexbot-db6","type":"blocks","created_at":"2026-02-05T12:59:50.894775+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-z72","depends_on_id":"Nexbot-lm7","type":"blocks","created_at":"2026-02-05T12:59:51.012946+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-z72","depends_on_id":"Nexbot-y78","type":"blocks","created_at":"2026-02-05T12:59:51.075908+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-z72","depends_on_id":"Nexbot-gea","type":"blocks","created_at":"2026-02-05T12:59:51.112908+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-z72","depends_on_id":"Nexbot-x7k","type":"blocks","created_at":"2026-02-05T12:59:51.180499+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-z72","depends_on_id":"Nexbot-lrp","type":"blocks","created_at":"2026-02-05T12:59:51.281858+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-z72","depends_on_id":"Nexbot-fd2","type":"blocks","created_at":"2026-02-05T13:11:37.414666+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-z72","depends_on_id":"Nexbot-h2l","type":"blocks","created_at":"2026-02-05T13:11:37.581104+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"},{"issue_id":"Nexbot-z72","depends_on_id":"Nexbot-71z","type":"blocks","created_at":"2026-02-05T13:11:37.690175+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-zf5","title":"0.2.5.3.3: Implement Oneshot Ticker","description":"## –ó–∞–¥–∞—á–∞ 0.2.5.3.3: Implement Oneshot Ticker\n\n**–§–∞–∑–∞:** Extend Cron Scheduler\n\n**–¶–µ–ª—å:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É oneshot –∑–∞–¥–∞—á –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É\n\n**–§–∞–π–ª:** internal/cron/scheduler.go\n\n**–ú–µ—Ç–æ–¥—ã:**\n\nfunc (s *Scheduler) oneshotTicker()\nfunc (s *Scheduler) checkAndExecuteOneshots(now time.Time)\n\n**–õ–æ–≥–∏–∫–∞:**\n1. time.NewTicker(1 * time.Minute)\n2. –í –∫–∞–∂–¥–æ–º —Ç–∏–∫–µ:\n   - –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è\n   - –ü–µ—Ä–µ–±—Ä–∞—Ç—å –≤—Å–µ jobs\n   - –î–ª—è –∫–∞–∂–¥–æ–≥–æ oneshot:\n     - –ï—Å–ª–∏ execute_at \u003c= now AND executed == false\n       - –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É —á–µ—Ä–µ–∑ workerPool\n       - –û—Ç–º–µ—Ç–∏—Ç—å executed=true\n       - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å executed_at\n       - –ó–∞–ø–∏—Å–∞—Ç—å –≤ storage.Save(jobs)\n\n**","acceptance_criteria":"**\n- oneshotTicker –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è\n- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É\n- –í—ã–ø–æ–ª–Ω—è–µ—Ç overdue oneshot\n- –û—Ç–º–µ—á–∞–µ—Ç executed=true\n- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ storage\n- thread-safe\n- make fmt –ø—Ä–æ—Ö–æ–¥–∏—Ç\n\n**","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T12:07:35.78257+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T15:26:08.684005+03:00","closed_at":"2026-02-05T15:26:08.684005+03:00","close_reason":"–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω Oneshot Ticker:\n- –î–æ–±–∞–≤–ª–µ–Ω ticker –≤ Scheduler struct\n- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ oneshotTicker() —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É\n- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ checkAndExecuteOneshots() —Å –ª–æ–≥–∏–∫–æ–π:\n  * –ó–∞–≥—Ä—É–∂–∞–µ—Ç jobs –∏–∑ storage\n  * –í—ã–ø–æ–ª–Ω—è–µ—Ç oneshot —Å execute_at \u003c= now –∏ executed == false\n  * –û—Ç–º–µ—á–∞–µ—Ç executed=true –∏ executed_at\n  * –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ storage.Save()\n- Ticker –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ Start()\n- Ticker –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ Stop()\n- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è StorageJob –≤ Job –¥–ª—è executeJob\n\n–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: –∫–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è, fmt –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ","labels":["cron","phase3","scheduler"],"dependencies":[{"issue_id":"Nexbot-zf5","depends_on_id":"Nexbot-hly","type":"blocks","created_at":"2026-02-05T09:11:16Z","created_by":"AI Agent","metadata":"{}"}]}
{"id":"Nexbot-zmt","title":"–ò—Å–ø—Ä–∞–≤–∏—Ç—å –¥–≤–æ–π–Ω–æ–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∫–æ–º–∞–Ω–¥–µ /restart","description":"–ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∫–æ–º–∞–Ω–¥—ã /restart –±–æ—Ç –ø–∞–¥–∞–µ—Ç —Å panic, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è Restart() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–≤–∞–∂–¥—ã:\n1. –í message_processor.go (—Å—Ç—Ä–æ–∫–∏ 77-84) –≤ goroutine\n2. –í commands/handler.go handleRestart() —á–µ—Ä–µ–∑ onRestart callback\n\n–≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ race condition –∏ panic:\n- –ü–µ—Ä–≤—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ\n- –í—Ç–æ—Ä–æ–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—ã—Ç–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–∂–µ –∑–∞–∫—Ä—ã—Ç—ã–µ —Ä–µ—Å—É—Ä—Å—ã\n- –†–µ–∑—É–ª—å—Ç–∞—Ç: panic: runtime error: invalid memory address or nil pointer dereference\n\n**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**\n–£–±—Ä–∞—Ç—å –æ–¥–∏–Ω –∏–∑ –¥–≤—É—Ö –≤—ã–∑–æ–≤–æ–≤ Restart(). –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É–±—Ä–∞—Ç—å goroutine –∏–∑ message_processor.go (—Å—Ç—Ä–æ–∫–∏ 77-84), –ø–æ—Ç–æ–º—É —á—Ç–æ handleRestart —É–∂–µ –≤—ã–∑—ã–≤–∞–µ—Ç onRestart callback.\n\n**–§–∞–π–ª—ã:**\n- internal/app/message_processor.go (—Å—Ç—Ä–æ–∫–∏ 76-84)\n- internal/commands/handler.go (—Å—Ç—Ä–æ–∫–∏ 145-172)\n\n**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1 (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –±–∞–≥)","status":"closed","priority":1,"issue_type":"bug","owner":"AATumaykin@tsum.ru","created_at":"2026-02-05T18:50:39.32445+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-05T18:54:21.603905+03:00","closed_at":"2026-02-05T18:54:21.603905+03:00","close_reason":"–ò—Å–ø—Ä–∞–≤–ª–µ–Ω –±–∞–≥ –¥–≤–æ–π–Ω–æ–≥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏ –∫–æ–º–∞–Ω–¥–µ /restart\n\n–ü—Ä–æ–±–ª–µ–º–∞:\n- –§—É–Ω–∫—Ü–∏—è Restart() –≤—ã–∑—ã–≤–∞–ª–∞—Å—å –¥–≤–∞–∂–¥—ã –ø—Ä–∏ –∫–æ–º–∞–Ω–¥–µ /restart:\n  1. –í message_processor.go (—Å—Ç—Ä–æ–∫–∏ 77-84) –≤ goroutine –ø–æ—Å–ª–µ HandleCommand\n  2. –í commands/handler.go handleRestart() —á–µ—Ä–µ–∑ onRestart callback –≤–Ω—É—Ç—Ä–∏ HandleCommand\n\n–≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ race condition –∏ panic:\n- –ü–µ—Ä–≤—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–æ—Ö–æ–¥–∏–ª —É—Å–ø–µ—à–Ω–æ\n- –í—Ç–æ—Ä–æ–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—ã—Ç–∞–ª—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–∂–µ –∑–∞–∫—Ä—ã—Ç—ã–µ —Ä–µ—Å—É—Ä—Å—ã\n- –†–µ–∑—É–ª—å—Ç–∞—Ç: panic: runtime error: invalid memory address or nil pointer dereference\n\n–†–µ—à–µ–Ω–∏–µ:\n- –£–¥–∞–ª–µ–Ω–∞ goroutine —Å –≤—ã–∑–æ–≤–æ–º Restart() –≤ message_processor.go\n- handleRestart() —É–∂–µ –≤—ã–∑—ã–≤–∞–µ—Ç onRestart callback, –ø–æ—ç—Ç–æ–º—É –ø–µ—Ä–≤—ã–π –≤—ã–∑–æ–≤ –±—ã–ª –∏–∑–±—ã—Ç–æ—á–Ω—ã–º\n- –£–¥–∞–ª—ë–Ω –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∏–º–ø–æ—Ä—Ç constants\n\n–¢–µ–ø–µ—Ä—å –∫–æ–º–∞–Ω–¥–∞ /restart —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ Restart().","dependencies":[{"issue_id":"Nexbot-zmt","depends_on_id":"Nexbot-m7c","type":"blocks","created_at":"2026-02-05T18:50:48.214963+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
{"id":"Nexbot-znk","title":"Add template variable substitution to bootstrap content","description":"Implement template variable substitution for bootstrap files.\n\n**Requirements:**\n- Replace {{CURRENT_TIME}} with current time in format HH:MM:SS\n- Replace {{CURRENT_DATE}} with current date in format YYYY-MM-DD\n- Replace {{WORKSPACE_PATH}} with absolute workspace path\n- Support for custom variables (future extensibility)\n- Thread-safe for concurrent access\n\n**Acceptance Criteria:**\n- All template variables are substituted correctly\n- Time/date reflect actual current values\n- Workspace path is absolute and correct\n- No template placeholders remain in output\n- Tests verify substitution logic\n\n**Files to modify:**\n- internal/workspace/bootstrap.go (add SubstituteVariables method)\n\n**Related tasks:** Part of bootstrap loader implementation","status":"closed","priority":2,"issue_type":"task","owner":"AATumaykin@tsum.ru","estimated_minutes":45,"created_at":"2026-02-03T01:47:20.256754+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω","updated_at":"2026-02-03T02:01:48.827535+03:00","closed_at":"2026-02-03T02:01:48.827535+03:00","close_reason":"Template variable substitution —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ —Ä–∞–º–∫–∞—Ö –∑–∞–¥–∞—á–∏ Nexbot-kju\n\n–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (–≤ internal/workspace/bootstrap.go, –º–µ—Ç–æ–¥ substituteVariables):\n- Replace {{CURRENT_TIME}} —Å —Ç–µ–∫—É—â–∏–º –≤—Ä–µ–º–µ–Ω–µ–º –≤ —Ñ–æ—Ä–º–∞—Ç–µ HH:MM:SS ‚úì\n- Replace {{CURRENT_DATE}} —Å —Ç–µ–∫—É—â–µ–π –¥–∞—Ç–æ–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ YYYY-MM-DD ‚úì\n- Replace {{WORKSPACE_PATH}} —Å –∞–±—Å–æ–ª—é—Ç–Ω—ã–º –ø—É—Ç–µ–º workspace ‚úì\n- Support for custom variables (future extensibility) ‚úì - –º–µ—Ç–æ–¥ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ–º\n- Thread-safe –¥–ª—è concurrent access ‚úì - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —á—Ç–µ–Ω–∏–µ –∏–∑ bl.workspace\n\n–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:\n- TestSubstituteVariables —Å –ø–æ–¥—Ç–µ—Å—Ç–∞–º–∏ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö ‚úì\n- TestSubstituteVariables/CURRENT_TIME_substitution ‚úì\n- TestSubstituteVariables/CURRENT_DATE_substitution ‚úì\n- TestSubstituteVariables/WORKSPACE_PATH_substitution ‚úì\n- TestSubstituteVariables/multiple_substitutions ‚úì\n- –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –≤—Å–µ template variables –∑–∞–º–µ–Ω—è—é—Ç—Å—è ‚úì\n- –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –≤ output –Ω–µ –æ—Å—Ç–∞—é—Ç—Å—è placeholder'—ã ‚úì\n\n–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã.","dependencies":[{"issue_id":"Nexbot-znk","depends_on_id":"Nexbot-kju","type":"related","created_at":"2026-02-03T01:47:58.432596+03:00","created_by":"–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –¢—É–º–∞–π–∫–∏–Ω"}]}
