# Ключевые решения

## Описание
Секция содержит таблицу с пятью ключевыми архитектурными решениями и их обоснованиями. Каждое решение объясняет, почему выбран именно такой подход.

## Ключевые элементы
- **Один бинарник**: Не нужно пересобирать Docker-образ при изменениях кода — достаточно пересобрать и заменить бинарник на хосте
- **Cobra subcommand**: Консистентно с текущей структурой `cmd/nexbot/` (уже используется для serve), упрощает CLI
- **alpine:3.23 + volume mounts**: Минимальный размер образа (~5MB), бинарник подменяется на хосте без пересборки образа
- **Поддиректории main/subagent**: Консистентная структура workspace, чёткое разделение контекстов
- **Один AGENTS.md для сабагента**: Упрощение — identity и security промпты объединены в один файл

## Связи с другими секциями
- Связана с **01-overview.md** — детализирует концепцию
- Связана с **02-architecture.md** — обосновывает архитектурный выбор
- Связана с **04-file-structure.md** — определяет изменения структуры
- Связана с **05-implementation-stages.md** — Этап 3 (Subcommand)

## Практические выводы
1. Создать `cmd/nexbot/subagent.go` с Cobra subcommand
2. Объединить `prompts/identity.md` и `prompts/security.md` в `docs/workspace/subagent/AGENTS.md`
3. Использовать alpine:3.23 как базовый образ для контейнеров
4. Структурировать workspace с поддиректориями main/ и subagent/
