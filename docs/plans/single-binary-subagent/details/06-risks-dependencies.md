# Риски и зависимости

## Описание
Секция описывает потенциальные риски реализации с митигацией, а также список того, что отменяется в рамках рефакторинга. Указывает, что новых зависимостей не требуется.

## Ключевые элементы

### Риски и митигация
| Риск | Митигация |
| --- | --- |
| Бинарник не найден | `os.Executable()` + fallback + понятная ошибка |
| Volume mount не работает | Проверка прав доступа + логирование |
| Промпты не найдены в workspace | go:embed fallback defaults |

### Зависимости
- Без новых зависимостей — используется существующий Docker SDK

### Что отменяется
- Сборка Docker-образа `nexbot/subagent`
- Push образа в registry
- Multi-stage Dockerfile для сабагента
- CI/CD для Docker-образа

## Связи с другими секциями
- Связана с **02-architecture.md** — риски связаны с архитектурой
- Связана с **05-implementation-stages.md**:
  - Этап 2: go:embed fallback (митигация риска с промптами)
  - Этап 4: os.Executable() (митигация риска с бинарником)
  - Этап 6: удаление Dockerfile.subagent и связанных команд

## Практические выводы
1. Реализовать `os.Executable()` с понятным сообщением об ошибке если бинарник не найден
2. Добавить проверку прав доступа для volume mounts
3. Встроить default промпты через `//go:embed` в bootstrap.go
4. Удалить все скрипты и команды для сборки Docker-образа сабагента
5. Упростить CI/CD pipeline
