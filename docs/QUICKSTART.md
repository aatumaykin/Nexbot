# Nexbot Quick Start

–ë—ã—Å—Ç—Ä–æ–µ –Ω–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã —Å Nexbot –∑–∞ 5 –º–∏–Ω—É—Ç.

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ (5 –º–∏–Ω—É—Ç)

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞ (2 –º–∏–Ω—É—Ç—ã)

```bash
# –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–µ–ª–∏–∑
curl -L https://github.com/aatumaykin/nexbot/releases/latest/download/nexbot-$(uname -s)-$(uname -m) -o nexbot

# –°–¥–µ–ª–∞—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x nexbot

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ PATH
sudo mv nexbot /usr/local/bin/
```

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–µ–π (2 –º–∏–Ω—É—Ç—ã)

**Z.ai API –∫–ª—é—á:**
1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ [Z.ai](https://z.ai)
2. –°–æ–∑–¥–∞—Ç—å API –∫–ª—é—á (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `zai-` –∏–ª–∏ `sk-`)

**Telegram Bot —Ç–æ–∫–µ–Ω:**
1. –í Telegram –Ω–∞–π—Ç–∏ [@BotFather](https://t.me/BotFather)
2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å `/newbot`
3. –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω (—Ñ–æ—Ä–º–∞—Ç: `1234567890:ABCdefGHIjklMNOpqrsTUVwxyz`)

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (30 —Å–µ–∫—É–Ω–¥)

```bash
# –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
mkdir -p ~/.nexbot

# –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥
cat > ~/.nexbot/config.toml << 'EOF'
[workspace]
path = "~/.nexbot"

[llm]
provider = "zai"

[llm.zai]
api_key = "${ZAI_API_KEY}"
base_url = "https://api.z.ai/api/coding/paas/v4"
model = "glm-4.7-flash"

[channels.telegram]
enabled = true
token = "${TELEGRAM_BOT_TOKEN}"

[cron]
enabled = true
timezone = "UTC"
jobs_file = "jobs.json"

[subagent]
enabled = true
max_concurrent = 10
timeout_seconds = 300
session_prefix = "subagent-"

[workers]
pool_size = 5
queue_size = 100

[heartbeat]
enabled = true
check_interval_minutes = 30

[logging]
level = "info"
EOF

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
export ZAI_API_KEY="–≤–∞—à-zai-–∫–ª—é—á"
export TELEGRAM_BOT_TOKEN="–≤–∞—à-telegram-—Ç–æ–∫–µ–Ω"
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ (30 —Å–µ–∫—É–Ω–¥)

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
nexbot config validate

# –ó–∞–ø—É—Å—Ç–∏—Ç—å
nexbot serve
```

## üí¨ –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ BotFather

1. –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–∞, –Ω–∞–π–¥–∏—Ç–µ –µ–≥–æ –≤ Telegram –ø–æ username
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: `–ü—Ä–∏–≤–µ—Ç, –∫—Ç–æ —Ç—ã?`
3. –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

–ü—Ä–æ—Å—Ç–æ –æ–±—â–∞–π—Ç–µ—Å—å —Å –±–æ—Ç–æ–º –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ:

```
–ü—Ä–∏–≤–µ—Ç, –∫—Ç–æ —Ç—ã?
–ü—Ä–æ—á–∏—Ç–∞–π —Ñ–∞–π–ª config.toml
–í—ã–ø–æ–ª–Ω–∏: ls -la
–°–æ–∑–¥–∞–π —Ñ–∞–π–ª test.txt —Å —Ç–µ–∫—Å—Ç–æ–º "Hello World"
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è v0.2.0

### –ù–æ–≤—ã–µ —Å–µ–∫—Ü–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**Cron Scheduler:**
```toml
[cron]
enabled = true              # –í–∫–ª—é—á–∏—Ç—å cron –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫
timezone = "UTC"           # –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
jobs_file = "jobs.json"    # –§–∞–π–ª –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á
```

**Subagent Manager:**
```toml
[subagent]
enabled = true              # –í–∫–ª—é—á–∏—Ç—å subagent spawning
max_concurrent = 10         # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö subagents
timeout_seconds = 300      # –¢–∞–π–º–∞—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5 –º–∏–Ω—É—Ç)
session_prefix = "subagent-"  # –ü—Ä–µ—Ñ–∏–∫—Å –¥–ª—è session ID
```

**Worker Pool:**
```toml
[workers]
pool_size = 5              # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ—Ä–∫–µ—Ä–æ–≤ –≤ –ø—É–ª–µ
queue_size = 100            # –†–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ –æ—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á
```

**HEARTBEAT:**
```toml
[heartbeat]
enabled = true              # –í–∫–ª—é—á–∏—Ç—å HEARTBEAT –ø—Ä–æ–≤–µ—Ä–∫—É
check_interval_minutes = 30  # –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–æ–∫ –≤ –º–∏–Ω—É—Ç–∞—Ö
```

```
–ü—Ä–∏–≤–µ—Ç, –∫—Ç–æ —Ç—ã?
–ü—Ä–æ—á–∏—Ç–∞–π —Ñ–∞–π–ª config.toml
–í—ã–ø–æ–ª–Ω–∏: ls -la
–°–æ–∑–¥–∞–π —Ñ–∞–π–ª test.txt —Å —Ç–µ–∫—Å—Ç–æ–º "Hello World"
```

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (Tools)

**–§–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:**
```
–ü—Ä–æ—á–∏—Ç–∞–π —Ñ–∞–π–ª ~/.nexbot/config.toml
–°–æ–∑–¥–∞–π —Ñ–∞–π–ª notes.md
–î–æ–±–∞–≤—å –≤ notes.md —Å—Ç—Ä–æ–∫—É "–ù–æ–≤–∞—è –∑–∞–º–µ—Ç–∫–∞"
–ü–æ–∫–∞–∂–∏ —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –≤ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
```

**Shell –∫–æ–º–∞–Ω–¥—ã:**
```
–í—ã–ø–æ–ª–Ω–∏: pwd
–í—ã–ø–æ–ª–Ω–∏: ls -la
–ü–æ–∫–∞–∂–∏ —Å—Ç–∞—Ç—É—Å git
```

## ‚è∞ Cron –∫–æ–º–∞–Ω–¥—ã

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é.

### Cron CLI –∫–æ–º–∞–Ω–¥—ã

–ù–∞—á–∏–Ω–∞—è —Å v0.2.0, –º–æ–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å cron –∑–∞–¥–∞—á–∞–º–∏ —á–µ—Ä–µ–∑ CLI:

```bash
# –î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∑–∞–¥–∞—á—É
nexbot cron add --schedule "0 9 * * *" --command "Daily health check"

# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
nexbot cron list

# –£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É –ø–æ ID
nexbot cron remove job_12345
```

**–ü—Ä–∏–º–µ—Ä—ã cron –≤—ã—Ä–∞–∂–µ–Ω–∏–π:**

```bash
# –ö–∞–∂–¥—ã–π —á–∞—Å
nexbot cron add --schedule "0 * * * *" --command "Run hourly status check"

# –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 9:00
nexbot cron add --schedule "0 9 * * *" --command "Morning health check"

# –ö–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
nexbot cron add --schedule "*/5 * * * *" --command "Check system status"

# –ö–∞–∂–¥—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –≤ 10:00
nexbot cron add --schedule "0 10 * * 1" --command "Weekly report"

# –ö–∞–∂–¥–æ–µ –ø–µ—Ä–≤–æ–µ —á–∏—Å–ª–æ –º–µ—Å—è—Ü–∞ –≤ 3:00
nexbot cron add --schedule "0 3 1 * *" --command "Monthly backup"
```

### –°–æ–∑–¥–∞–Ω–∏–µ jobs.json (legacy —Ñ–æ—Ä–º–∞—Ç)

–î–ª—è —Ä—É—á–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JSON —Ñ–∞–π–ª:

```bash
cat > ~/.nexbot/jobs.json << 'EOF'
{
  "jobs": [
    {
      "name": "daily-backup",
      "cron": "0 3 * * *",
      "description": "–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±—ç–∫–∞–ø –≤ 3:00",
      "enabled": true
    }
  ]
}
EOF
```

### –§–æ—Ä–º–∞—Ç Cron –≤—ã—Ä–∞–∂–µ–Ω–∏–π

```
* * * * *
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îÇ
‚îÇ ‚îÇ ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ –î–µ–Ω—å –Ω–µ–¥–µ–ª–∏ (0-7, 0 –∏ 7 = –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ)
‚îÇ ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –ú–µ—Å—è—Ü (1-12)
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –î–µ–Ω—å –º–µ—Å—è—Ü–∞ (1-31)
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –ß–∞—Å (0-23)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –ú–∏–Ω—É—Ç–∞ (0-59)
```

### –ß–∞—Å—Ç—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è

| –í—ã—Ä–∞–∂–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|----------|
| `*/5 * * * *` | –ö–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç |
| `0 * * * *` | –ö–∞–∂–¥—ã–π —á–∞—Å |
| `0 0 * * *` | –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ –ø–æ–ª–Ω–æ—á—å |
| `0 3 * * *` | –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 3:00 |
| `0 9 * * 1` | –ö–∞–∂–¥—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –≤ 9:00 |
| `30 11 * * 1-5` | –í –±—É–¥–Ω–∏ –≤ 11:30 |
| `0 0 1 * *` | –ü–µ—Ä–≤–æ–µ —á–∏—Å–ª–æ –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞ |

## üß¨ Spawn Subagent

–°–æ–∑–¥–∞–Ω–∏–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤ –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á.

### –í–∫–ª—é—á–µ–Ω–∏–µ Subagent

–î–æ–±–∞–≤—å—Ç–µ –≤ `~/.nexbot/config.toml`:

```toml
[subagent]
enabled = true
max_concurrent = 10
timeout_seconds = 300
session_prefix = "subagent-"
```

### –ü—Ä–∏–º–µ—Ä –¥–∏–∞–ª–æ–≥–∞ —Å spawn tool

```
–í—ã: –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞ –¥–ª—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è ~/projects/myapp

Bot: –•–æ—Ä–æ—à–æ, —è —Å–æ–∑–¥–∞–º subagent –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞.

[Bot –∏—Å–ø–æ–ª—å–∑—É–µ—Ç spawn tool]
spawn_task: "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞ –≤ ~/projects/myapp:
1. –ü—Ä–æ—á–∏—Ç–∞–π –≤—Å–µ .go —Ñ–∞–π–ª—ã
2. –ü—Ä–æ–≤–µ—Ä—å —Å–æ–±–ª—é–¥–µ–Ω–∏–µ go best practices
3. –ù–∞–π–¥–∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
4. –í–µ—Ä–Ω–∏ –æ—Ç—á—ë—Ç"

[Subagent –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–¥–∞—á—É –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ]

Subagent: –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞ –∑–∞–≤–µ—Ä—à—ë–Ω. –ù–∞–π–¥–µ–Ω–æ:
- 25 .go —Ñ–∞–π–ª–æ–≤
- 3 –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—à–∏–±–æ–∫
- 1 –ø—Ä–æ–±–ª–µ–º–∞ —Å –∏–º–ø–æ—Ä—Ç–∞–º–∏
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –¥–æ–±–∞–≤–∏—Ç—å context cancellation –¥–ª—è –¥–æ–ª–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

Bot: –ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞ –∑–∞–≤–µ—Ä—à—ë–Ω. Subagent –Ω–∞—à—ë–ª 25 .go —Ñ–∞–π–ª–æ–≤ –∏ –æ–±–Ω–∞—Ä—É–∂–∏–ª 3 –ø—Ä–æ–±–ª–µ–º—ã —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫. –û—Å–Ω–æ–≤–Ω–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –¥–æ–±–∞–≤–∏—Ç—å context cancellation –¥–ª—è –¥–æ–ª–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.
```

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä 1: –ê–Ω–∞–ª–∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**

```
–ò—Å–ø–æ–ª—å–∑—É–π spawn –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è subagent:
1. –°–∫–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π https://github.com/user/repo.git
2. –ù–∞–π–¥–∏ –≤—Å–µ .go —Ñ–∞–π–ª—ã
3. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–∫–µ—Ç–æ–≤
4. –í–µ—Ä–Ω–∏ –æ—Ç—á—ë—Ç –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ
```

**–ü—Ä–∏–º–µ—Ä 2: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤**

```
–°–æ–∑–¥–∞–π subagent –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:
- –ß–∏—Ç–∞–π ~/.nexbot/nexbot.log
- –ò—â–∏ –æ—à–∏–±–∫–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å
- –°—É–º–º–∏—Ä—É–π –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏
- –û—Ç–ø—Ä–∞–≤—å –æ—Ç—á—ë—Ç
```

**–ü—Ä–∏–º–µ—Ä 3: –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**

```
–°–æ–∑–¥–∞–π subagent –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–æ–≤:
- –ü—Ä–æ–π–¥–∏ –ø–æ –≤—Å–µ–º —Ñ–∞–π–ª–∞–º –≤ ~/Documents
- –ü—Ä–æ—á–∏—Ç–∞–π –∫–∞–∂–¥—ã–π .txt —Ñ–∞–π–ª
- –ò–∑–≤–ª–µ–∫–∏ –∫–ª—é—á–µ–≤—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
- –í–µ—Ä–Ω–∏ —Å–≤–æ–¥–∫—É
```

## üíì HEARTBEAT –ó–∞–¥–∞—á–∏

–°–∏—Å—Ç–µ–º–∞ health check –∏ proactive –∑–∞–¥–∞—á.

### –°–æ–∑–¥–∞–Ω–∏–µ HEARTBEAT.md

```bash
cat > ~/.nexbot/HEARTBEAT.md << 'EOF'
---
interval: 300
description: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã
---

–í—ã–ø–æ–ª–Ω–∏ –ø–æ–ª–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–ª—É–∂–±
   - –ü—Ä–æ–≤–µ—Ä—å —Ä–∞–±–æ—Ç—É SSH
   - –ü—Ä–æ–≤–µ—Ä—å —Ä–∞–±–æ—Ç—É HTTP —Å–µ—Ä–≤–µ—Ä–∞
   - –ü—Ä–æ–≤–µ—Ä—å —Ä–∞–±–æ—Ç—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

2. –ü—Ä–æ–≤–µ—Ä—å –¥–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
   - –ü—Ä–æ–≤–µ—Ä—å —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ –Ω–∞ /
   - –ü—Ä–æ–≤–µ—Ä—å —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ –≤ /home
   - –ü—Ä–µ–¥—É–ø—Ä–µ–¥–∏, –µ—Å–ª–∏ —Å–≤–æ–±–æ–¥–Ω–æ < 20%

3. –ü—Ä–æ–≤–µ—Ä—å –Ω–∞–≥—Ä—É–∑–∫—É —Å–∏—Å—Ç–µ–º—ã
   - CPU –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
   - –ü–∞–º—è—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
   - I/O wait

4. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π –æ—Ç—á—ë—Ç
   - –û–±—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (OK/WARNING/CRITICAL)
   - –î–µ—Ç–∞–ª–∏ –ø–æ –∫–∞–∂–¥–æ–º—É –ø—É–Ω–∫—Ç—É
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é –ø—Ä–æ–±–ª–µ–º
EOF
```

### –§–æ—Ä–º–∞—Ç HEARTBEAT

```yaml
---
interval: 300              # –ò–Ω—Ç–µ—Ä–≤–∞–ª –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (300 = 5 –º–∏–Ω—É—Ç)
description: –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
---

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è...
```

### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–¥–∞—á

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –±—ç–∫–∞–ø–æ–≤:**

```markdown
---
interval: 86400
description: –ü—Ä–æ–≤–µ—Ä–∫–∞ –±—ç–∫–∞–ø–æ–≤
---

–ü—Ä–æ–≤–µ—Ä—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤:
1. –ü—Ä–æ–≤–µ—Ä—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –±—ç–∫–∞–ø–æ–≤
2. –ü—Ä–æ–≤–µ—Ä—å —Ä–∞–∑–º–µ—Ä –±—ç–∫–∞–ø–æ–≤
3. –ü—Ä–æ–≤–µ—Ä—å –¥–∞—Ç—É –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –±—ç–∫–∞–ø–∞
4. –°–æ–æ–±—â–∏, –µ—Å–ª–∏ –±—ç–∫–∞–ø—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∏–ª–∏ —Å—Ç–∞—Ä—ã–µ (>7 –¥–Ω–µ–π)
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤:**

```markdown
---
interval: 3600
description: –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
---

–ü—Ä–æ–≤–µ—Ä—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã:
1. –ü—Ä–æ–≤–µ—Ä—å —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –¥–ª—è example.com
2. –ü—Ä–æ–≤–µ—Ä—å —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –¥–ª—è api.example.com
3. –°–æ–æ–±—â–∏, –µ—Å–ª–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∏—Å—Ç–µ–∫–∞—é—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ 30 –¥–Ω–µ–π
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞:**

```markdown
---
interval: 600
description: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏—Å–∫–∞
---

–ü—Ä–æ–≤–µ—Ä—å –¥–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ:
1. –ü—Ä–æ–≤–µ—Ä—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ /
2. –ü—Ä–æ–≤–µ—Ä—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ /home
3. –ü—Ä–æ–≤–µ—Ä—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ /var
4. –°–æ–æ–±—â–∏, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ > 80%
```

## üîß Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: "telegram token is required"

**–†–µ—à–µ–Ω–∏–µ:**
- –ó–∞–º–µ–Ω–∏—Ç–µ `–í–ê–®_TELEGRAM_BOT_TOKEN_–ó–î–ï–°–¨` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `${TELEGRAM_BOT_TOKEN}`

### –ü—Ä–æ–±–ª–µ–º–∞: "Z.ai API key is required"

**–†–µ—à–µ–Ω–∏–µ:**
- –ó–∞–º–µ–Ω–∏—Ç–µ `–í–ê–®_ZAI_API_–ö–õ–Æ–ß_–ó–î–ï–°–¨` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π API –∫–ª—é—á
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è: `export ZAI_API_KEY="–≤–∞—à-–∫–ª—é—á"`

### –ü—Ä–æ–±–ª–µ–º–∞: "Authentication error"

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ API –∫–ª—é—á –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏ –Ω–µ –∏—Å—Ç—ë–∫
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π base_url: `https://api.z.ai/api/coding/paas/v4`

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω:
   ```bash
   ps aux | grep nexbot
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
   ```bash
   tail -50 ~/.nexbot/nexbot.log
   ```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
   ```bash
   nexbot config validate
   ```

4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Telegram:
   ```bash
   curl https://api.telegram.org/bot<–í–ê–®_–¢–û–ö–ï–ù>/getMe
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: Cron –∑–∞–¥–∞—á–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ cron –≤–∫–ª—é—á—ë–Ω:
   ```toml
   [cron]
   enabled = true
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª jobs.json:
   ```bash
   cat ~/.nexbot/jobs.json
   ```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å cron –≤—ã—Ä–∞–∂–µ–Ω–∏–π
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:
   ```bash
   grep "cron" ~/.nexbot/nexbot.log
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: Subagent –Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ subagent –≤–∫–ª—é—á—ë–Ω:
   ```toml
   [subagent]
   enabled = true
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–∏–º–∏—Ç—ã:
   ```toml
   [subagent]
   max_concurrent = 10
   ```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏ —Å–æ–∑–¥–∞–Ω–∏—è subagent

### –ü—Ä–æ–±–ª–µ–º–∞: HEARTBEAT –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª HEARTBEAT.md —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ `~/.nexbot/`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç frontmatter (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω—ã–π YAML)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
   ```toml
   [heartbeat]
   enabled = true
   check_interval_minutes = 10
   ```

4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
   ```bash
   grep "HEARTBEAT" ~/.nexbot/nexbot.log
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: "Permission denied" –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ

**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `sudo make install`
- –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤ –¥–æ–º–∞—à–Ω—é—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é: `make install-user`

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–º–∞–Ω–¥—ã –∑–∞–ø—Ä–µ—â–µ–Ω—ã

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—ã –≤ `allowed_commands` –≤ –∫–æ–Ω—Ñ–∏–≥–µ:
  ```toml
  [tools.shell]
  allowed_commands = ["ls", "cat", "grep", "find", "cd", "pwd", "echo", "date", "git"]
  ```

### –ü—Ä–æ–±–ª–µ–º–∞: –î–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–∞–º –∑–∞–ø—Ä–µ—â—ë–Ω

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤—å—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –≤ `whitelist_dirs`:
  ```toml
  [tools.file]
  whitelist_dirs = ["~/.nexbot", "~/projects", "~/Documents"]
  ```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- **[–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](README.md)** ‚Äî –ø–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- **[–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](CONFIGURATION.md)** ‚Äî –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- **[–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](ARCHITECTURE.md)** ‚Äî —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å–∏—Å—Ç–µ–º—ã
- **[–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞](DEVELOPMENT.md)** ‚Äî –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- **[–ü—Ä–∏–º–µ—Ä—ã](EXAMPLES.md)** ‚Äî –±–æ–ª—å—à–µ –ø—Ä–∏–º–µ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## üÜò –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–º–æ—â–∏

- GitHub Issues: [https://github.com/aatumaykin/nexbot/issues](https://github.com/aatumaykin/nexbot/issues)
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [https://github.com/aatumaykin/nexbot/tree/main/docs](https://github.com/aatumaykin/nexbot/tree/main/docs)

---

**Happy coding with Nexbot!** üöÄ
